var ME=t=>{throw TypeError(t)};var ov=(t,e,n)=>e.has(t)||ME("Cannot "+n);var M=(t,e,n)=>(ov(t,e,"read from private field"),n?n.call(t):e.get(t)),ge=(t,e,n)=>e.has(t)?ME("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),re=(t,e,n,r)=>(ov(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ae=(t,e,n)=>(ov(t,e,"access private method"),n);var tf=(t,e,n,r)=>({set _(s){re(t,e,s,n)},get _(){return M(t,e,r)}});function MM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function LM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var ck={exports:{}},Dm={},uk={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh=Symbol.for("react.element"),FM=Symbol.for("react.portal"),VM=Symbol.for("react.fragment"),UM=Symbol.for("react.strict_mode"),$M=Symbol.for("react.profiler"),BM=Symbol.for("react.provider"),zM=Symbol.for("react.context"),WM=Symbol.for("react.forward_ref"),HM=Symbol.for("react.suspense"),qM=Symbol.for("react.memo"),KM=Symbol.for("react.lazy"),LE=Symbol.iterator;function GM(t){return t===null||typeof t!="object"?null:(t=LE&&t[LE]||t["@@iterator"],typeof t=="function"?t:null)}var dk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hk=Object.assign,fk={};function Tc(t,e,n){this.props=t,this.context=e,this.refs=fk,this.updater=n||dk}Tc.prototype.isReactComponent={};Tc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pk(){}pk.prototype=Tc.prototype;function Fw(t,e,n){this.props=t,this.context=e,this.refs=fk,this.updater=n||dk}var Vw=Fw.prototype=new pk;Vw.constructor=Fw;hk(Vw,Tc.prototype);Vw.isPureReactComponent=!0;var FE=Array.isArray,mk=Object.prototype.hasOwnProperty,Uw={current:null},gk={key:!0,ref:!0,__self:!0,__source:!0};function vk(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)mk.call(e,r)&&!gk.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:nh,type:t,key:i,ref:o,props:s,_owner:Uw.current}}function QM(t,e){return{$$typeof:nh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $w(t){return typeof t=="object"&&t!==null&&t.$$typeof===nh}function YM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var VE=/\/+/g;function av(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YM(""+t.key):e.toString(36)}function Vf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nh:case FM:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+av(o,0):r,FE(s)?(n="",t!=null&&(n=t.replace(VE,"$&/")+"/"),Vf(s,e,n,"",function(c){return c})):s!=null&&($w(s)&&(s=QM(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(VE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",FE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+av(i,a);o+=Vf(i,e,n,l,s)}else if(l=GM(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+av(i,a++),o+=Vf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nf(t,e,n){if(t==null)return t;var r=[],s=0;return Vf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ZM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cn={current:null},Uf={transition:null},JM={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:Uf,ReactCurrentOwner:Uw};function yk(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:nf,forEach:function(t,e,n){nf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nf(t,function(){e++}),e},toArray:function(t){return nf(t,function(e){return e})||[]},only:function(t){if(!$w(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Tc;De.Fragment=VM;De.Profiler=$M;De.PureComponent=Fw;De.StrictMode=UM;De.Suspense=HM;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JM;De.act=yk;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hk({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Uw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)mk.call(e,l)&&!gk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:nh,type:t.type,key:s,ref:i,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:zM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BM,_context:t},t.Consumer=t};De.createElement=vk;De.createFactory=function(t){var e=vk.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:WM,render:t}};De.isValidElement=$w;De.lazy=function(t){return{$$typeof:KM,_payload:{_status:-1,_result:t},_init:ZM}};De.memo=function(t,e){return{$$typeof:qM,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=Uf.transition;Uf.transition={};try{t()}finally{Uf.transition=e}};De.unstable_act=yk;De.useCallback=function(t,e){return Cn.current.useCallback(t,e)};De.useContext=function(t){return Cn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Cn.current.useDeferredValue(t)};De.useEffect=function(t,e){return Cn.current.useEffect(t,e)};De.useId=function(){return Cn.current.useId()};De.useImperativeHandle=function(t,e,n){return Cn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return Cn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return Cn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return Cn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return Cn.current.useReducer(t,e,n)};De.useRef=function(t){return Cn.current.useRef(t)};De.useState=function(t){return Cn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return Cn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return Cn.current.useTransition()};De.version="18.3.1";uk.exports=De;var v=uk.exports;const be=lk(v),_k=MM({__proto__:null,default:be},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XM=v,eL=Symbol.for("react.element"),tL=Symbol.for("react.fragment"),nL=Object.prototype.hasOwnProperty,rL=XM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sL={key:!0,ref:!0,__self:!0,__source:!0};function wk(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nL.call(e,r)&&!sL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:eL,type:t,key:i,ref:o,props:s,_owner:rL.current}}Dm.Fragment=tL;Dm.jsx=wk;Dm.jsxs=wk;ck.exports=Dm;var h=ck.exports,xk={exports:{}},or={},bk={exports:{}},Ek={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,z){var X=F.length;F.push(z);e:for(;0<X;){var ue=X-1>>>1,Ee=F[ue];if(0<s(Ee,z))F[ue]=z,F[X]=Ee,X=ue;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var z=F[0],X=F.pop();if(X!==z){F[0]=X;e:for(var ue=0,Ee=F.length,Ue=Ee>>>1;ue<Ue;){var It=2*(ue+1)-1,rn=F[It],Pt=It+1,bt=F[Pt];if(0>s(rn,X))Pt<Ee&&0>s(bt,rn)?(F[ue]=bt,F[Pt]=X,ue=Pt):(F[ue]=rn,F[It]=X,ue=It);else if(Pt<Ee&&0>s(bt,X))F[ue]=bt,F[Pt]=X,ue=Pt;else break e}}return z}function s(F,z){var X=F.sortIndex-z.sortIndex;return X!==0?X:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=F)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function k(F){if(w=!1,T(F),!y)if(n(l)!==null)y=!0,ae(D);else{var z=n(c);z!==null&&K(k,z.startTime-F)}}function D(F,z){y=!1,w&&(w=!1,b(S),S=-1),g=!0;var X=p;try{for(T(z),f=n(l);f!==null&&(!(f.expirationTime>z)||F&&!O());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,p=f.priorityLevel;var Ee=ue(f.expirationTime<=z);z=t.unstable_now(),typeof Ee=="function"?f.callback=Ee:f===n(l)&&r(l),T(z)}else r(l);f=n(l)}if(f!==null)var Ue=!0;else{var It=n(c);It!==null&&K(k,It.startTime-z),Ue=!1}return Ue}finally{f=null,p=X,g=!1}}var L=!1,C=null,S=-1,I=5,R=-1;function O(){return!(t.unstable_now()-R<I)}function N(){if(C!==null){var F=t.unstable_now();R=F;var z=!0;try{z=C(!0,F)}finally{z?A():(L=!1,C=null)}}else L=!1}var A;if(typeof x=="function")A=function(){x(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,le=H.port2;H.port1.onmessage=N,A=function(){le.postMessage(null)}}else A=function(){E(N,0)};function ae(F){C=F,L||(L=!0,A())}function K(F,z){S=E(function(){F(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,ae(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var X=p;p=z;try{return F()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=p;p=F;try{return z()}finally{p=X}},t.unstable_scheduleCallback=function(F,z,X){var ue=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ue+X:ue):X=ue,F){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=X+Ee,F={id:d++,callback:z,priorityLevel:F,startTime:X,expirationTime:Ee,sortIndex:-1},X>ue?(F.sortIndex=X,e(c,F),n(l)===null&&F===n(c)&&(w?(b(S),S=-1):w=!0,K(k,X-ue))):(F.sortIndex=Ee,e(l,F),y||g||(y=!0,ae(D))),F},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(F){var z=p;return function(){var X=p;p=z;try{return F.apply(this,arguments)}finally{p=X}}}})(Ek);bk.exports=Ek;var iL=bk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oL=v,sr=iL;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tk=new Set,sd={};function Oa(t,e){Xl(t,e),Xl(t+"Capture",e)}function Xl(t,e){for(sd[t]=e,t=0;t<e.length;t++)Tk.add(e[t])}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ey=Object.prototype.hasOwnProperty,aL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UE={},$E={};function lL(t){return Ey.call($E,t)?!0:Ey.call(UE,t)?!1:aL.test(t)?$E[t]=!0:(UE[t]=!0,!1)}function cL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uL(t,e,n,r){if(e===null||typeof e>"u"||cL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new kn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new kn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new kn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new kn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new kn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new kn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new kn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new kn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new kn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bw=/[\-:]([a-z])/g;function zw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bw,zw);en[e]=new kn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bw,zw);en[e]=new kn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bw,zw);en[e]=new kn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new kn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new kn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ww(t,e,n,r){var s=en.hasOwnProperty(e)?en[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uL(e,n,s,r)&&(n=null),r||s===null?lL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ui=oL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rf=Symbol.for("react.element"),ul=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),Hw=Symbol.for("react.strict_mode"),Ty=Symbol.for("react.profiler"),Sk=Symbol.for("react.provider"),Ck=Symbol.for("react.context"),qw=Symbol.for("react.forward_ref"),Sy=Symbol.for("react.suspense"),Cy=Symbol.for("react.suspense_list"),Kw=Symbol.for("react.memo"),Ii=Symbol.for("react.lazy"),kk=Symbol.for("react.offscreen"),BE=Symbol.iterator;function ou(t){return t===null||typeof t!="object"?null:(t=BE&&t[BE]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,lv;function xu(t){if(lv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lv=e&&e[1]||""}return`
`+lv+t}var cv=!1;function uv(t,e){if(!t||cv)return"";cv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{cv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xu(t):""}function dL(t){switch(t.tag){case 5:return xu(t.type);case 16:return xu("Lazy");case 13:return xu("Suspense");case 19:return xu("SuspenseList");case 0:case 2:case 15:return t=uv(t.type,!1),t;case 11:return t=uv(t.type.render,!1),t;case 1:return t=uv(t.type,!0),t;default:return""}}function ky(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dl:return"Fragment";case ul:return"Portal";case Ty:return"Profiler";case Hw:return"StrictMode";case Sy:return"Suspense";case Cy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ck:return(t.displayName||"Context")+".Consumer";case Sk:return(t._context.displayName||"Context")+".Provider";case qw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kw:return e=t.displayName||null,e!==null?e:ky(t.type)||"Memo";case Ii:e=t._payload,t=t._init;try{return ky(t(e))}catch{}}return null}function hL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ky(e);case 8:return e===Hw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ho(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ik(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fL(t){var e=Ik(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sf(t){t._valueTracker||(t._valueTracker=fL(t))}function Pk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ik(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Iy(t,e){var n=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ho(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ak(t,e){e=e.checked,e!=null&&Ww(t,"checked",e,!1)}function Py(t,e){Ak(t,e);var n=ho(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ay(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ay(t,e.type,ho(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function WE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ay(t,e,n){(e!=="number"||yp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bu=Array.isArray;function Tl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ho(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ry(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function HE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(bu(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ho(n)}}function Rk(t,e){var n=ho(e.value),r=ho(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Nk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ny(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Nk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var of,Dk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(of=of||document.createElement("div"),of.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=of.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function id(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pL=["Webkit","ms","Moz","O"];Object.keys(Lu).forEach(function(t){pL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lu[e]=Lu[t]})});function Ok(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lu.hasOwnProperty(t)&&Lu[t]?(""+e).trim():e+"px"}function jk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ok(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var mL=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dy(t,e){if(e){if(mL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Oy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jy=null;function Gw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var My=null,Sl=null,Cl=null;function KE(t){if(t=ih(t)){if(typeof My!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Fm(e),My(t.stateNode,t.type,e))}}function Mk(t){Sl?Cl?Cl.push(t):Cl=[t]:Sl=t}function Lk(){if(Sl){var t=Sl,e=Cl;if(Cl=Sl=null,KE(t),e)for(t=0;t<e.length;t++)KE(e[t])}}function Fk(t,e){return t(e)}function Vk(){}var dv=!1;function Uk(t,e,n){if(dv)return t(e,n);dv=!0;try{return Fk(t,e,n)}finally{dv=!1,(Sl!==null||Cl!==null)&&(Vk(),Lk())}}function od(t,e){var n=t.stateNode;if(n===null)return null;var r=Fm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Ly=!1;if(Zs)try{var au={};Object.defineProperty(au,"passive",{get:function(){Ly=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{Ly=!1}function gL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Fu=!1,_p=null,wp=!1,Fy=null,vL={onError:function(t){Fu=!0,_p=t}};function yL(t,e,n,r,s,i,o,a,l){Fu=!1,_p=null,gL.apply(vL,arguments)}function _L(t,e,n,r,s,i,o,a,l){if(yL.apply(this,arguments),Fu){if(Fu){var c=_p;Fu=!1,_p=null}else throw Error(G(198));wp||(wp=!0,Fy=c)}}function ja(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $k(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function GE(t){if(ja(t)!==t)throw Error(G(188))}function wL(t){var e=t.alternate;if(!e){if(e=ja(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return GE(s),t;if(i===r)return GE(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function Bk(t){return t=wL(t),t!==null?zk(t):null}function zk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zk(t);if(e!==null)return e;t=t.sibling}return null}var Wk=sr.unstable_scheduleCallback,QE=sr.unstable_cancelCallback,xL=sr.unstable_shouldYield,bL=sr.unstable_requestPaint,Rt=sr.unstable_now,EL=sr.unstable_getCurrentPriorityLevel,Qw=sr.unstable_ImmediatePriority,Hk=sr.unstable_UserBlockingPriority,xp=sr.unstable_NormalPriority,TL=sr.unstable_LowPriority,qk=sr.unstable_IdlePriority,Om=null,ls=null;function SL(t){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(Om,t,void 0,(t.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:IL,CL=Math.log,kL=Math.LN2;function IL(t){return t>>>=0,t===0?32:31-(CL(t)/kL|0)|0}var af=64,lf=4194304;function Eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Eu(a):(i&=o,i!==0&&(r=Eu(i)))}else o=n&~s,o!==0?r=Eu(o):i!==0&&(r=Eu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vr(e),s=1<<n,r|=t[n],e&=~s;return r}function PL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Vr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=PL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Vy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kk(){var t=af;return af<<=1,!(af&4194240)&&(af=64),t}function hv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vr(e),t[e]=n}function RL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Vr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Yw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Xe=0;function Gk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qk,Zw,Yk,Zk,Jk,Uy=!1,cf=[],Zi=null,Ji=null,Xi=null,ad=new Map,ld=new Map,Ri=[],NL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YE(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":ad.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ld.delete(e.pointerId)}}function lu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ih(e),e!==null&&Zw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function DL(t,e,n,r,s){switch(e){case"focusin":return Zi=lu(Zi,t,e,n,r,s),!0;case"dragenter":return Ji=lu(Ji,t,e,n,r,s),!0;case"mouseover":return Xi=lu(Xi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ad.set(i,lu(ad.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ld.set(i,lu(ld.get(i)||null,t,e,n,r,s)),!0}return!1}function Xk(t){var e=Yo(t.target);if(e!==null){var n=ja(e);if(n!==null){if(e=n.tag,e===13){if(e=$k(n),e!==null){t.blockedOn=e,Jk(t.priority,function(){Yk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $f(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$y(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jy=r,n.target.dispatchEvent(r),jy=null}else return e=ih(n),e!==null&&Zw(e),t.blockedOn=n,!1;e.shift()}return!0}function ZE(t,e,n){$f(t)&&n.delete(e)}function OL(){Uy=!1,Zi!==null&&$f(Zi)&&(Zi=null),Ji!==null&&$f(Ji)&&(Ji=null),Xi!==null&&$f(Xi)&&(Xi=null),ad.forEach(ZE),ld.forEach(ZE)}function cu(t,e){t.blockedOn===e&&(t.blockedOn=null,Uy||(Uy=!0,sr.unstable_scheduleCallback(sr.unstable_NormalPriority,OL)))}function cd(t){function e(s){return cu(s,t)}if(0<cf.length){cu(cf[0],t);for(var n=1;n<cf.length;n++){var r=cf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zi!==null&&cu(Zi,t),Ji!==null&&cu(Ji,t),Xi!==null&&cu(Xi,t),ad.forEach(e),ld.forEach(e),n=0;n<Ri.length;n++)r=Ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)Xk(n),n.blockedOn===null&&Ri.shift()}var kl=ui.ReactCurrentBatchConfig,Ep=!0;function jL(t,e,n,r){var s=Xe,i=kl.transition;kl.transition=null;try{Xe=1,Jw(t,e,n,r)}finally{Xe=s,kl.transition=i}}function ML(t,e,n,r){var s=Xe,i=kl.transition;kl.transition=null;try{Xe=4,Jw(t,e,n,r)}finally{Xe=s,kl.transition=i}}function Jw(t,e,n,r){if(Ep){var s=$y(t,e,n,r);if(s===null)bv(t,e,r,Tp,n),YE(t,r);else if(DL(s,t,e,n,r))r.stopPropagation();else if(YE(t,r),e&4&&-1<NL.indexOf(t)){for(;s!==null;){var i=ih(s);if(i!==null&&Qk(i),i=$y(t,e,n,r),i===null&&bv(t,e,r,Tp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bv(t,e,r,null,n)}}var Tp=null;function $y(t,e,n,r){if(Tp=null,t=Gw(r),t=Yo(t),t!==null)if(e=ja(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$k(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tp=t,null}function eI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EL()){case Qw:return 1;case Hk:return 4;case xp:case TL:return 16;case qk:return 536870912;default:return 16}default:return 16}}var Gi=null,Xw=null,Bf=null;function tI(){if(Bf)return Bf;var t,e=Xw,n=e.length,r,s="value"in Gi?Gi.value:Gi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Bf=s.slice(t,1<r?1-r:void 0)}function zf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uf(){return!0}function JE(){return!1}function ar(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?uf:JE,this.isPropagationStopped=JE,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uf)},persist:function(){},isPersistent:uf}),e}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e0=ar(Sc),sh=wt({},Sc,{view:0,detail:0}),LL=ar(sh),fv,pv,uu,jm=wt({},sh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uu&&(uu&&t.type==="mousemove"?(fv=t.screenX-uu.screenX,pv=t.screenY-uu.screenY):pv=fv=0,uu=t),fv)},movementY:function(t){return"movementY"in t?t.movementY:pv}}),XE=ar(jm),FL=wt({},jm,{dataTransfer:0}),VL=ar(FL),UL=wt({},sh,{relatedTarget:0}),mv=ar(UL),$L=wt({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),BL=ar($L),zL=wt({},Sc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WL=ar(zL),HL=wt({},Sc,{data:0}),eT=ar(HL),qL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GL[t])?!!e[t]:!1}function t0(){return QL}var YL=wt({},sh,{key:function(t){if(t.key){var e=qL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t0,charCode:function(t){return t.type==="keypress"?zf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZL=ar(YL),JL=wt({},jm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tT=ar(JL),XL=wt({},sh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t0}),e4=ar(XL),t4=wt({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),n4=ar(t4),r4=wt({},jm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s4=ar(r4),i4=[9,13,27,32],n0=Zs&&"CompositionEvent"in window,Vu=null;Zs&&"documentMode"in document&&(Vu=document.documentMode);var o4=Zs&&"TextEvent"in window&&!Vu,nI=Zs&&(!n0||Vu&&8<Vu&&11>=Vu),nT=" ",rT=!1;function rI(t,e){switch(t){case"keyup":return i4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hl=!1;function a4(t,e){switch(t){case"compositionend":return sI(e);case"keypress":return e.which!==32?null:(rT=!0,nT);case"textInput":return t=e.data,t===nT&&rT?null:t;default:return null}}function l4(t,e){if(hl)return t==="compositionend"||!n0&&rI(t,e)?(t=tI(),Bf=Xw=Gi=null,hl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nI&&e.locale!=="ko"?null:e.data;default:return null}}var c4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c4[t.type]:e==="textarea"}function iI(t,e,n,r){Mk(r),e=Sp(e,"onChange"),0<e.length&&(n=new e0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Uu=null,ud=null;function u4(t){gI(t,0)}function Mm(t){var e=ml(t);if(Pk(e))return t}function d4(t,e){if(t==="change")return e}var oI=!1;if(Zs){var gv;if(Zs){var vv="oninput"in document;if(!vv){var iT=document.createElement("div");iT.setAttribute("oninput","return;"),vv=typeof iT.oninput=="function"}gv=vv}else gv=!1;oI=gv&&(!document.documentMode||9<document.documentMode)}function oT(){Uu&&(Uu.detachEvent("onpropertychange",aI),ud=Uu=null)}function aI(t){if(t.propertyName==="value"&&Mm(ud)){var e=[];iI(e,ud,t,Gw(t)),Uk(u4,e)}}function h4(t,e,n){t==="focusin"?(oT(),Uu=e,ud=n,Uu.attachEvent("onpropertychange",aI)):t==="focusout"&&oT()}function f4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mm(ud)}function p4(t,e){if(t==="click")return Mm(e)}function m4(t,e){if(t==="input"||t==="change")return Mm(e)}function g4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Br=typeof Object.is=="function"?Object.is:g4;function dd(t,e){if(Br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ey.call(e,s)||!Br(t[s],e[s]))return!1}return!0}function aT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lT(t,e){var n=aT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aT(n)}}function lI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cI(){for(var t=window,e=yp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yp(t.document)}return e}function r0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function v4(t){var e=cI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lI(n.ownerDocument.documentElement,n)){if(r!==null&&r0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=lT(n,i);var o=lT(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y4=Zs&&"documentMode"in document&&11>=document.documentMode,fl=null,By=null,$u=null,zy=!1;function cT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zy||fl==null||fl!==yp(r)||(r=fl,"selectionStart"in r&&r0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$u&&dd($u,r)||($u=r,r=Sp(By,"onSelect"),0<r.length&&(e=new e0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fl)))}function df(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pl={animationend:df("Animation","AnimationEnd"),animationiteration:df("Animation","AnimationIteration"),animationstart:df("Animation","AnimationStart"),transitionend:df("Transition","TransitionEnd")},yv={},uI={};Zs&&(uI=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function Lm(t){if(yv[t])return yv[t];if(!pl[t])return t;var e=pl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uI)return yv[t]=e[n];return t}var dI=Lm("animationend"),hI=Lm("animationiteration"),fI=Lm("animationstart"),pI=Lm("transitionend"),mI=new Map,uT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Io(t,e){mI.set(t,e),Oa(e,[t])}for(var _v=0;_v<uT.length;_v++){var wv=uT[_v],_4=wv.toLowerCase(),w4=wv[0].toUpperCase()+wv.slice(1);Io(_4,"on"+w4)}Io(dI,"onAnimationEnd");Io(hI,"onAnimationIteration");Io(fI,"onAnimationStart");Io("dblclick","onDoubleClick");Io("focusin","onFocus");Io("focusout","onBlur");Io(pI,"onTransitionEnd");Xl("onMouseEnter",["mouseout","mouseover"]);Xl("onMouseLeave",["mouseout","mouseover"]);Xl("onPointerEnter",["pointerout","pointerover"]);Xl("onPointerLeave",["pointerout","pointerover"]);Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function dT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_L(r,e,void 0,t),t.currentTarget=null}function gI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;dT(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;dT(s,a,c),i=l}}}if(wp)throw t=Fy,wp=!1,Fy=null,t}function lt(t,e){var n=e[Gy];n===void 0&&(n=e[Gy]=new Set);var r=t+"__bubble";n.has(r)||(vI(e,t,2,!1),n.add(r))}function xv(t,e,n){var r=0;e&&(r|=4),vI(n,t,r,e)}var hf="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[hf]){t[hf]=!0,Tk.forEach(function(n){n!=="selectionchange"&&(x4.has(n)||xv(n,!1,t),xv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hf]||(e[hf]=!0,xv("selectionchange",!1,e))}}function vI(t,e,n,r){switch(eI(e)){case 1:var s=jL;break;case 4:s=ML;break;default:s=Jw}n=s.bind(null,e,n,t),s=void 0,!Ly||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bv(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Yo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Uk(function(){var c=i,d=Gw(n),f=[];e:{var p=mI.get(t);if(p!==void 0){var g=e0,y=t;switch(t){case"keypress":if(zf(n)===0)break e;case"keydown":case"keyup":g=ZL;break;case"focusin":y="focus",g=mv;break;case"focusout":y="blur",g=mv;break;case"beforeblur":case"afterblur":g=mv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=XE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=VL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=e4;break;case dI:case hI:case fI:g=BL;break;case pI:g=n4;break;case"scroll":g=LL;break;case"wheel":g=s4;break;case"copy":case"cut":case"paste":g=WL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=tT}var w=(e&4)!==0,E=!w&&t==="scroll",b=w?p!==null?p+"Capture":null:p;w=[];for(var x=c,T;x!==null;){T=x;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,b!==null&&(k=od(x,b),k!=null&&w.push(fd(x,k,T)))),E)break;x=x.return}0<w.length&&(p=new g(p,y,null,n,d),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==jy&&(y=n.relatedTarget||n.fromElement)&&(Yo(y)||y[Js]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=c,y=y?Yo(y):null,y!==null&&(E=ja(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(w=XE,k="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=tT,k="onPointerLeave",b="onPointerEnter",x="pointer"),E=g==null?p:ml(g),T=y==null?p:ml(y),p=new w(k,x+"leave",g,n,d),p.target=E,p.relatedTarget=T,k=null,Yo(d)===c&&(w=new w(b,x+"enter",y,n,d),w.target=T,w.relatedTarget=E,k=w),E=k,g&&y)t:{for(w=g,b=y,x=0,T=w;T;T=Qa(T))x++;for(T=0,k=b;k;k=Qa(k))T++;for(;0<x-T;)w=Qa(w),x--;for(;0<T-x;)b=Qa(b),T--;for(;x--;){if(w===b||b!==null&&w===b.alternate)break t;w=Qa(w),b=Qa(b)}w=null}else w=null;g!==null&&hT(f,p,g,w,!1),y!==null&&E!==null&&hT(f,E,y,w,!0)}}e:{if(p=c?ml(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=d4;else if(sT(p))if(oI)D=m4;else{D=f4;var L=h4}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=p4);if(D&&(D=D(t,c))){iI(f,D,n,d);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Ay(p,"number",p.value)}switch(L=c?ml(c):window,t){case"focusin":(sT(L)||L.contentEditable==="true")&&(fl=L,By=c,$u=null);break;case"focusout":$u=By=fl=null;break;case"mousedown":zy=!0;break;case"contextmenu":case"mouseup":case"dragend":zy=!1,cT(f,n,d);break;case"selectionchange":if(y4)break;case"keydown":case"keyup":cT(f,n,d)}var C;if(n0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else hl?rI(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(nI&&n.locale!=="ko"&&(hl||S!=="onCompositionStart"?S==="onCompositionEnd"&&hl&&(C=tI()):(Gi=d,Xw="value"in Gi?Gi.value:Gi.textContent,hl=!0)),L=Sp(c,S),0<L.length&&(S=new eT(S,t,null,n,d),f.push({event:S,listeners:L}),C?S.data=C:(C=sI(n),C!==null&&(S.data=C)))),(C=o4?a4(t,n):l4(t,n))&&(c=Sp(c,"onBeforeInput"),0<c.length&&(d=new eT("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}gI(f,e)})}function fd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=od(t,n),i!=null&&r.unshift(fd(t,i,s)),i=od(t,e),i!=null&&r.push(fd(t,i,s))),t=t.return}return r}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hT(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=od(n,i),l!=null&&o.unshift(fd(n,l,a))):s||(l=od(n,i),l!=null&&o.push(fd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var b4=/\r\n?/g,E4=/\u0000|\uFFFD/g;function fT(t){return(typeof t=="string"?t:""+t).replace(b4,`
`).replace(E4,"")}function ff(t,e,n){if(e=fT(e),fT(t)!==e&&n)throw Error(G(425))}function Cp(){}var Wy=null,Hy=null;function qy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ky=typeof setTimeout=="function"?setTimeout:void 0,T4=typeof clearTimeout=="function"?clearTimeout:void 0,pT=typeof Promise=="function"?Promise:void 0,S4=typeof queueMicrotask=="function"?queueMicrotask:typeof pT<"u"?function(t){return pT.resolve(null).then(t).catch(C4)}:Ky;function C4(t){setTimeout(function(){throw t})}function Ev(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),cd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cd(e)}function eo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cc=Math.random().toString(36).slice(2),is="__reactFiber$"+Cc,pd="__reactProps$"+Cc,Js="__reactContainer$"+Cc,Gy="__reactEvents$"+Cc,k4="__reactListeners$"+Cc,I4="__reactHandles$"+Cc;function Yo(t){var e=t[is];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Js]||n[is]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mT(t);t!==null;){if(n=t[is])return n;t=mT(t)}return e}t=n,n=t.parentNode}return null}function ih(t){return t=t[is]||t[Js],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ml(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Fm(t){return t[pd]||null}var Qy=[],gl=-1;function Po(t){return{current:t}}function ct(t){0>gl||(t.current=Qy[gl],Qy[gl]=null,gl--)}function rt(t,e){gl++,Qy[gl]=t.current,t.current=e}var fo={},pn=Po(fo),Un=Po(!1),ga=fo;function ec(t,e){var n=t.type.contextTypes;if(!n)return fo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $n(t){return t=t.childContextTypes,t!=null}function kp(){ct(Un),ct(pn)}function gT(t,e,n){if(pn.current!==fo)throw Error(G(168));rt(pn,e),rt(Un,n)}function yI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,hL(t)||"Unknown",s));return wt({},n,r)}function Ip(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fo,ga=pn.current,rt(pn,t),rt(Un,Un.current),!0}function vT(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=yI(t,e,ga),r.__reactInternalMemoizedMergedChildContext=t,ct(Un),ct(pn),rt(pn,t)):ct(Un),rt(Un,n)}var js=null,Vm=!1,Tv=!1;function _I(t){js===null?js=[t]:js.push(t)}function P4(t){Vm=!0,_I(t)}function Ao(){if(!Tv&&js!==null){Tv=!0;var t=0,e=Xe;try{var n=js;for(Xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}js=null,Vm=!1}catch(s){throw js!==null&&(js=js.slice(t+1)),Wk(Qw,Ao),s}finally{Xe=e,Tv=!1}}return null}var vl=[],yl=0,Pp=null,Ap=0,pr=[],mr=0,va=null,Fs=1,Vs="";function Wo(t,e){vl[yl++]=Ap,vl[yl++]=Pp,Pp=t,Ap=e}function wI(t,e,n){pr[mr++]=Fs,pr[mr++]=Vs,pr[mr++]=va,va=t;var r=Fs;t=Vs;var s=32-Vr(r)-1;r&=~(1<<s),n+=1;var i=32-Vr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Fs=1<<32-Vr(e)+s|n<<s|r,Vs=i+t}else Fs=1<<i|n<<s|r,Vs=t}function s0(t){t.return!==null&&(Wo(t,1),wI(t,1,0))}function i0(t){for(;t===Pp;)Pp=vl[--yl],vl[yl]=null,Ap=vl[--yl],vl[yl]=null;for(;t===va;)va=pr[--mr],pr[mr]=null,Vs=pr[--mr],pr[mr]=null,Fs=pr[--mr],pr[mr]=null}var tr=null,Xn=null,ft=!1,Or=null;function xI(t,e){var n=gr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Xn=eo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=va!==null?{id:Fs,overflow:Vs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Xn=null,!0):!1;default:return!1}}function Yy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zy(t){if(ft){var e=Xn;if(e){var n=e;if(!yT(t,e)){if(Yy(t))throw Error(G(418));e=eo(n.nextSibling);var r=tr;e&&yT(t,e)?xI(r,n):(t.flags=t.flags&-4097|2,ft=!1,tr=t)}}else{if(Yy(t))throw Error(G(418));t.flags=t.flags&-4097|2,ft=!1,tr=t}}}function _T(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function pf(t){if(t!==tr)return!1;if(!ft)return _T(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qy(t.type,t.memoizedProps)),e&&(e=Xn)){if(Yy(t))throw bI(),Error(G(418));for(;e;)xI(t,e),e=eo(e.nextSibling)}if(_T(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xn=eo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xn=null}}else Xn=tr?eo(t.stateNode.nextSibling):null;return!0}function bI(){for(var t=Xn;t;)t=eo(t.nextSibling)}function tc(){Xn=tr=null,ft=!1}function o0(t){Or===null?Or=[t]:Or.push(t)}var A4=ui.ReactCurrentBatchConfig;function du(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function mf(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wT(t){var e=t._init;return e(t._payload)}function EI(t){function e(b,x){if(t){var T=b.deletions;T===null?(b.deletions=[x],b.flags|=16):T.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function s(b,x){return b=so(b,x),b.index=0,b.sibling=null,b}function i(b,x,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<x?(b.flags|=2,x):T):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,x,T,k){return x===null||x.tag!==6?(x=Rv(T,b.mode,k),x.return=b,x):(x=s(x,T),x.return=b,x)}function l(b,x,T,k){var D=T.type;return D===dl?d(b,x,T.props.children,k,T.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ii&&wT(D)===x.type)?(k=s(x,T.props),k.ref=du(b,x,T),k.return=b,k):(k=Yf(T.type,T.key,T.props,null,b.mode,k),k.ref=du(b,x,T),k.return=b,k)}function c(b,x,T,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==T.containerInfo||x.stateNode.implementation!==T.implementation?(x=Nv(T,b.mode,k),x.return=b,x):(x=s(x,T.children||[]),x.return=b,x)}function d(b,x,T,k,D){return x===null||x.tag!==7?(x=ca(T,b.mode,k,D),x.return=b,x):(x=s(x,T),x.return=b,x)}function f(b,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Rv(""+x,b.mode,T),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rf:return T=Yf(x.type,x.key,x.props,null,b.mode,T),T.ref=du(b,null,x),T.return=b,T;case ul:return x=Nv(x,b.mode,T),x.return=b,x;case Ii:var k=x._init;return f(b,k(x._payload),T)}if(bu(x)||ou(x))return x=ca(x,b.mode,T,null),x.return=b,x;mf(b,x)}return null}function p(b,x,T,k){var D=x!==null?x.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(b,x,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case rf:return T.key===D?l(b,x,T,k):null;case ul:return T.key===D?c(b,x,T,k):null;case Ii:return D=T._init,p(b,x,D(T._payload),k)}if(bu(T)||ou(T))return D!==null?null:d(b,x,T,k,null);mf(b,T)}return null}function g(b,x,T,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(T)||null,a(x,b,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case rf:return b=b.get(k.key===null?T:k.key)||null,l(x,b,k,D);case ul:return b=b.get(k.key===null?T:k.key)||null,c(x,b,k,D);case Ii:var L=k._init;return g(b,x,T,L(k._payload),D)}if(bu(k)||ou(k))return b=b.get(T)||null,d(x,b,k,D,null);mf(x,k)}return null}function y(b,x,T,k){for(var D=null,L=null,C=x,S=x=0,I=null;C!==null&&S<T.length;S++){C.index>S?(I=C,C=null):I=C.sibling;var R=p(b,C,T[S],k);if(R===null){C===null&&(C=I);break}t&&C&&R.alternate===null&&e(b,C),x=i(R,x,S),L===null?D=R:L.sibling=R,L=R,C=I}if(S===T.length)return n(b,C),ft&&Wo(b,S),D;if(C===null){for(;S<T.length;S++)C=f(b,T[S],k),C!==null&&(x=i(C,x,S),L===null?D=C:L.sibling=C,L=C);return ft&&Wo(b,S),D}for(C=r(b,C);S<T.length;S++)I=g(C,b,S,T[S],k),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?S:I.key),x=i(I,x,S),L===null?D=I:L.sibling=I,L=I);return t&&C.forEach(function(O){return e(b,O)}),ft&&Wo(b,S),D}function w(b,x,T,k){var D=ou(T);if(typeof D!="function")throw Error(G(150));if(T=D.call(T),T==null)throw Error(G(151));for(var L=D=null,C=x,S=x=0,I=null,R=T.next();C!==null&&!R.done;S++,R=T.next()){C.index>S?(I=C,C=null):I=C.sibling;var O=p(b,C,R.value,k);if(O===null){C===null&&(C=I);break}t&&C&&O.alternate===null&&e(b,C),x=i(O,x,S),L===null?D=O:L.sibling=O,L=O,C=I}if(R.done)return n(b,C),ft&&Wo(b,S),D;if(C===null){for(;!R.done;S++,R=T.next())R=f(b,R.value,k),R!==null&&(x=i(R,x,S),L===null?D=R:L.sibling=R,L=R);return ft&&Wo(b,S),D}for(C=r(b,C);!R.done;S++,R=T.next())R=g(C,b,S,R.value,k),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?S:R.key),x=i(R,x,S),L===null?D=R:L.sibling=R,L=R);return t&&C.forEach(function(N){return e(b,N)}),ft&&Wo(b,S),D}function E(b,x,T,k){if(typeof T=="object"&&T!==null&&T.type===dl&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case rf:e:{for(var D=T.key,L=x;L!==null;){if(L.key===D){if(D=T.type,D===dl){if(L.tag===7){n(b,L.sibling),x=s(L,T.props.children),x.return=b,b=x;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ii&&wT(D)===L.type){n(b,L.sibling),x=s(L,T.props),x.ref=du(b,L,T),x.return=b,b=x;break e}n(b,L);break}else e(b,L);L=L.sibling}T.type===dl?(x=ca(T.props.children,b.mode,k,T.key),x.return=b,b=x):(k=Yf(T.type,T.key,T.props,null,b.mode,k),k.ref=du(b,x,T),k.return=b,b=k)}return o(b);case ul:e:{for(L=T.key;x!==null;){if(x.key===L)if(x.tag===4&&x.stateNode.containerInfo===T.containerInfo&&x.stateNode.implementation===T.implementation){n(b,x.sibling),x=s(x,T.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else e(b,x);x=x.sibling}x=Nv(T,b.mode,k),x.return=b,b=x}return o(b);case Ii:return L=T._init,E(b,x,L(T._payload),k)}if(bu(T))return y(b,x,T,k);if(ou(T))return w(b,x,T,k);mf(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,x!==null&&x.tag===6?(n(b,x.sibling),x=s(x,T),x.return=b,b=x):(n(b,x),x=Rv(T,b.mode,k),x.return=b,b=x),o(b)):n(b,x)}return E}var nc=EI(!0),TI=EI(!1),Rp=Po(null),Np=null,_l=null,a0=null;function l0(){a0=_l=Np=null}function c0(t){var e=Rp.current;ct(Rp),t._currentValue=e}function Jy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Il(t,e){Np=t,a0=_l=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fn=!0),t.firstContext=null)}function br(t){var e=t._currentValue;if(a0!==t)if(t={context:t,memoizedValue:e,next:null},_l===null){if(Np===null)throw Error(G(308));_l=t,Np.dependencies={lanes:0,firstContext:t}}else _l=_l.next=t;return e}var Zo=null;function u0(t){Zo===null?Zo=[t]:Zo.push(t)}function SI(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,u0(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xs(t,r)}function Xs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pi=!1;function d0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function to(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xs(t,n)}return s=r.interleaved,s===null?(e.next=e,u0(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xs(t,n)}function Wf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yw(t,n)}}function xT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dp(t,e,n,r){var s=t.updateQueue;Pi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(p=e,g=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(g,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(g,f,p):y,p==null)break e;f=wt({},f,p);break e;case 2:Pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);_a|=o,t.lanes=o,t.memoizedState=f}}function bT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var oh={},cs=Po(oh),md=Po(oh),gd=Po(oh);function Jo(t){if(t===oh)throw Error(G(174));return t}function h0(t,e){switch(rt(gd,e),rt(md,t),rt(cs,oh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ny(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ny(e,t)}ct(cs),rt(cs,e)}function rc(){ct(cs),ct(md),ct(gd)}function kI(t){Jo(gd.current);var e=Jo(cs.current),n=Ny(e,t.type);e!==n&&(rt(md,t),rt(cs,n))}function f0(t){md.current===t&&(ct(cs),ct(md))}var yt=Po(0);function Op(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sv=[];function p0(){for(var t=0;t<Sv.length;t++)Sv[t]._workInProgressVersionPrimary=null;Sv.length=0}var Hf=ui.ReactCurrentDispatcher,Cv=ui.ReactCurrentBatchConfig,ya=0,_t=null,Mt=null,Wt=null,jp=!1,Bu=!1,vd=0,R4=0;function an(){throw Error(G(321))}function m0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Br(t[n],e[n]))return!1;return!0}function g0(t,e,n,r,s,i){if(ya=i,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hf.current=t===null||t.memoizedState===null?j4:M4,t=n(r,s),Bu){i=0;do{if(Bu=!1,vd=0,25<=i)throw Error(G(301));i+=1,Wt=Mt=null,e.updateQueue=null,Hf.current=L4,t=n(r,s)}while(Bu)}if(Hf.current=Mp,e=Mt!==null&&Mt.next!==null,ya=0,Wt=Mt=_t=null,jp=!1,e)throw Error(G(300));return t}function v0(){var t=vd!==0;return vd=0,t}function Xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?_t.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function Er(){if(Mt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Wt===null?_t.memoizedState:Wt.next;if(e!==null)Wt=e,Mt=t;else{if(t===null)throw Error(G(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Wt===null?_t.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function yd(t,e){return typeof e=="function"?e(t):e}function kv(t){var e=Er(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ya&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,_t.lanes|=d,_a|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Br(r,e.memoizedState)||(Fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,_t.lanes|=i,_a|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Iv(t){var e=Er(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Br(i,e.memoizedState)||(Fn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function II(){}function PI(t,e){var n=_t,r=Er(),s=e(),i=!Br(r.memoizedState,s);if(i&&(r.memoizedState=s,Fn=!0),r=r.queue,y0(NI.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,_d(9,RI.bind(null,n,r,s,e),void 0,null),Ht===null)throw Error(G(349));ya&30||AI(n,e,s)}return s}function AI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RI(t,e,n,r){e.value=n,e.getSnapshot=r,DI(e)&&OI(t)}function NI(t,e,n){return n(function(){DI(e)&&OI(t)})}function DI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Br(t,n)}catch{return!0}}function OI(t){var e=Xs(t,1);e!==null&&Ur(e,t,1,-1)}function ET(t){var e=Xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:t},e.queue=t,t=t.dispatch=O4.bind(null,_t,t),[e.memoizedState,t]}function _d(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jI(){return Er().memoizedState}function qf(t,e,n,r){var s=Xr();_t.flags|=t,s.memoizedState=_d(1|e,n,void 0,r===void 0?null:r)}function Um(t,e,n,r){var s=Er();r=r===void 0?null:r;var i=void 0;if(Mt!==null){var o=Mt.memoizedState;if(i=o.destroy,r!==null&&m0(r,o.deps)){s.memoizedState=_d(e,n,i,r);return}}_t.flags|=t,s.memoizedState=_d(1|e,n,i,r)}function TT(t,e){return qf(8390656,8,t,e)}function y0(t,e){return Um(2048,8,t,e)}function MI(t,e){return Um(4,2,t,e)}function LI(t,e){return Um(4,4,t,e)}function FI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VI(t,e,n){return n=n!=null?n.concat([t]):null,Um(4,4,FI.bind(null,e,t),n)}function _0(){}function UI(t,e){var n=Er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&m0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $I(t,e){var n=Er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&m0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BI(t,e,n){return ya&21?(Br(n,e)||(n=Kk(),_t.lanes|=n,_a|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fn=!0),t.memoizedState=n)}function N4(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var r=Cv.transition;Cv.transition={};try{t(!1),e()}finally{Xe=n,Cv.transition=r}}function zI(){return Er().memoizedState}function D4(t,e,n){var r=ro(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WI(t))HI(e,n);else if(n=SI(t,e,n,r),n!==null){var s=En();Ur(n,t,r,s),qI(n,e,r)}}function O4(t,e,n){var r=ro(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WI(t))HI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Br(a,o)){var l=e.interleaved;l===null?(s.next=s,u0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=SI(t,e,s,r),n!==null&&(s=En(),Ur(n,t,r,s),qI(n,e,r))}}function WI(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function HI(t,e){Bu=jp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yw(t,n)}}var Mp={readContext:br,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},j4={readContext:br,useCallback:function(t,e){return Xr().memoizedState=[t,e===void 0?null:e],t},useContext:br,useEffect:TT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qf(4194308,4,FI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qf(4194308,4,t,e)},useInsertionEffect:function(t,e){return qf(4,2,t,e)},useMemo:function(t,e){var n=Xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=D4.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=Xr();return t={current:t},e.memoizedState=t},useState:ET,useDebugValue:_0,useDeferredValue:function(t){return Xr().memoizedState=t},useTransition:function(){var t=ET(!1),e=t[0];return t=N4.bind(null,t[1]),Xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,s=Xr();if(ft){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Ht===null)throw Error(G(349));ya&30||AI(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,TT(NI.bind(null,r,i,t),[t]),r.flags|=2048,_d(9,RI.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xr(),e=Ht.identifierPrefix;if(ft){var n=Vs,r=Fs;n=(r&~(1<<32-Vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=R4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},M4={readContext:br,useCallback:UI,useContext:br,useEffect:y0,useImperativeHandle:VI,useInsertionEffect:MI,useLayoutEffect:LI,useMemo:$I,useReducer:kv,useRef:jI,useState:function(){return kv(yd)},useDebugValue:_0,useDeferredValue:function(t){var e=Er();return BI(e,Mt.memoizedState,t)},useTransition:function(){var t=kv(yd)[0],e=Er().memoizedState;return[t,e]},useMutableSource:II,useSyncExternalStore:PI,useId:zI,unstable_isNewReconciler:!1},L4={readContext:br,useCallback:UI,useContext:br,useEffect:y0,useImperativeHandle:VI,useInsertionEffect:MI,useLayoutEffect:LI,useMemo:$I,useReducer:Iv,useRef:jI,useState:function(){return Iv(yd)},useDebugValue:_0,useDeferredValue:function(t){var e=Er();return Mt===null?e.memoizedState=t:BI(e,Mt.memoizedState,t)},useTransition:function(){var t=Iv(yd)[0],e=Er().memoizedState;return[t,e]},useMutableSource:II,useSyncExternalStore:PI,useId:zI,unstable_isNewReconciler:!1};function Ar(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $m={isMounted:function(t){return(t=t._reactInternals)?ja(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=En(),s=ro(t),i=Ws(r,s);i.payload=e,n!=null&&(i.callback=n),e=to(t,i,s),e!==null&&(Ur(e,t,s,r),Wf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=En(),s=ro(t),i=Ws(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=to(t,i,s),e!==null&&(Ur(e,t,s,r),Wf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),r=ro(t),s=Ws(n,r);s.tag=2,e!=null&&(s.callback=e),e=to(t,s,r),e!==null&&(Ur(e,t,r,n),Wf(e,t,r))}};function ST(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!dd(n,r)||!dd(s,i):!0}function KI(t,e,n){var r=!1,s=fo,i=e.contextType;return typeof i=="object"&&i!==null?i=br(i):(s=$n(e)?ga:pn.current,r=e.contextTypes,i=(r=r!=null)?ec(t,s):fo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$m,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function CT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$m.enqueueReplaceState(e,e.state,null)}function e_(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},d0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=br(i):(i=$n(e)?ga:pn.current,s.context=ec(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&$m.enqueueReplaceState(s,s.state,null),Dp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sc(t,e){try{var n="",r=e;do n+=dL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Pv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function t_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var F4=typeof WeakMap=="function"?WeakMap:Map;function GI(t,e,n){n=Ws(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fp||(Fp=!0,d_=r),t_(t,e)},n}function QI(t,e,n){n=Ws(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){t_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){t_(t,e),typeof r!="function"&&(no===null?no=new Set([this]):no.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new F4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=J4.bind(null,t,e,n),e.then(t,t))}function IT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function PT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ws(-1,1),e.tag=2,to(n,e,1))),n.lanes|=1),t)}var V4=ui.ReactCurrentOwner,Fn=!1;function wn(t,e,n,r){e.child=t===null?TI(e,null,n,r):nc(e,t.child,n,r)}function AT(t,e,n,r,s){n=n.render;var i=e.ref;return Il(e,s),r=g0(t,e,n,r,i,s),n=v0(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ei(t,e,s)):(ft&&n&&s0(e),e.flags|=1,wn(t,e,r,s),e.child)}function RT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!k0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,YI(t,e,i,r,s)):(t=Yf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:dd,n(o,r)&&t.ref===e.ref)return ei(t,e,s)}return e.flags|=1,t=so(i,r),t.ref=e.ref,t.return=e,e.child=t}function YI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(dd(i,r)&&t.ref===e.ref)if(Fn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Fn=!0);else return e.lanes=t.lanes,ei(t,e,s)}return n_(t,e,n,r,s)}function ZI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(xl,Yn),Yn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(xl,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,rt(xl,Yn),Yn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,rt(xl,Yn),Yn|=r;return wn(t,e,s,n),e.child}function JI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function n_(t,e,n,r,s){var i=$n(n)?ga:pn.current;return i=ec(e,i),Il(e,s),n=g0(t,e,n,r,i,s),r=v0(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ei(t,e,s)):(ft&&r&&s0(e),e.flags|=1,wn(t,e,n,s),e.child)}function NT(t,e,n,r,s){if($n(n)){var i=!0;Ip(e)}else i=!1;if(Il(e,s),e.stateNode===null)Kf(t,e),KI(e,n,r),e_(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=br(c):(c=$n(n)?ga:pn.current,c=ec(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&CT(e,o,r,c),Pi=!1;var p=e.memoizedState;o.state=p,Dp(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Un.current||Pi?(typeof d=="function"&&(Xy(e,n,d,r),l=e.memoizedState),(a=Pi||ST(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ar(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=br(l):(l=$n(n)?ga:pn.current,l=ec(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&CT(e,o,r,l),Pi=!1,p=e.memoizedState,o.state=p,Dp(e,r,o,s);var y=e.memoizedState;a!==f||p!==y||Un.current||Pi?(typeof g=="function"&&(Xy(e,n,g,r),y=e.memoizedState),(c=Pi||ST(e,n,c,r,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return r_(t,e,n,r,i,s)}function r_(t,e,n,r,s,i){JI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&vT(e,n,!1),ei(t,e,i);r=e.stateNode,V4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=nc(e,t.child,null,i),e.child=nc(e,null,a,i)):wn(t,e,a,i),e.memoizedState=r.state,s&&vT(e,n,!0),e.child}function XI(t){var e=t.stateNode;e.pendingContext?gT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gT(t,e.context,!1),h0(t,e.containerInfo)}function DT(t,e,n,r,s){return tc(),o0(s),e.flags|=256,wn(t,e,n,r),e.child}var s_={dehydrated:null,treeContext:null,retryLane:0};function i_(t){return{baseLanes:t,cachePool:null,transitions:null}}function eP(t,e,n){var r=e.pendingProps,s=yt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),rt(yt,s&1),t===null)return Zy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wm(o,r,0,null),t=ca(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=i_(n),e.memoizedState=s_,t):w0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return U4(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=so(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=so(a,i):(i=ca(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?i_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=s_,r}return i=t.child,t=i.sibling,r=so(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function w0(t,e){return e=Wm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gf(t,e,n,r){return r!==null&&o0(r),nc(e,t.child,null,n),t=w0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function U4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Pv(Error(G(422))),gf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Wm({mode:"visible",children:r.children},s,0,null),i=ca(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&nc(e,t.child,null,o),e.child.memoizedState=i_(o),e.memoizedState=s_,i);if(!(e.mode&1))return gf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=Pv(i,r,void 0),gf(t,e,o,r)}if(a=(o&t.childLanes)!==0,Fn||a){if(r=Ht,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xs(t,s),Ur(r,t,s,-1))}return C0(),r=Pv(Error(G(421))),gf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=X4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xn=eo(s.nextSibling),tr=e,ft=!0,Or=null,t!==null&&(pr[mr++]=Fs,pr[mr++]=Vs,pr[mr++]=va,Fs=t.id,Vs=t.overflow,va=e),e=w0(e,r.children),e.flags|=4096,e)}function OT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jy(t.return,e,n)}function Av(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function tP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(wn(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&OT(t,n,e);else if(t.tag===19)OT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(yt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Op(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Av(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Op(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Av(e,!0,n,null,i);break;case"together":Av(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_a|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=so(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=so(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $4(t,e,n){switch(e.tag){case 3:XI(e),tc();break;case 5:kI(e);break;case 1:$n(e.type)&&Ip(e);break;case 4:h0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;rt(Rp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?eP(t,e,n):(rt(yt,yt.current&1),t=ei(t,e,n),t!==null?t.sibling:null);rt(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rt(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,ZI(t,e,n)}return ei(t,e,n)}var nP,o_,rP,sP;nP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};o_=function(){};rP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Jo(cs.current);var i=null;switch(n){case"input":s=Iy(t,s),r=Iy(t,r),i=[];break;case"select":s=wt({},s,{value:void 0}),r=wt({},r,{value:void 0}),i=[];break;case"textarea":s=Ry(t,s),r=Ry(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cp)}Dy(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&lt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};sP=function(t,e,n,r){n!==r&&(e.flags|=4)};function hu(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function B4(t,e,n){var r=e.pendingProps;switch(i0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return $n(e.type)&&kp(),ln(e),null;case 3:return r=e.stateNode,rc(),ct(Un),ct(pn),p0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Or!==null&&(p_(Or),Or=null))),o_(t,e),ln(e),null;case 5:f0(e);var s=Jo(gd.current);if(n=e.type,t!==null&&e.stateNode!=null)rP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return ln(e),null}if(t=Jo(cs.current),pf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[is]=e,r[pd]=i,t=(e.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(s=0;s<Tu.length;s++)lt(Tu[s],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":zE(r,i),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},lt("invalid",r);break;case"textarea":HE(r,i),lt("invalid",r)}Dy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ff(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ff(r.textContent,a,t),s=["children",""+a]):sd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&lt("scroll",r)}switch(n){case"input":sf(r),WE(r,i,!0);break;case"textarea":sf(r),qE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Cp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[is]=e,t[pd]=r,nP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Oy(n,r),n){case"dialog":lt("cancel",t),lt("close",t),s=r;break;case"iframe":case"object":case"embed":lt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Tu.length;s++)lt(Tu[s],t);s=r;break;case"source":lt("error",t),s=r;break;case"img":case"image":case"link":lt("error",t),lt("load",t),s=r;break;case"details":lt("toggle",t),s=r;break;case"input":zE(t,r),s=Iy(t,r),lt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=wt({},r,{value:void 0}),lt("invalid",t);break;case"textarea":HE(t,r),s=Ry(t,r),lt("invalid",t);break;default:s=r}Dy(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?jk(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dk(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&id(t,l):typeof l=="number"&&id(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&lt("scroll",t):l!=null&&Ww(t,i,l,o))}switch(n){case"input":sf(t),WE(t,r,!1);break;case"textarea":sf(t),qE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ho(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Tl(t,!!r.multiple,i,!1):r.defaultValue!=null&&Tl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Cp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(t&&e.stateNode!=null)sP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Jo(gd.current),Jo(cs.current),pf(e)){if(r=e.stateNode,n=e.memoizedProps,r[is]=e,(i=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:ff(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ff(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[is]=e,e.stateNode=r}return ln(e),null;case 13:if(ct(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Xn!==null&&e.mode&1&&!(e.flags&128))bI(),tc(),e.flags|=98560,i=!1;else if(i=pf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[is]=e}else tc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),i=!1}else Or!==null&&(p_(Or),Or=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Ut===0&&(Ut=3):C0())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return rc(),o_(t,e),t===null&&hd(e.stateNode.containerInfo),ln(e),null;case 10:return c0(e.type._context),ln(e),null;case 17:return $n(e.type)&&kp(),ln(e),null;case 19:if(ct(yt),i=e.memoizedState,i===null)return ln(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)hu(i,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Op(t),o!==null){for(e.flags|=128,hu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(yt,yt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Rt()>ic&&(e.flags|=128,r=!0,hu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Op(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ft)return ln(e),null}else 2*Rt()-i.renderingStartTime>ic&&n!==1073741824&&(e.flags|=128,r=!0,hu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Rt(),e.sibling=null,n=yt.current,rt(yt,r?n&1|2:n&1),e):(ln(e),null);case 22:case 23:return S0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function z4(t,e){switch(i0(e),e.tag){case 1:return $n(e.type)&&kp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rc(),ct(Un),ct(pn),p0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return f0(e),null;case 13:if(ct(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));tc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(yt),null;case 4:return rc(),null;case 10:return c0(e.type._context),null;case 22:case 23:return S0(),null;case 24:return null;default:return null}}var vf=!1,hn=!1,W4=typeof WeakSet=="function"?WeakSet:Set,oe=null;function wl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){St(t,e,r)}else n.current=null}function a_(t,e,n){try{n()}catch(r){St(t,e,r)}}var jT=!1;function H4(t,e){if(Wy=Ep,t=cI(),r0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hy={focusedElem:t,selectionRange:n},Ep=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,E=y.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ar(e.type,w),E);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(k){St(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return y=jT,jT=!1,y}function zu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&a_(e,n,i)}s=s.next}while(s!==r)}}function Bm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function l_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iP(t){var e=t.alternate;e!==null&&(t.alternate=null,iP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[is],delete e[pd],delete e[Gy],delete e[k4],delete e[I4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oP(t){return t.tag===5||t.tag===3||t.tag===4}function MT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function c_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cp));else if(r!==4&&(t=t.child,t!==null))for(c_(t,e,n),t=t.sibling;t!==null;)c_(t,e,n),t=t.sibling}function u_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(u_(t,e,n),t=t.sibling;t!==null;)u_(t,e,n),t=t.sibling}var Gt=null,Nr=!1;function _i(t,e,n){for(n=n.child;n!==null;)aP(t,e,n),n=n.sibling}function aP(t,e,n){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(Om,n)}catch{}switch(n.tag){case 5:hn||wl(n,e);case 6:var r=Gt,s=Nr;Gt=null,_i(t,e,n),Gt=r,Nr=s,Gt!==null&&(Nr?(t=Gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(Nr?(t=Gt,n=n.stateNode,t.nodeType===8?Ev(t.parentNode,n):t.nodeType===1&&Ev(t,n),cd(t)):Ev(Gt,n.stateNode));break;case 4:r=Gt,s=Nr,Gt=n.stateNode.containerInfo,Nr=!0,_i(t,e,n),Gt=r,Nr=s;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&a_(n,e,o),s=s.next}while(s!==r)}_i(t,e,n);break;case 1:if(!hn&&(wl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){St(n,e,a)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,_i(t,e,n),hn=r):_i(t,e,n);break;default:_i(t,e,n)}}function LT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new W4),e.forEach(function(r){var s=eF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Gt=a.stateNode,Nr=!1;break e;case 3:Gt=a.stateNode.containerInfo,Nr=!0;break e;case 4:Gt=a.stateNode.containerInfo,Nr=!0;break e}a=a.return}if(Gt===null)throw Error(G(160));aP(i,o,s),Gt=null,Nr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){St(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lP(e,t),e=e.sibling}function lP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kr(e,t),Zr(t),r&4){try{zu(3,t,t.return),Bm(3,t)}catch(w){St(t,t.return,w)}try{zu(5,t,t.return)}catch(w){St(t,t.return,w)}}break;case 1:kr(e,t),Zr(t),r&512&&n!==null&&wl(n,n.return);break;case 5:if(kr(e,t),Zr(t),r&512&&n!==null&&wl(n,n.return),t.flags&32){var s=t.stateNode;try{id(s,"")}catch(w){St(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ak(s,i),Oy(a,o);var c=Oy(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?jk(s,f):d==="dangerouslySetInnerHTML"?Dk(s,f):d==="children"?id(s,f):Ww(s,d,f,c)}switch(a){case"input":Py(s,i);break;case"textarea":Rk(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Tl(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Tl(s,!!i.multiple,i.defaultValue,!0):Tl(s,!!i.multiple,i.multiple?[]:"",!1))}s[pd]=i}catch(w){St(t,t.return,w)}}break;case 6:if(kr(e,t),Zr(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){St(t,t.return,w)}}break;case 3:if(kr(e,t),Zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cd(e.containerInfo)}catch(w){St(t,t.return,w)}break;case 4:kr(e,t),Zr(t);break;case 13:kr(e,t),Zr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(E0=Rt())),r&4&&LT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(c=hn)||d,kr(e,t),hn=c):kr(e,t),Zr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(f=oe=d;oe!==null;){switch(p=oe,g=p.child,p.tag){case 0:case 11:case 14:case 15:zu(4,p,p.return);break;case 1:wl(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){St(r,n,w)}}break;case 5:wl(p,p.return);break;case 22:if(p.memoizedState!==null){VT(f);continue}}g!==null?(g.return=p,oe=g):VT(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ok("display",o))}catch(w){St(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){St(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kr(e,t),Zr(t),r&4&&LT(t);break;case 21:break;default:kr(e,t),Zr(t)}}function Zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oP(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(id(s,""),r.flags&=-33);var i=MT(t);u_(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=MT(t);c_(t,a,o);break;default:throw Error(G(161))}}catch(l){St(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function q4(t,e,n){oe=t,cP(t)}function cP(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||hn;a=vf;var c=hn;if(vf=o,(hn=l)&&!c)for(oe=s;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?UT(s):l!==null?(l.return=o,oe=l):UT(s);for(;i!==null;)oe=i,cP(i),i=i.sibling;oe=s,vf=a,hn=c}FT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):FT(t)}}function FT(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||Bm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ar(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&bT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&cd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}hn||e.flags&512&&l_(e)}catch(p){St(e,e.return,p)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function VT(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function UT(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bm(4,e)}catch(l){St(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){St(e,s,l)}}var i=e.return;try{l_(e)}catch(l){St(e,i,l)}break;case 5:var o=e.return;try{l_(e)}catch(l){St(e,o,l)}}}catch(l){St(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var K4=Math.ceil,Lp=ui.ReactCurrentDispatcher,x0=ui.ReactCurrentOwner,vr=ui.ReactCurrentBatchConfig,We=0,Ht=null,Ot=null,Xt=0,Yn=0,xl=Po(0),Ut=0,wd=null,_a=0,zm=0,b0=0,Wu=null,jn=null,E0=0,ic=1/0,Ds=null,Fp=!1,d_=null,no=null,yf=!1,Qi=null,Vp=0,Hu=0,h_=null,Gf=-1,Qf=0;function En(){return We&6?Rt():Gf!==-1?Gf:Gf=Rt()}function ro(t){return t.mode&1?We&2&&Xt!==0?Xt&-Xt:A4.transition!==null?(Qf===0&&(Qf=Kk()),Qf):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:eI(t.type)),t):1}function Ur(t,e,n,r){if(50<Hu)throw Hu=0,h_=null,Error(G(185));rh(t,n,r),(!(We&2)||t!==Ht)&&(t===Ht&&(!(We&2)&&(zm|=n),Ut===4&&Ni(t,Xt)),Bn(t,r),n===1&&We===0&&!(e.mode&1)&&(ic=Rt()+500,Vm&&Ao()))}function Bn(t,e){var n=t.callbackNode;AL(t,e);var r=bp(t,t===Ht?Xt:0);if(r===0)n!==null&&QE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&QE(n),e===1)t.tag===0?P4($T.bind(null,t)):_I($T.bind(null,t)),S4(function(){!(We&6)&&Ao()}),n=null;else{switch(Gk(r)){case 1:n=Qw;break;case 4:n=Hk;break;case 16:n=xp;break;case 536870912:n=qk;break;default:n=xp}n=vP(n,uP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uP(t,e){if(Gf=-1,Qf=0,We&6)throw Error(G(327));var n=t.callbackNode;if(Pl()&&t.callbackNode!==n)return null;var r=bp(t,t===Ht?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Up(t,r);else{e=r;var s=We;We|=2;var i=hP();(Ht!==t||Xt!==e)&&(Ds=null,ic=Rt()+500,la(t,e));do try{Y4();break}catch(a){dP(t,a)}while(!0);l0(),Lp.current=i,We=s,Ot!==null?e=0:(Ht=null,Xt=0,e=Ut)}if(e!==0){if(e===2&&(s=Vy(t),s!==0&&(r=s,e=f_(t,s))),e===1)throw n=wd,la(t,0),Ni(t,r),Bn(t,Rt()),n;if(e===6)Ni(t,r);else{if(s=t.current.alternate,!(r&30)&&!G4(s)&&(e=Up(t,r),e===2&&(i=Vy(t),i!==0&&(r=i,e=f_(t,i))),e===1))throw n=wd,la(t,0),Ni(t,r),Bn(t,Rt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Ho(t,jn,Ds);break;case 3:if(Ni(t,r),(r&130023424)===r&&(e=E0+500-Rt(),10<e)){if(bp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){En(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ky(Ho.bind(null,t,jn,Ds),e);break}Ho(t,jn,Ds);break;case 4:if(Ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Vr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*K4(r/1960))-r,10<r){t.timeoutHandle=Ky(Ho.bind(null,t,jn,Ds),r);break}Ho(t,jn,Ds);break;case 5:Ho(t,jn,Ds);break;default:throw Error(G(329))}}}return Bn(t,Rt()),t.callbackNode===n?uP.bind(null,t):null}function f_(t,e){var n=Wu;return t.current.memoizedState.isDehydrated&&(la(t,e).flags|=256),t=Up(t,e),t!==2&&(e=jn,jn=n,e!==null&&p_(e)),t}function p_(t){jn===null?jn=t:jn.push.apply(jn,t)}function G4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Br(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ni(t,e){for(e&=~b0,e&=~zm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vr(e),r=1<<n;t[n]=-1,e&=~r}}function $T(t){if(We&6)throw Error(G(327));Pl();var e=bp(t,0);if(!(e&1))return Bn(t,Rt()),null;var n=Up(t,e);if(t.tag!==0&&n===2){var r=Vy(t);r!==0&&(e=r,n=f_(t,r))}if(n===1)throw n=wd,la(t,0),Ni(t,e),Bn(t,Rt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ho(t,jn,Ds),Bn(t,Rt()),null}function T0(t,e){var n=We;We|=1;try{return t(e)}finally{We=n,We===0&&(ic=Rt()+500,Vm&&Ao())}}function wa(t){Qi!==null&&Qi.tag===0&&!(We&6)&&Pl();var e=We;We|=1;var n=vr.transition,r=Xe;try{if(vr.transition=null,Xe=1,t)return t()}finally{Xe=r,vr.transition=n,We=e,!(We&6)&&Ao()}}function S0(){Yn=xl.current,ct(xl)}function la(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,T4(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(i0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kp();break;case 3:rc(),ct(Un),ct(pn),p0();break;case 5:f0(r);break;case 4:rc();break;case 13:ct(yt);break;case 19:ct(yt);break;case 10:c0(r.type._context);break;case 22:case 23:S0()}n=n.return}if(Ht=t,Ot=t=so(t.current,null),Xt=Yn=e,Ut=0,wd=null,b0=zm=_a=0,jn=Wu=null,Zo!==null){for(e=0;e<Zo.length;e++)if(n=Zo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Zo=null}return t}function dP(t,e){do{var n=Ot;try{if(l0(),Hf.current=Mp,jp){for(var r=_t.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}jp=!1}if(ya=0,Wt=Mt=_t=null,Bu=!1,vd=0,x0.current=null,n===null||n.return===null){Ut=1,wd=e,Ot=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=IT(o);if(g!==null){g.flags&=-257,PT(g,o,a,i,e),g.mode&1&&kT(i,c,e),e=g,l=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){kT(i,c,e),C0();break e}l=Error(G(426))}}else if(ft&&a.mode&1){var E=IT(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),PT(E,o,a,i,e),o0(sc(l,a));break e}}i=l=sc(l,a),Ut!==4&&(Ut=2),Wu===null?Wu=[i]:Wu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=GI(i,l,e);xT(i,b);break e;case 1:a=l;var x=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(no===null||!no.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=QI(i,a,e);xT(i,k);break e}}i=i.return}while(i!==null)}pP(n)}catch(D){e=D,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function hP(){var t=Lp.current;return Lp.current=Mp,t===null?Mp:t}function C0(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Ht===null||!(_a&268435455)&&!(zm&268435455)||Ni(Ht,Xt)}function Up(t,e){var n=We;We|=2;var r=hP();(Ht!==t||Xt!==e)&&(Ds=null,la(t,e));do try{Q4();break}catch(s){dP(t,s)}while(!0);if(l0(),We=n,Lp.current=r,Ot!==null)throw Error(G(261));return Ht=null,Xt=0,Ut}function Q4(){for(;Ot!==null;)fP(Ot)}function Y4(){for(;Ot!==null&&!xL();)fP(Ot)}function fP(t){var e=gP(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?pP(t):Ot=e,x0.current=null}function pP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z4(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Ot=null;return}}else if(n=B4(n,e,Yn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Ut===0&&(Ut=5)}function Ho(t,e,n){var r=Xe,s=vr.transition;try{vr.transition=null,Xe=1,Z4(t,e,n,r)}finally{vr.transition=s,Xe=r}return null}function Z4(t,e,n,r){do Pl();while(Qi!==null);if(We&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(RL(t,i),t===Ht&&(Ot=Ht=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yf||(yf=!0,vP(xp,function(){return Pl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vr.transition,vr.transition=null;var o=Xe;Xe=1;var a=We;We|=4,x0.current=null,H4(t,n),lP(n,t),v4(Hy),Ep=!!Wy,Hy=Wy=null,t.current=n,q4(n),bL(),We=a,Xe=o,vr.transition=i}else t.current=n;if(yf&&(yf=!1,Qi=t,Vp=s),i=t.pendingLanes,i===0&&(no=null),SL(n.stateNode),Bn(t,Rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fp)throw Fp=!1,t=d_,d_=null,t;return Vp&1&&t.tag!==0&&Pl(),i=t.pendingLanes,i&1?t===h_?Hu++:(Hu=0,h_=t):Hu=0,Ao(),null}function Pl(){if(Qi!==null){var t=Gk(Vp),e=vr.transition,n=Xe;try{if(vr.transition=null,Xe=16>t?16:t,Qi===null)var r=!1;else{if(t=Qi,Qi=null,Vp=0,We&6)throw Error(G(331));var s=We;for(We|=4,oe=t.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:zu(8,d,i)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var p=d.sibling,g=d.return;if(iP(d),d===c){oe=null;break}if(p!==null){p.return=g,oe=p;break}oe=g}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zu(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,oe=b;break e}oe=i.return}}var x=t.current;for(oe=x;oe!==null;){o=oe;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,oe=T;else e:for(o=x;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bm(9,a)}}catch(D){St(a,a.return,D)}if(a===o){oe=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,oe=k;break e}oe=a.return}}if(We=s,Ao(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(Om,t)}catch{}r=!0}return r}finally{Xe=n,vr.transition=e}}return!1}function BT(t,e,n){e=sc(n,e),e=GI(t,e,1),t=to(t,e,1),e=En(),t!==null&&(rh(t,1,e),Bn(t,e))}function St(t,e,n){if(t.tag===3)BT(t,t,n);else for(;e!==null;){if(e.tag===3){BT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(no===null||!no.has(r))){t=sc(n,t),t=QI(e,t,1),e=to(e,t,1),t=En(),e!==null&&(rh(e,1,t),Bn(e,t));break}}e=e.return}}function J4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(Xt&n)===n&&(Ut===4||Ut===3&&(Xt&130023424)===Xt&&500>Rt()-E0?la(t,0):b0|=n),Bn(t,e)}function mP(t,e){e===0&&(t.mode&1?(e=lf,lf<<=1,!(lf&130023424)&&(lf=4194304)):e=1);var n=En();t=Xs(t,e),t!==null&&(rh(t,e,n),Bn(t,n))}function X4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mP(t,n)}function eF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),mP(t,n)}var gP;gP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Un.current)Fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fn=!1,$4(t,e,n);Fn=!!(t.flags&131072)}else Fn=!1,ft&&e.flags&1048576&&wI(e,Ap,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kf(t,e),t=e.pendingProps;var s=ec(e,pn.current);Il(e,n),s=g0(null,e,r,t,s,n);var i=v0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$n(r)?(i=!0,Ip(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,d0(e),s.updater=$m,e.stateNode=s,s._reactInternals=e,e_(e,r,t,n),e=r_(null,e,r,!0,i,n)):(e.tag=0,ft&&i&&s0(e),wn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=nF(r),t=Ar(r,t),s){case 0:e=n_(null,e,r,t,n);break e;case 1:e=NT(null,e,r,t,n);break e;case 11:e=AT(null,e,r,t,n);break e;case 14:e=RT(null,e,r,Ar(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ar(r,s),n_(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ar(r,s),NT(t,e,r,s,n);case 3:e:{if(XI(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,CI(t,e),Dp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sc(Error(G(423)),e),e=DT(t,e,r,n,s);break e}else if(r!==s){s=sc(Error(G(424)),e),e=DT(t,e,r,n,s);break e}else for(Xn=eo(e.stateNode.containerInfo.firstChild),tr=e,ft=!0,Or=null,n=TI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tc(),r===s){e=ei(t,e,n);break e}wn(t,e,r,n)}e=e.child}return e;case 5:return kI(e),t===null&&Zy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,qy(r,s)?o=null:i!==null&&qy(r,i)&&(e.flags|=32),JI(t,e),wn(t,e,o,n),e.child;case 6:return t===null&&Zy(e),null;case 13:return eP(t,e,n);case 4:return h0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nc(e,null,r,n):wn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ar(r,s),AT(t,e,r,s,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,rt(Rp,r._currentValue),r._currentValue=o,i!==null)if(Br(i.value,o)){if(i.children===s.children&&!Un.current){e=ei(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ws(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Jy(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}wn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Il(e,n),s=br(s),r=r(s),e.flags|=1,wn(t,e,r,n),e.child;case 14:return r=e.type,s=Ar(r,e.pendingProps),s=Ar(r.type,s),RT(t,e,r,s,n);case 15:return YI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ar(r,s),Kf(t,e),e.tag=1,$n(r)?(t=!0,Ip(e)):t=!1,Il(e,n),KI(e,r,s),e_(e,r,s,n),r_(null,e,r,!0,t,n);case 19:return tP(t,e,n);case 22:return ZI(t,e,n)}throw Error(G(156,e.tag))};function vP(t,e){return Wk(t,e)}function tF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(t,e,n,r){return new tF(t,e,n,r)}function k0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nF(t){if(typeof t=="function")return k0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qw)return 11;if(t===Kw)return 14}return 2}function so(t,e){var n=t.alternate;return n===null?(n=gr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")k0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case dl:return ca(n.children,s,i,e);case Hw:o=8,s|=8;break;case Ty:return t=gr(12,n,e,s|2),t.elementType=Ty,t.lanes=i,t;case Sy:return t=gr(13,n,e,s),t.elementType=Sy,t.lanes=i,t;case Cy:return t=gr(19,n,e,s),t.elementType=Cy,t.lanes=i,t;case kk:return Wm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sk:o=10;break e;case Ck:o=9;break e;case qw:o=11;break e;case Kw:o=14;break e;case Ii:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=gr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ca(t,e,n,r){return t=gr(7,t,r,e),t.lanes=n,t}function Wm(t,e,n,r){return t=gr(22,t,r,e),t.elementType=kk,t.lanes=n,t.stateNode={isHidden:!1},t}function Rv(t,e,n){return t=gr(6,t,null,e),t.lanes=n,t}function Nv(t,e,n){return e=gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hv(0),this.expirationTimes=hv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hv(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function I0(t,e,n,r,s,i,o,a,l){return t=new rF(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=gr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},d0(i),t}function sF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ul,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yP(t){if(!t)return fo;t=t._reactInternals;e:{if(ja(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if($n(n))return yI(t,n,e)}return e}function _P(t,e,n,r,s,i,o,a,l){return t=I0(n,r,!0,t,s,i,o,a,l),t.context=yP(null),n=t.current,r=En(),s=ro(n),i=Ws(r,s),i.callback=e??null,to(n,i,s),t.current.lanes=s,rh(t,s,r),Bn(t,r),t}function Hm(t,e,n,r){var s=e.current,i=En(),o=ro(s);return n=yP(n),e.context===null?e.context=n:e.pendingContext=n,e=Ws(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=to(s,e,o),t!==null&&(Ur(t,s,o,i),Wf(t,s,o)),o}function $p(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function P0(t,e){zT(t,e),(t=t.alternate)&&zT(t,e)}function iF(){return null}var wP=typeof reportError=="function"?reportError:function(t){console.error(t)};function A0(t){this._internalRoot=t}qm.prototype.render=A0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Hm(t,e,null,null)};qm.prototype.unmount=A0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wa(function(){Hm(null,t,null,null)}),e[Js]=null}};function qm(t){this._internalRoot=t}qm.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ri.length&&e!==0&&e<Ri[n].priority;n++);Ri.splice(n,0,t),n===0&&Xk(t)}};function R0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Km(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WT(){}function oF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=$p(o);i.call(c)}}var o=_P(e,r,t,0,null,!1,!1,"",WT);return t._reactRootContainer=o,t[Js]=o.current,hd(t.nodeType===8?t.parentNode:t),wa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=$p(l);a.call(c)}}var l=I0(t,0,!1,null,null,!1,!1,"",WT);return t._reactRootContainer=l,t[Js]=l.current,hd(t.nodeType===8?t.parentNode:t),wa(function(){Hm(e,l,n,r)}),l}function Gm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=$p(o);a.call(l)}}Hm(e,o,t,s)}else o=oF(n,e,t,s,r);return $p(o)}Qk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Eu(e.pendingLanes);n!==0&&(Yw(e,n|1),Bn(e,Rt()),!(We&6)&&(ic=Rt()+500,Ao()))}break;case 13:wa(function(){var r=Xs(t,1);if(r!==null){var s=En();Ur(r,t,1,s)}}),P0(t,1)}};Zw=function(t){if(t.tag===13){var e=Xs(t,134217728);if(e!==null){var n=En();Ur(e,t,134217728,n)}P0(t,134217728)}};Yk=function(t){if(t.tag===13){var e=ro(t),n=Xs(t,e);if(n!==null){var r=En();Ur(n,t,e,r)}P0(t,e)}};Zk=function(){return Xe};Jk=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};My=function(t,e,n){switch(e){case"input":if(Py(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Fm(r);if(!s)throw Error(G(90));Pk(r),Py(r,s)}}}break;case"textarea":Rk(t,n);break;case"select":e=n.value,e!=null&&Tl(t,!!n.multiple,e,!1)}};Fk=T0;Vk=wa;var aF={usingClientEntryPoint:!1,Events:[ih,ml,Fm,Mk,Lk,T0]},fu={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lF={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bk(t),t===null?null:t.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||iF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{Om=_f.inject(lF),ls=_f}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aF;or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R0(e))throw Error(G(200));return sF(t,e,null,n)};or.createRoot=function(t,e){if(!R0(t))throw Error(G(299));var n=!1,r="",s=wP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=I0(t,1,!1,null,null,n,!1,r,s),t[Js]=e.current,hd(t.nodeType===8?t.parentNode:t),new A0(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Bk(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return wa(t)};or.hydrate=function(t,e,n){if(!Km(e))throw Error(G(200));return Gm(null,t,e,!0,n)};or.hydrateRoot=function(t,e,n){if(!R0(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=wP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_P(e,null,t,1,n??null,s,!1,i,o),t[Js]=e.current,hd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new qm(e)};or.render=function(t,e,n){if(!Km(e))throw Error(G(200));return Gm(null,t,e,!1,n)};or.unmountComponentAtNode=function(t){if(!Km(t))throw Error(G(40));return t._reactRootContainer?(wa(function(){Gm(null,null,t,!1,function(){t._reactRootContainer=null,t[Js]=null})}),!0):!1};or.unstable_batchedUpdates=T0;or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Km(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Gm(t,e,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function xP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xP)}catch(t){console.error(t)}}xP(),xk.exports=or;var ah=xk.exports;const cF=lk(ah);var bP,HT=ah;bP=HT.createRoot,HT.hydrateRoot;var kc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xa=typeof window>"u"||"Deno"in globalThis;function hr(){}function uF(t,e){return typeof t=="function"?t(e):t}function m_(t){return typeof t=="number"&&t>=0&&t!==1/0}function EP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Al(t,e){return typeof t=="function"?t(e):t}function jr(t,e){return typeof t=="function"?t(e):t}function qT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==N0(o,e.options))return!1}else if(!xd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function KT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ba(e.options.mutationKey)!==ba(i))return!1}else if(!xd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function N0(t,e){return((e==null?void 0:e.queryKeyHashFn)||ba)(t)}function ba(t){return JSON.stringify(t,(e,n)=>g_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function xd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!xd(t[n],e[n])):!1}function TP(t,e){if(t===e)return t;const n=GT(t)&&GT(e);if(n||g_(t)&&g_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=TP(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Bp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function GT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function g_(t){if(!QT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!QT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function QT(t){return Object.prototype.toString.call(t)==="[object Object]"}function dF(t){return new Promise(e=>{setTimeout(e,t)})}function v_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?TP(t,e):e}function hF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function fF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var D0=Symbol();function SP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===D0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ta,Vi,Ul,JC,pF=(JC=class extends kc{constructor(){super();ge(this,ta);ge(this,Vi);ge(this,Ul);re(this,Ul,e=>{if(!xa&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,Vi)||this.setEventListener(M(this,Ul))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,Vi))==null||e.call(this),re(this,Vi,void 0))}setEventListener(e){var n;re(this,Ul,e),(n=M(this,Vi))==null||n.call(this),re(this,Vi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){M(this,ta)!==e&&(re(this,ta,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof M(this,ta)=="boolean"?M(this,ta):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ta=new WeakMap,Vi=new WeakMap,Ul=new WeakMap,JC),O0=new pF,$l,Ui,Bl,XC,mF=(XC=class extends kc{constructor(){super();ge(this,$l,!0);ge(this,Ui);ge(this,Bl);re(this,Bl,e=>{if(!xa&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,Ui)||this.setEventListener(M(this,Bl))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,Ui))==null||e.call(this),re(this,Ui,void 0))}setEventListener(e){var n;re(this,Bl,e),(n=M(this,Ui))==null||n.call(this),re(this,Ui,e(this.setOnline.bind(this)))}setOnline(e){M(this,$l)!==e&&(re(this,$l,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return M(this,$l)}},$l=new WeakMap,Ui=new WeakMap,Bl=new WeakMap,XC),zp=new mF;function y_(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function gF(t){return Math.min(1e3*2**t,3e4)}function CP(t){return(t??"online")==="online"?zp.isOnline():!0}var kP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Dv(t){return t instanceof kP}function IP(t){let e=!1,n=0,r=!1,s;const i=y_(),o=w=>{var E;r||(p(new kP(w)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>O0.isFocused()&&(t.networkMode==="always"||zp.isOnline())&&t.canRun(),d=()=>CP(t.networkMode)&&t.canRun(),f=w=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,w),s==null||s(),i.resolve(w))},p=w=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,w),s==null||s(),i.reject(w))},g=()=>new Promise(w=>{var E;s=b=>{(r||c())&&w(b)},(E=t.onPause)==null||E.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),y=()=>{if(r)return;let w;const E=n===0?t.initialPromise:void 0;try{w=E??t.fn()}catch(b){w=Promise.reject(b)}Promise.resolve(w).then(f).catch(b=>{var L;if(r)return;const x=t.retry??(xa?0:3),T=t.retryDelay??gF,k=typeof T=="function"?T(n,b):T,D=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(e||!D){p(b);return}n++,(L=t.onFail)==null||L.call(t,n,b),dF(k).then(()=>c()?void 0:g()).then(()=>{e?p(b):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():g().then(y),i)}}function vF(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ft=vF(),na,ek,PP=(ek=class{constructor(){ge(this,na)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),m_(this.gcTime)&&re(this,na,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(xa?1/0:5*60*1e3))}clearGcTimeout(){M(this,na)&&(clearTimeout(M(this,na)),re(this,na,void 0))}},na=new WeakMap,ek),zl,Wl,dr,un,Jd,ra,Rr,Rs,tk,yF=(tk=class extends PP{constructor(n){super();ge(this,Rr);ge(this,zl);ge(this,Wl);ge(this,dr);ge(this,un);ge(this,Jd);ge(this,ra);re(this,ra,!1),re(this,Jd,n.defaultOptions),this.setOptions(n.options),this.observers=[],re(this,dr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,re(this,zl,_F(this.options)),this.state=n.state??M(this,zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=M(this,un))==null?void 0:n.promise}setOptions(n){this.options={...M(this,Jd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,dr).remove(this)}setData(n,r){const s=v_(this.state.data,n,this.options);return Ae(this,Rr,Rs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ae(this,Rr,Rs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=M(this,un))==null?void 0:s.promise;return(i=M(this,un))==null||i.cancel(n),r?r.then(hr).catch(hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,zl))}isActive(){return this.observers.some(n=>jr(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===D0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!EP(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=M(this,un))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=M(this,un))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),M(this,dr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(M(this,un)&&(M(this,ra)?M(this,un).cancel({revert:!0}):M(this,un).cancelRetry()),this.scheduleGc()),M(this,dr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ae(this,Rr,Rs).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(M(this,un))return M(this,un).continueRetry(),M(this,un).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(re(this,ra,!0),s.signal)})},o=()=>{const p=SP(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),re(this,ra,!1),this.options.persister?this.options.persister(p,g,this):p(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),re(this,Wl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Ae(this,Rr,Rs).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var g,y,w,E;Dv(p)&&p.silent||Ae(this,Rr,Rs).call(this,{type:"error",error:p}),Dv(p)||((y=(g=M(this,dr).config).onError)==null||y.call(g,p,this),(E=(w=M(this,dr).config).onSettled)==null||E.call(w,this.state.data,p,this)),this.scheduleGc()};return re(this,un,IP({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var g,y,w,E;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(b){l(b);return}(y=(g=M(this,dr).config).onSuccess)==null||y.call(g,p,this),(E=(w=M(this,dr).config).onSettled)==null||E.call(w,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{Ae(this,Rr,Rs).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{Ae(this,Rr,Rs).call(this,{type:"pause"})},onContinue:()=>{Ae(this,Rr,Rs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),M(this,un).start()}},zl=new WeakMap,Wl=new WeakMap,dr=new WeakMap,un=new WeakMap,Jd=new WeakMap,ra=new WeakMap,Rr=new WeakSet,Rs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...AP(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Dv(i)&&i.revert&&M(this,Wl)?{...M(this,Wl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ft.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),M(this,dr).notify({query:this,type:"updated",action:n})})},tk);function AP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _F(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ts,nk,wF=(nk=class extends kc{constructor(e={}){super();ge(this,ts);this.config=e,re(this,ts,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??N0(s,n);let o=this.get(i);return o||(o=new yF({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){M(this,ts).has(e.queryHash)||(M(this,ts).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=M(this,ts).get(e.queryHash);n&&(e.destroy(),n===e&&M(this,ts).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return M(this,ts).get(e)}getAll(){return[...M(this,ts).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>qT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>qT(e,r)):n}notify(e){Ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ts=new WeakMap,nk),ns,yn,sa,rs,Ti,rk,xF=(rk=class extends PP{constructor(n){super();ge(this,rs);ge(this,ns);ge(this,yn);ge(this,sa);this.mutationId=n.mutationId,re(this,yn,n.mutationCache),re(this,ns,[]),this.state=n.state||RP(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){M(this,ns).includes(n)||(M(this,ns).push(n),this.clearGcTimeout(),M(this,yn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){re(this,ns,M(this,ns).filter(r=>r!==n)),this.scheduleGc(),M(this,yn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){M(this,ns).length||(this.state.status==="pending"?this.scheduleGc():M(this,yn).remove(this))}continue(){var n;return((n=M(this,sa))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,d,f,p,g,y,w,E,b,x,T,k,D,L,C,S;re(this,sa,IP({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,R)=>{Ae(this,rs,Ti).call(this,{type:"failed",failureCount:I,error:R})},onPause:()=>{Ae(this,rs,Ti).call(this,{type:"pause"})},onContinue:()=>{Ae(this,rs,Ti).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,yn).canRun(this)}));const r=this.state.status==="pending",s=!M(this,sa).canStart();try{if(!r){Ae(this,rs,Ti).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=M(this,yn).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&Ae(this,rs,Ti).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const I=await M(this,sa).start();return await((d=(c=M(this,yn).config).onSuccess)==null?void 0:d.call(c,I,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,n,this.state.context)),await((y=(g=M(this,yn).config).onSettled)==null?void 0:y.call(g,I,null,this.state.variables,this.state.context,this)),await((E=(w=this.options).onSettled)==null?void 0:E.call(w,I,null,n,this.state.context)),Ae(this,rs,Ti).call(this,{type:"success",data:I}),I}catch(I){try{throw await((x=(b=M(this,yn).config).onError)==null?void 0:x.call(b,I,n,this.state.context,this)),await((k=(T=this.options).onError)==null?void 0:k.call(T,I,n,this.state.context)),await((L=(D=M(this,yn).config).onSettled)==null?void 0:L.call(D,void 0,I,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,I,n,this.state.context)),I}finally{Ae(this,rs,Ti).call(this,{type:"error",error:I})}}finally{M(this,yn).runNext(this)}}},ns=new WeakMap,yn=new WeakMap,sa=new WeakMap,rs=new WeakSet,Ti=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ft.batch(()=>{M(this,ns).forEach(s=>{s.onMutationUpdate(n)}),M(this,yn).notify({mutation:this,type:"updated",action:n})})},rk);function RP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qn,Xd,sk,bF=(sk=class extends kc{constructor(e={}){super();ge(this,Qn);ge(this,Xd);this.config=e,re(this,Qn,new Map),re(this,Xd,Date.now())}build(e,n,r){const s=new xF({mutationCache:this,mutationId:++tf(this,Xd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=wf(e),r=M(this,Qn).get(n)??[];r.push(e),M(this,Qn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=wf(e);if(M(this,Qn).has(n)){const s=(r=M(this,Qn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?M(this,Qn).delete(n):M(this,Qn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=M(this,Qn).get(wf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=M(this,Qn).get(wf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...M(this,Qn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>KT(n,r))}findAll(e={}){return this.getAll().filter(n=>KT(e,n))}notify(e){Ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ft.batch(()=>Promise.all(e.map(n=>n.continue().catch(hr))))}},Qn=new WeakMap,Xd=new WeakMap,sk);function wf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function YT(t){return{onFetch:(e,n)=>{var d,f,p,g,y;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let w=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},b=SP(e.options,e.fetchOptions),x=async(T,k,D)=>{if(w)return Promise.reject();if(k==null&&T.pages.length)return Promise.resolve(T);const L={queryKey:e.queryKey,pageParam:k,direction:D?"backward":"forward",meta:e.options.meta};E(L);const C=await b(L),{maxPages:S}=e.options,I=D?fF:hF;return{pages:I(T.pages,C,S),pageParams:I(T.pageParams,k,S)}};if(s&&i.length){const T=s==="backward",k=T?EF:ZT,D={pages:i,pageParams:o},L=k(r,D);a=await x(D,L,T)}else{const T=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:ZT(r,a);if(l>0&&k==null)break;a=await x(a,k),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var w,E;return(E=(w=e.options).persister)==null?void 0:E.call(w,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function ZT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function EF(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Tt,$i,Bi,Hl,ql,zi,Kl,Gl,ik,TF=(ik=class{constructor(t={}){ge(this,Tt);ge(this,$i);ge(this,Bi);ge(this,Hl);ge(this,ql);ge(this,zi);ge(this,Kl);ge(this,Gl);re(this,Tt,t.queryCache||new wF),re(this,$i,t.mutationCache||new bF),re(this,Bi,t.defaultOptions||{}),re(this,Hl,new Map),re(this,ql,new Map),re(this,zi,0)}mount(){tf(this,zi)._++,M(this,zi)===1&&(re(this,Kl,O0.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,Tt).onFocus())})),re(this,Gl,zp.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,Tt).onOnline())})))}unmount(){var t,e;tf(this,zi)._--,M(this,zi)===0&&((t=M(this,Kl))==null||t.call(this),re(this,Kl,void 0),(e=M(this,Gl))==null||e.call(this),re(this,Gl,void 0))}isFetching(t){return M(this,Tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return M(this,$i).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,Tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=M(this,Tt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Al(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return M(this,Tt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=M(this,Tt).get(r.queryHash),i=s==null?void 0:s.state.data,o=uF(e,i);if(o!==void 0)return M(this,Tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ft.batch(()=>M(this,Tt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,Tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=M(this,Tt);Ft.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=M(this,Tt),r={type:"active",...t};return Ft.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ft.batch(()=>M(this,Tt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(hr).catch(hr)}invalidateQueries(t={},e={}){return Ft.batch(()=>{if(M(this,Tt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ft.batch(()=>M(this,Tt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(hr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=M(this,Tt).build(this,e);return n.isStaleByTime(Al(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hr).catch(hr)}fetchInfiniteQuery(t){return t.behavior=YT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hr).catch(hr)}ensureInfiniteQueryData(t){return t.behavior=YT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zp.isOnline()?M(this,$i).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,Tt)}getMutationCache(){return M(this,$i)}getDefaultOptions(){return M(this,Bi)}setDefaultOptions(t){re(this,Bi,t)}setQueryDefaults(t,e){M(this,Hl).set(ba(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...M(this,Hl).values()];let n={};return e.forEach(r=>{xd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){M(this,ql).set(ba(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...M(this,ql).values()];let n={};return e.forEach(r=>{xd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...M(this,Bi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=N0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===D0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...M(this,Bi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){M(this,Tt).clear(),M(this,$i).clear()}},Tt=new WeakMap,$i=new WeakMap,Bi=new WeakMap,Hl=new WeakMap,ql=new WeakMap,zi=new WeakMap,Kl=new WeakMap,Gl=new WeakMap,ik),Rn,Fe,eh,_n,ia,Ql,Wi,ss,th,Yl,Zl,oa,aa,Hi,Jl,Ye,Su,__,w_,x_,b_,E_,T_,S_,NP,ok,SF=(ok=class extends kc{constructor(e,n){super();ge(this,Ye);ge(this,Rn);ge(this,Fe);ge(this,eh);ge(this,_n);ge(this,ia);ge(this,Ql);ge(this,Wi);ge(this,ss);ge(this,th);ge(this,Yl);ge(this,Zl);ge(this,oa);ge(this,aa);ge(this,Hi);ge(this,Jl,new Set);this.options=n,re(this,Rn,e),re(this,ss,null),re(this,Wi,y_()),this.options.experimental_prefetchInRender||M(this,Wi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,Fe).addObserver(this),JT(M(this,Fe),this.options)?Ae(this,Ye,Su).call(this):this.updateResult(),Ae(this,Ye,b_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return C_(M(this,Fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return C_(M(this,Fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ae(this,Ye,E_).call(this),Ae(this,Ye,T_).call(this),M(this,Fe).removeObserver(this)}setOptions(e,n){const r=this.options,s=M(this,Fe);if(this.options=M(this,Rn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jr(this.options.enabled,M(this,Fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ae(this,Ye,S_).call(this),M(this,Fe).setOptions(this.options),r._defaulted&&!Bp(this.options,r)&&M(this,Rn).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,Fe),observer:this});const i=this.hasListeners();i&&XT(M(this,Fe),s,this.options,r)&&Ae(this,Ye,Su).call(this),this.updateResult(n),i&&(M(this,Fe)!==s||jr(this.options.enabled,M(this,Fe))!==jr(r.enabled,M(this,Fe))||Al(this.options.staleTime,M(this,Fe))!==Al(r.staleTime,M(this,Fe)))&&Ae(this,Ye,__).call(this);const o=Ae(this,Ye,w_).call(this);i&&(M(this,Fe)!==s||jr(this.options.enabled,M(this,Fe))!==jr(r.enabled,M(this,Fe))||o!==M(this,Hi))&&Ae(this,Ye,x_).call(this,o)}getOptimisticResult(e){const n=M(this,Rn).getQueryCache().build(M(this,Rn),e),r=this.createResult(n,e);return kF(this,r)&&(re(this,_n,r),re(this,Ql,this.options),re(this,ia,M(this,Fe).state)),r}getCurrentResult(){return M(this,_n)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){M(this,Jl).add(e)}getCurrentQuery(){return M(this,Fe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=M(this,Rn).defaultQueryOptions(e),r=M(this,Rn).getQueryCache().build(M(this,Rn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ae(this,Ye,Su).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,_n)))}createResult(e,n){var S;const r=M(this,Fe),s=this.options,i=M(this,_n),o=M(this,ia),a=M(this,Ql),c=e!==r?e.state:M(this,eh),{state:d}=e;let f={...d},p=!1,g;if(n._optimisticResults){const I=this.hasListeners(),R=!I&&JT(e,n),O=I&&XT(e,r,n,s);(R||O)&&(f={...f,...AP(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:w,status:E}=f;if(n.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&n.select===M(this,th))g=M(this,Yl);else try{re(this,th,n.select),g=n.select(f.data),g=v_(i==null?void 0:i.data,g,n),re(this,Yl,g),re(this,ss,null)}catch(I){re(this,ss,I)}else g=f.data;if(n.placeholderData!==void 0&&g===void 0&&E==="pending"){let I;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))I=i.data;else if(I=typeof n.placeholderData=="function"?n.placeholderData((S=M(this,Zl))==null?void 0:S.state.data,M(this,Zl)):n.placeholderData,n.select&&I!==void 0)try{I=n.select(I),re(this,ss,null)}catch(R){re(this,ss,R)}I!==void 0&&(E="success",g=v_(i==null?void 0:i.data,I,n),p=!0)}M(this,ss)&&(y=M(this,ss),g=M(this,Yl),w=Date.now(),E="error");const b=f.fetchStatus==="fetching",x=E==="pending",T=E==="error",k=x&&b,D=g!==void 0,C={status:E,fetchStatus:f.fetchStatus,isPending:x,isSuccess:E==="success",isError:T,isInitialLoading:k,isLoading:k,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:T&&!D,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:T&&D,isStale:j0(e,n),refetch:this.refetch,promise:M(this,Wi)};if(this.options.experimental_prefetchInRender){const I=N=>{C.status==="error"?N.reject(C.error):C.data!==void 0&&N.resolve(C.data)},R=()=>{const N=re(this,Wi,C.promise=y_());I(N)},O=M(this,Wi);switch(O.status){case"pending":e.queryHash===r.queryHash&&I(O);break;case"fulfilled":(C.status==="error"||C.data!==O.value)&&R();break;case"rejected":(C.status!=="error"||C.error!==O.reason)&&R();break}}return C}updateResult(e){const n=M(this,_n),r=this.createResult(M(this,Fe),this.options);if(re(this,ia,M(this,Fe).state),re(this,Ql,this.options),M(this,ia).data!==void 0&&re(this,Zl,M(this,Fe)),Bp(r,n))return;re(this,_n,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!M(this,Jl).size)return!0;const l=new Set(a??M(this,Jl));return this.options.throwOnError&&l.add("error"),Object.keys(M(this,_n)).some(c=>{const d=c;return M(this,_n)[d]!==n[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ae(this,Ye,NP).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ae(this,Ye,b_).call(this)}},Rn=new WeakMap,Fe=new WeakMap,eh=new WeakMap,_n=new WeakMap,ia=new WeakMap,Ql=new WeakMap,Wi=new WeakMap,ss=new WeakMap,th=new WeakMap,Yl=new WeakMap,Zl=new WeakMap,oa=new WeakMap,aa=new WeakMap,Hi=new WeakMap,Jl=new WeakMap,Ye=new WeakSet,Su=function(e){Ae(this,Ye,S_).call(this);let n=M(this,Fe).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(hr)),n},__=function(){Ae(this,Ye,E_).call(this);const e=Al(this.options.staleTime,M(this,Fe));if(xa||M(this,_n).isStale||!m_(e))return;const r=EP(M(this,_n).dataUpdatedAt,e)+1;re(this,oa,setTimeout(()=>{M(this,_n).isStale||this.updateResult()},r))},w_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,Fe)):this.options.refetchInterval)??!1},x_=function(e){Ae(this,Ye,T_).call(this),re(this,Hi,e),!(xa||jr(this.options.enabled,M(this,Fe))===!1||!m_(M(this,Hi))||M(this,Hi)===0)&&re(this,aa,setInterval(()=>{(this.options.refetchIntervalInBackground||O0.isFocused())&&Ae(this,Ye,Su).call(this)},M(this,Hi)))},b_=function(){Ae(this,Ye,__).call(this),Ae(this,Ye,x_).call(this,Ae(this,Ye,w_).call(this))},E_=function(){M(this,oa)&&(clearTimeout(M(this,oa)),re(this,oa,void 0))},T_=function(){M(this,aa)&&(clearInterval(M(this,aa)),re(this,aa,void 0))},S_=function(){const e=M(this,Rn).getQueryCache().build(M(this,Rn),this.options);if(e===M(this,Fe))return;const n=M(this,Fe);re(this,Fe,e),re(this,eh,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},NP=function(e){Ft.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(M(this,_n))}),M(this,Rn).getQueryCache().notify({query:M(this,Fe),type:"observerResultsUpdated"})})},ok);function CF(t,e){return jr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function JT(t,e){return CF(t,e)||t.state.data!==void 0&&C_(t,e,e.refetchOnMount)}function C_(t,e,n){if(jr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&j0(t,e)}return!1}function XT(t,e,n,r){return(t!==e||jr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&j0(t,n)}function j0(t,e){return jr(e.enabled,t)!==!1&&t.isStaleByTime(Al(e.staleTime,t))}function kF(t,e){return!Bp(t.getCurrentResult(),e)}var qi,Ki,Nn,Ms,Ys,Zf,k_,ak,IF=(ak=class extends kc{constructor(n,r){super();ge(this,Ys);ge(this,qi);ge(this,Ki);ge(this,Nn);ge(this,Ms);re(this,qi,n),this.setOptions(r),this.bindMethods(),Ae(this,Ys,Zf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=M(this,qi).defaultMutationOptions(n),Bp(this.options,r)||M(this,qi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,Nn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ba(r.mutationKey)!==ba(this.options.mutationKey)?this.reset():((s=M(this,Nn))==null?void 0:s.state.status)==="pending"&&M(this,Nn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,Nn))==null||n.removeObserver(this)}onMutationUpdate(n){Ae(this,Ys,Zf).call(this),Ae(this,Ys,k_).call(this,n)}getCurrentResult(){return M(this,Ki)}reset(){var n;(n=M(this,Nn))==null||n.removeObserver(this),re(this,Nn,void 0),Ae(this,Ys,Zf).call(this),Ae(this,Ys,k_).call(this)}mutate(n,r){var s;return re(this,Ms,r),(s=M(this,Nn))==null||s.removeObserver(this),re(this,Nn,M(this,qi).getMutationCache().build(M(this,qi),this.options)),M(this,Nn).addObserver(this),M(this,Nn).execute(n)}},qi=new WeakMap,Ki=new WeakMap,Nn=new WeakMap,Ms=new WeakMap,Ys=new WeakSet,Zf=function(){var r;const n=((r=M(this,Nn))==null?void 0:r.state)??RP();re(this,Ki,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},k_=function(n){Ft.batch(()=>{var r,s,i,o,a,l,c,d;if(M(this,Ms)&&this.hasListeners()){const f=M(this,Ki).variables,p=M(this,Ki).context;(n==null?void 0:n.type)==="success"?((s=(r=M(this,Ms)).onSuccess)==null||s.call(r,n.data,f,p),(o=(i=M(this,Ms)).onSettled)==null||o.call(i,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((l=(a=M(this,Ms)).onError)==null||l.call(a,n.error,f,p),(d=(c=M(this,Ms)).onSettled)==null||d.call(c,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(M(this,Ki))})})},ak),DP=v.createContext(void 0),Ic=t=>{const e=v.useContext(DP);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},PF=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(DP.Provider,{value:t,children:e})),OP=v.createContext(!1),AF=()=>v.useContext(OP);OP.Provider;function RF(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var NF=v.createContext(RF()),DF=()=>v.useContext(NF);function jP(t,e){return typeof t=="function"?t(...e):!!t}function I_(){}var OF=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},jF=t=>{v.useEffect(()=>{t.clearReset()},[t])},MF=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&jP(n,[t.error,r]),LF=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},FF=(t,e)=>t.isLoading&&t.isFetching&&!e,VF=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,eS=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function UF(t,e,n){var d,f,p,g,y;const r=Ic(),s=AF(),i=DF(),o=r.defaultQueryOptions(t);(f=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",LF(o),OF(o,i),jF(i);const a=!r.getQueryCache().get(o.queryHash),[l]=v.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(w=>{const E=s?I_:l.subscribe(Ft.batchCalls(w));return l.updateResult(),E},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),v.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),VF(o,c))throw eS(o,l,i);if(MF({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((g=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,o,c),o.experimental_prefetchInRender&&!xa&&FF(c,s)){const w=a?eS(o,l,i):(y=r.getQueryCache().get(o.queryHash))==null?void 0:y.promise;w==null||w.catch(I_).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function $F(t,e){return UF(t,SF)}function Hs(t,e){const n=Ic(),[r]=v.useState(()=>new IF(n,t));v.useEffect(()=>{r.setOptions(t)},[r,t]);const s=v.useSyncExternalStore(v.useCallback(o=>r.subscribe(Ft.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=v.useCallback((o,a)=>{r.mutate(o,a).catch(I_)},[r]);if(s.error&&jP(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function BF(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var MP={exports:{}},LP={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=v;function zF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var WF=typeof Object.is=="function"?Object.is:zF,HF=oc.useState,qF=oc.useEffect,KF=oc.useLayoutEffect,GF=oc.useDebugValue;function QF(t,e){var n=e(),r=HF({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return KF(function(){s.value=n,s.getSnapshot=e,Ov(s)&&i({inst:s})},[t,n,e]),qF(function(){return Ov(s)&&i({inst:s}),t(function(){Ov(s)&&i({inst:s})})},[t]),GF(n),n}function Ov(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!WF(t,n)}catch{return!0}}function YF(t,e){return e()}var ZF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?YF:QF;LP.useSyncExternalStore=oc.useSyncExternalStore!==void 0?oc.useSyncExternalStore:ZF;MP.exports=LP;var JF=MP.exports;const XF=_k.useInsertionEffect,eV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tV=eV?v.useLayoutEffect:v.useEffect,nV=XF||tV,FP=t=>{const e=v.useRef([t,(...n)=>e[0](...n)]).current;return nV(()=>{e[0]=t}),e[1]},rV="popstate",M0="pushState",L0="replaceState",sV="hashchange",tS=[rV,M0,L0,sV],iV=t=>{for(const e of tS)addEventListener(e,t);return()=>{for(const e of tS)removeEventListener(e,t)}},VP=(t,e)=>JF.useSyncExternalStore(iV,t,e),oV=()=>location.search,aV=({ssrSearch:t=""}={})=>VP(oV,()=>t),nS=()=>location.pathname,lV=({ssrPath:t}={})=>VP(nS,t?()=>t:nS),cV=(t,{replace:e=!1,state:n=null}={})=>history[e?L0:M0](n,"",t),uV=(t={})=>[lV(t),cV],rS=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[rS]>"u"){for(const t of[M0,L0]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,rS,{value:!0})}const dV=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",UP=(t="")=>t==="/"?"":t,hV=(t,e)=>t[0]==="~"?t.slice(1):UP(e)+t,fV=(t="",e)=>dV(sS(UP(t)),sS(e)),sS=t=>{try{return decodeURI(t)}catch{return t}},$P={hook:uV,searchHook:aV,parser:BF,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},BP=v.createContext($P),lh=()=>v.useContext(BP),zP={},WP=v.createContext(zP),pV=()=>v.useContext(WP),Qm=t=>{const[e,n]=t.hook(t);return[fV(t.base,e),FP((r,s)=>n(hV(r,t.base),s))]},Ma=()=>Qm(lh()),HP=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((f,p)=>[f,l[p]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},mV=({children:t,...e})=>{var d,f;const n=lh(),r=e.hook?$P:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=v.useRef({}),l=a.current,c=l;for(let p in r){const g=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===c&&g!==c[p]&&(a.current=c={...c}),c[p]=g,g!==r[p]&&(s=c)}return v.createElement(BP.Provider,{value:s,children:t})},iS=({children:t,component:e},n)=>e?v.createElement(e,{params:n}):typeof t=="function"?t(n):t,gV=t=>{let e=v.useRef(zP),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Bo=({path:t,nest:e,match:n,...r})=>{const s=lh(),[i]=Qm(s),[o,a,l]=n??HP(s.parser,t,i,e),c=gV({...pV(),...a});if(!o)return null;const d=l?v.createElement(mV,{base:l},iS(r,c)):iS(r,c);return v.createElement(WP.Provider,{value:c,children:d})},io=v.forwardRef((t,e)=>{const n=lh(),[r,s]=Qm(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:d,replace:f,state:p,...g}=t,y=FP(E=>{E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||E.button!==0||(a==null||a(E),E.defaultPrevented||(E.preventDefault(),s(o,t)))}),w=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&v.isValidElement(c)?v.cloneElement(c,{onClick:y,href:w}):v.createElement("a",{...g,onClick:y,href:w,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})}),qP=t=>Array.isArray(t)?t.flatMap(e=>qP(e&&e.type===v.Fragment?e.props.children:e)):[t],vV=({children:t,location:e})=>{const n=lh(),[r]=Qm(n);for(const s of qP(t)){let i=0;if(v.isValidElement(s)&&(i=HP(n.parser,s.props.path,e||r,s.props.nest))[0])return v.cloneElement(s,{match:i})}return null},yV=1,_V=1e6;let jv=0;function wV(){return jv=(jv+1)%Number.MAX_SAFE_INTEGER,jv.toString()}const Mv=new Map,oS=t=>{if(Mv.has(t))return;const e=setTimeout(()=>{Mv.delete(t),qu({type:"REMOVE_TOAST",toastId:t})},_V);Mv.set(t,e)},xV=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,yV)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?oS(n):t.toasts.forEach(r=>{oS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Jf=[];let Xf={toasts:[]};function qu(t){Xf=xV(Xf,t),Jf.forEach(e=>{e(Xf)})}function bV({...t}){const e=wV(),n=s=>qu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>qu({type:"DISMISS_TOAST",toastId:e});return qu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Pc(){const[t,e]=v.useState(Xf);return v.useEffect(()=>(Jf.push(e),()=>{const n=Jf.indexOf(e);n>-1&&Jf.splice(n,1)}),[t]),{...t,toast:bV,dismiss:n=>qu({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function EV(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Ym(...t){return e=>t.forEach(n=>EV(n,e))}function kt(...t){return v.useCallback(Ym(...t),t)}function TV(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...y}=f,w=(p==null?void 0:p[t][l])||a,E=v.useMemo(()=>y,Object.values(y));return h.jsx(w.Provider,{value:E,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,y=v.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,SV(s,...e)]}function SV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ti=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(kV);if(i){const o=i.props.children,a=s.map(l=>l===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return h.jsx(P_,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return h.jsx(P_,{...r,ref:e,children:n})});ti.displayName="Slot";var P_=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const s=PV(n);return v.cloneElement(n,{...IV(r,n.props),ref:e?Ym(e,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});P_.displayName="SlotClone";var CV=({children:t})=>h.jsx(h.Fragment,{children:t});function kV(t){return v.isValidElement(t)&&t.type===CV}function IV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function PV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function F0(t){const e=t+"CollectionProvider",[n,r]=TV(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:w}=g,E=be.useRef(null),b=be.useRef(new Map).current;return h.jsx(s,{scope:y,itemMap:b,collectionRef:E,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=be.forwardRef((g,y)=>{const{scope:w,children:E}=g,b=i(a,w),x=kt(y,b.collectionRef);return h.jsx(ti,{ref:x,children:E})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=be.forwardRef((g,y)=>{const{scope:w,children:E,...b}=g,x=be.useRef(null),T=kt(y,x),k=i(c,w);return be.useEffect(()=>(k.itemMap.set(x,{ref:x,...b}),()=>void k.itemMap.delete(x))),h.jsx(ti,{[d]:"",ref:T,children:E})});f.displayName=c;function p(g){const y=i(t+"CollectionConsumer",g);return be.useCallback(()=>{const E=y.collectionRef.current;if(!E)return[];const b=Array.from(E.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((k,D)=>b.indexOf(k.ref.current)-b.indexOf(D.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},p,r]}function AV(t,e){const n=v.createContext(e),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ac(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=f=>{var b;const{scope:p,children:g,...y}=f,w=((b=p==null?void 0:p[t])==null?void 0:b[l])||a,E=v.useMemo(()=>y,Object.values(y));return h.jsx(w.Provider,{value:E,children:g})};c.displayName=i+"Provider";function d(f,p){var w;const g=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,y=v.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,RV(s,...e)]}function RV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var NV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],He=NV.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ti:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function V0(t,e){t&&ah.flushSync(()=>t.dispatchEvent(e))}function Tn(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function DV(t,e=globalThis==null?void 0:globalThis.document){const n=Tn(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var OV="DismissableLayer",A_="dismissableLayer.update",jV="dismissableLayer.pointerDownOutside",MV="dismissableLayer.focusOutside",aS,KP=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ch=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(KP),[d,f]=v.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=v.useState({}),y=kt(e,C=>f(C)),w=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(E),x=d?w.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,k=x>=b,D=FV(C=>{const S=C.target,I=[...c.branches].some(R=>R.contains(S));!k||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),L=VV(C=>{const S=C.target;[...c.branches].some(R=>R.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return DV(C=>{x===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(aS=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),lS(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=aS)}},[d,p,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),lS())},[d,c]),v.useEffect(()=>{const C=()=>g({});return document.addEventListener(A_,C),()=>document.removeEventListener(A_,C)},[]),h.jsx(He.div,{...l,ref:y,style:{pointerEvents:T?k?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,L.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,D.onPointerDownCapture)})});ch.displayName=OV;var LV="DismissableLayerBranch",GP=v.forwardRef((t,e)=>{const n=v.useContext(KP),r=v.useRef(null),s=kt(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(He.div,{...t,ref:s})});GP.displayName=LV;function FV(t,e=globalThis==null?void 0:globalThis.document){const n=Tn(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){QP(jV,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function VV(t,e=globalThis==null?void 0:globalThis.document){const n=Tn(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&QP(MV,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lS(){const t=new CustomEvent(A_);document.dispatchEvent(t)}function QP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?V0(s,i):s.dispatchEvent(i)}var UV=ch,$V=GP,po=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},BV="Portal",uh=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);po(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?cF.createPortal(h.jsx(He.div,{...r,ref:e}),o):null});uh.displayName=BV;function zV(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var Gr=t=>{const{present:e,children:n}=t,r=WV(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=kt(r.ref,HV(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Gr.displayName="Presence";function WV(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=zV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=xf(r.current);i.current=a==="mounted"?c:"none"},[a]),po(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,g=xf(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),po(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const w=xf(r.current).includes(g.animationName);if(g.target===e&&w&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=xf(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function xf(t){return(t==null?void 0:t.animationName)||"none"}function HV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Rc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=qV({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Tn(n),l=v.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function qV({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=Tn(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var KV="VisuallyHidden",U0=v.forwardRef((t,e)=>h.jsx(He.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));U0.displayName=KV;var $0="ToastProvider",[B0,GV,QV]=F0("Toast"),[YP,See]=Ac("Toast",[QV]),[YV,Zm]=YP($0),ZP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,d]=v.useState(0),f=v.useRef(!1),p=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${$0}\`. Expected non-empty \`string\`.`),h.jsx(B0.Provider,{scope:e,children:h.jsx(YV,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(g=>g+1),[]),onToastRemove:v.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};ZP.displayName=$0;var JP="ToastViewport",ZV=["F8"],R_="toast.viewportPause",N_="toast.viewportResume",XP=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=ZV,label:s="Notifications ({hotkey})",...i}=t,o=Zm(JP,n),a=GV(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),f=v.useRef(null),p=kt(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;v.useEffect(()=>{const E=b=>{var T;r.length!==0&&r.every(k=>b[k]||b.code===k)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),v.useEffect(()=>{const E=l.current,b=f.current;if(y&&E&&b){const x=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(R_);b.dispatchEvent(L),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(N_);b.dispatchEvent(L),o.isClosePausedRef.current=!1}},k=L=>{!E.contains(L.relatedTarget)&&T()},D=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",x),E.addEventListener("focusout",k),E.addEventListener("pointermove",x),E.addEventListener("pointerleave",D),window.addEventListener("blur",x),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",x),E.removeEventListener("focusout",k),E.removeEventListener("pointermove",x),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",x),window.removeEventListener("focus",T)}}},[y,o.isClosePausedRef]);const w=v.useCallback(({tabbingDirection:E})=>{const x=a().map(T=>{const k=T.ref.current,D=[k,...uU(k)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?x.reverse():x).flat()},[a]);return v.useEffect(()=>{const E=f.current;if(E){const b=x=>{var D,L,C;const T=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!T){const S=document.activeElement,I=x.shiftKey;if(x.target===E&&I){(D=c.current)==null||D.focus();return}const N=w({tabbingDirection:I?"backwards":"forwards"}),A=N.findIndex(H=>H===S);Lv(N.slice(A+1))?x.preventDefault():I?(L=c.current)==null||L.focus():(C=d.current)==null||C.focus()}};return E.addEventListener("keydown",b),()=>E.removeEventListener("keydown",b)}},[a,w]),h.jsxs($V,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&h.jsx(D_,{ref:c,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"forwards"});Lv(E)}}),h.jsx(B0.Slot,{scope:n,children:h.jsx(He.ol,{tabIndex:-1,...i,ref:p})}),y&&h.jsx(D_,{ref:d,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"backwards"});Lv(E)}})]})});XP.displayName=JP;var eA="ToastFocusProxy",D_=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Zm(eA,n);return h.jsx(U0,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});D_.displayName=eA;var Jm="Toast",JV="toast.swipeStart",XV="toast.swipeMove",eU="toast.swipeCancel",tU="toast.swipeEnd",tA=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Rc({prop:r,defaultProp:s,onChange:i});return h.jsx(Gr,{present:n||a,children:h.jsx(sU,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Tn(t.onPause),onResume:Tn(t.onResume),onSwipeStart:pe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});tA.displayName=Jm;var[nU,rU]=YP(Jm,{onClose(){}}),sU=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...y}=t,w=Zm(Jm,n),[E,b]=v.useState(null),x=kt(e,H=>b(H)),T=v.useRef(null),k=v.useRef(null),D=s||w.duration,L=v.useRef(0),C=v.useRef(D),S=v.useRef(0),{onToastAdd:I,onToastRemove:R}=w,O=Tn(()=>{var le;(E==null?void 0:E.contains(document.activeElement))&&((le=w.viewport)==null||le.focus()),o()}),N=v.useCallback(H=>{!H||H===1/0||(window.clearTimeout(S.current),L.current=new Date().getTime(),S.current=window.setTimeout(O,H))},[O]);v.useEffect(()=>{const H=w.viewport;if(H){const le=()=>{N(C.current),c==null||c()},ae=()=>{const K=new Date().getTime()-L.current;C.current=C.current-K,window.clearTimeout(S.current),l==null||l()};return H.addEventListener(R_,ae),H.addEventListener(N_,le),()=>{H.removeEventListener(R_,ae),H.removeEventListener(N_,le)}}},[w.viewport,D,l,c,N]),v.useEffect(()=>{i&&!w.isClosePausedRef.current&&N(D)},[i,D,w.isClosePausedRef,N]),v.useEffect(()=>(I(),()=>R()),[I,R]);const A=v.useMemo(()=>E?lA(E):null,[E]);return w.viewport?h.jsxs(h.Fragment,{children:[A&&h.jsx(iU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),h.jsx(nU,{scope:n,onClose:O,children:ah.createPortal(h.jsx(B0.ItemSlot,{scope:n,children:h.jsx(UV,{asChild:!0,onEscapeKeyDown:pe(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||O(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:pe(t.onPointerDown,H=>{H.button===0&&(T.current={x:H.clientX,y:H.clientY})}),onPointerMove:pe(t.onPointerMove,H=>{if(!T.current)return;const le=H.clientX-T.current.x,ae=H.clientY-T.current.y,K=!!k.current,F=["left","right"].includes(w.swipeDirection),z=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,X=F?z(0,le):0,ue=F?0:z(0,ae),Ee=H.pointerType==="touch"?10:2,Ue={x:X,y:ue},It={originalEvent:H,delta:Ue};K?(k.current=Ue,bf(XV,f,It,{discrete:!1})):cS(Ue,w.swipeDirection,Ee)?(k.current=Ue,bf(JV,d,It,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(le)>Ee||Math.abs(ae)>Ee)&&(T.current=null)}),onPointerUp:pe(t.onPointerUp,H=>{const le=k.current,ae=H.target;if(ae.hasPointerCapture(H.pointerId)&&ae.releasePointerCapture(H.pointerId),k.current=null,T.current=null,le){const K=H.currentTarget,F={originalEvent:H,delta:le};cS(le,w.swipeDirection,w.swipeThreshold)?bf(tU,g,F,{discrete:!0}):bf(eU,p,F,{discrete:!0}),K.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),iU=t=>{const{__scopeToast:e,children:n,...r}=t,s=Zm(Jm,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return lU(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(uh,{asChild:!0,children:h.jsx(U0,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},oU="ToastTitle",nA=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(He.div,{...r,ref:e})});nA.displayName=oU;var aU="ToastDescription",rA=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(He.div,{...r,ref:e})});rA.displayName=aU;var sA="ToastAction",iA=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(aA,{altText:n,asChild:!0,children:h.jsx(z0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${sA}\`. Expected non-empty \`string\`.`),null)});iA.displayName=sA;var oA="ToastClose",z0=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=rU(oA,n);return h.jsx(aA,{asChild:!0,children:h.jsx(He.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,s.onClose)})})});z0.displayName=oA;var aA=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function lA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),cU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...lA(r))}}),e}function bf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?V0(s,i):s.dispatchEvent(i)}var cS=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function lU(t=()=>{}){const e=Tn(t);po(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function cU(t){return t.nodeType===t.ELEMENT_NODE}function uU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Lv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var dU=ZP,cA=XP,uA=tA,dA=nA,hA=rA,fA=iA,pA=z0;function mA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=mA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function hU(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=mA(t))&&(r&&(r+=" "),r+=e);return r}const uS=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,dS=hU,Xm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return dS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const p=uS(d)||uS(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(y=>{let[w,E]=y;return Array.isArray(E)?E.includes({...i,...a}[w]):{...i,...a}[w]===E})?[...c,f,p]:c},[]);return dS(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gA=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...pU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gA("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(mU,{ref:i,iconNode:e,className:gA(`lucide-${fU(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=st("AirVent",[["path",{d:"M6 12H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"larmp2"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"M18.3 17.7a2.5 2.5 0 0 1-3.16 3.83 2.53 2.53 0 0 1-1.14-2V12",key:"1bo8pg"}],["path",{d:"M6.6 15.6A2 2 0 1 0 10 17v-5",key:"t9h90c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=st("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=st("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=st("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=st("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=st("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=st("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=st("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=st("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=st("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=st("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=st("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=st("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=st("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=st("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=st("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=st("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=st("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=st("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function EA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=EA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function RU(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=EA(t))&&(r&&(r+=" "),r+=e);return r}const H0="-",NU=t=>{const e=OU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(H0);return a[0]===""&&a.length!==1&&a.shift(),TA(a,e)||DU(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},TA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?TA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(H0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},hS=/^\[(.+)\]$/,DU=t=>{if(hS.test(t)){const e=hS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},OU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return MU(Object.entries(t.classGroups),n).forEach(([i,o])=>{M_(o,r,i,e)}),r},M_=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:fS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(jU(s)){M_(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{M_(o,fS(e,i),n,r)})})},fS=(t,e)=>{let n=t;return e.split(H0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jU=t=>t.isThemeGetter,MU=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,LU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},SA="!",FU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let E=0;E<a.length;E++){let b=a[E];if(c===0){if(b===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(d,E)),d=E+i;continue}if(b==="/"){f=E;continue}}b==="["?c++:b==="]"&&c--}const p=l.length===0?a:a.substring(d),g=p.startsWith(SA),y=g?p.substring(1):p,w=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},VU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},UU=t=>({cache:LU(t.cacheSize),parseClassName:FU(t),...NU(t)}),$U=/\s+/,BU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split($U);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let y=!!g,w=r(y?p.substring(0,g):p);if(!w){if(!y){a=c+(a.length>0?" "+a:a);continue}if(w=r(p),!w){a=c+(a.length>0?" "+a:a);continue}y=!1}const E=VU(d).join(":"),b=f?E+SA:E,x=b+w;if(i.includes(x))continue;i.push(x);const T=s(w,y);for(let k=0;k<T.length;++k){const D=T[k];i.push(b+D)}a=c+(a.length>0?" "+a:a)}return a};function zU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=CA(e))&&(r&&(r+=" "),r+=n);return r}const CA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=CA(t[r]))&&(n&&(n+=" "),n+=e);return n};function WU(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=UU(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=BU(l,n);return s(l,d),d}return function(){return i(zU.apply(null,arguments))}}const at=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kA=/^\[(?:([a-z-]+):)?(.+)\]$/i,HU=/^\d+\/\d+$/,qU=new Set(["px","full","screen"]),KU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Is=t=>Rl(t)||qU.has(t)||HU.test(t),wi=t=>Nc(t,"length",i3),Rl=t=>!!t&&!Number.isNaN(Number(t)),Fv=t=>Nc(t,"number",Rl),pu=t=>!!t&&Number.isInteger(Number(t)),JU=t=>t.endsWith("%")&&Rl(t.slice(0,-1)),Ie=t=>kA.test(t),xi=t=>KU.test(t),XU=new Set(["length","size","percentage"]),e3=t=>Nc(t,XU,IA),t3=t=>Nc(t,"position",IA),n3=new Set(["image","url"]),r3=t=>Nc(t,n3,a3),s3=t=>Nc(t,"",o3),mu=()=>!0,Nc=(t,e,n)=>{const r=kA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},i3=t=>GU.test(t)&&!QU.test(t),IA=()=>!1,o3=t=>YU.test(t),a3=t=>ZU.test(t),l3=()=>{const t=at("colors"),e=at("spacing"),n=at("blur"),r=at("brightness"),s=at("borderColor"),i=at("borderRadius"),o=at("borderSpacing"),a=at("borderWidth"),l=at("contrast"),c=at("grayscale"),d=at("hueRotate"),f=at("invert"),p=at("gap"),g=at("gradientColorStops"),y=at("gradientColorStopPositions"),w=at("inset"),E=at("margin"),b=at("opacity"),x=at("padding"),T=at("saturate"),k=at("scale"),D=at("sepia"),L=at("skew"),C=at("space"),S=at("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ie,e],N=()=>[Ie,e],A=()=>["",Is,wi],H=()=>["auto",Rl,Ie],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Ie],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[Rl,Ie];return{cacheSize:500,separator:":",theme:{colors:[mu],spacing:[Is,wi],blur:["none","",xi,Ie],brightness:ue(),borderColor:[t],borderRadius:["none","","full",xi,Ie],borderSpacing:N(),borderWidth:A(),contrast:ue(),grayscale:z(),hueRotate:ue(),invert:z(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[JU,wi],inset:O(),margin:O(),opacity:ue(),padding:N(),saturate:ue(),scale:ue(),sepia:z(),skew:ue(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[xi]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),Ie]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pu,Ie]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",pu,Ie]}],"grid-cols":[{"grid-cols":[mu]}],"col-start-end":[{col:["auto",{span:["full",pu,Ie]},Ie]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[mu]}],"row-start-end":[{row:["auto",{span:[pu,Ie]},Ie]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ie,e]}],"min-w":[{"min-w":[Ie,e,"min","max","fit"]}],"max-w":[{"max-w":[Ie,e,"none","full","min","max","fit","prose",{screen:[xi]},xi]}],h:[{h:[Ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xi,wi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fv]}],"font-family":[{font:[mu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",Rl,Fv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Is,Ie]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Is,wi]}],"underline-offset":[{"underline-offset":["auto",Is,Ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),t3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",e3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},r3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:ae()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[Is,Ie]}],"outline-w":[{outline:[Is,wi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Is,wi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xi,s3]}],"shadow-color":[{shadow:[mu]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xi,Ie]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[pu,Ie]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Is,wi,Fv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},c3=WU(l3);function ce(...t){return c3(RU(t))}const u3=dU,PA=v.forwardRef(({className:t,...e},n)=>h.jsx(cA,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));PA.displayName=cA.displayName;const d3=Xm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),AA=v.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(uA,{ref:r,className:ce(d3({variant:e}),t),...n}));AA.displayName=uA.displayName;const h3=v.forwardRef(({className:t,...e},n)=>h.jsx(fA,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));h3.displayName=fA.displayName;const RA=v.forwardRef(({className:t,...e},n)=>h.jsx(pA,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(bA,{className:"h-4 w-4"})}));RA.displayName=pA.displayName;const NA=v.forwardRef(({className:t,...e},n)=>h.jsx(dA,{ref:n,className:ce("text-sm font-semibold",t),...e}));NA.displayName=dA.displayName;const DA=v.forwardRef(({className:t,...e},n)=>h.jsx(hA,{ref:n,className:ce("text-sm opacity-90",t),...e}));DA.displayName=hA.displayName;function f3(){const{toasts:t}=Pc();return h.jsxs(u3,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(AA,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(NA,{children:n}),r&&h.jsx(DA,{children:r})]}),s,h.jsx(RA,{})]},e)}),h.jsx(PA,{})]})}const yr=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));yr.displayName="Card";const qs=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",t),...e}));qs.displayName="CardHeader";const Ks=v.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ks.displayName="CardTitle";const Gs=v.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));Gs.displayName="CardDescription";const _r=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("p-6 pt-0",t),...e}));_r.displayName="CardContent";const q0=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",t),...e}));q0.displayName="CardFooter";function p3(){return h.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:h.jsx(yr,{className:"w-full max-w-md mx-4",children:h.jsxs(_r,{className:"pt-6",children:[h.jsxs("div",{className:"flex mb-4 gap-2",children:[h.jsx(W0,{className:"h-8 w-8 text-red-500"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),h.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const m3=()=>{};var pS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},g3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new v3;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class v3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y3=function(t){const e=OA(t);return jA.encodeByteArray(e,!0)},Hp=function(t){return y3(t).replace(/\./g,"")},MA=function(t){try{return jA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=()=>_3().__FIREBASE_DEFAULTS__,x3=()=>{if(typeof process>"u"||typeof pS>"u")return;const t=pS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MA(t[1]);return e&&JSON.parse(e)},eg=()=>{try{return m3()||w3()||x3()||b3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LA=t=>{var e,n;return(n=(e=eg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},E3=t=>{const e=LA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FA=()=>{var t;return(t=eg())===null||t===void 0?void 0:t.config},VA=t=>{var e;return(e=eg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T3=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hp(JSON.stringify(n)),Hp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function k3(){var t;const e=(t=eg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R3(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function N3(){return!k3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D3(){try{return typeof indexedDB=="object"}catch{return!1}}function O3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="FirebaseError";class di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=j3,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dh.prototype.create)}}class dh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?M3(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new di(s,a,r)}}function M3(t,e){return t.replace(L3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const L3=/\{\$([^}]+)}/g;function F3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ea(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(mS(i)&&mS(o)){if(!Ea(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function mS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ku(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function V3(t,e){const n=new U3(t,e);return n.subscribe.bind(n)}class U3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vv),s.error===void 0&&(s.error=Vv),s.complete===void 0&&(s.complete=Vv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t){return t&&t._delegate?t._delegate:t}class Ta{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new T3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W3(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z3(t){return t===qo?void 0:t}function W3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const q3={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},K3=je.INFO,G3={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},Q3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=G3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K0{constructor(e){this.name=e,this._logLevel=K3,this._logHandler=Q3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const Y3=(t,e)=>e.some(n=>t instanceof n);let gS,vS;function Z3(){return gS||(gS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J3(){return vS||(vS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UA=new WeakMap,L_=new WeakMap,$A=new WeakMap,Uv=new WeakMap,G0=new WeakMap;function X3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(oo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&UA.set(n,t)}).catch(()=>{}),G0.set(e,t),e}function e$(t){if(L_.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});L_.set(t,e)}let F_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$A.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t$(t){F_=t(F_)}function n$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($v(this),e,...n);return $A.set(r,e.sort?e.sort():[e]),oo(r)}:J3().includes(t)?function(...e){return t.apply($v(this),e),oo(UA.get(this))}:function(...e){return oo(t.apply($v(this),e))}}function r$(t){return typeof t=="function"?n$(t):(t instanceof IDBTransaction&&e$(t),Y3(t,Z3())?new Proxy(t,F_):t)}function oo(t){if(t instanceof IDBRequest)return X3(t);if(Uv.has(t))return Uv.get(t);const e=r$(t);return e!==t&&(Uv.set(t,e),G0.set(e,t)),e}const $v=t=>G0.get(t);function s$(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=oo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(oo(o.result),l.oldVersion,l.newVersion,oo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const i$=["get","getKey","getAll","getAllKeys","count"],o$=["put","add","delete","clear"],Bv=new Map;function yS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bv.get(e))return Bv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=o$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||i$.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Bv.set(e,i),i}t$(t=>({...t,get:(e,n,r)=>yS(e,n)||t.get(e,n,r),has:(e,n)=>!!yS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function l$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const V_="@firebase/app",_S="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new K0("@firebase/app"),c$="@firebase/app-compat",u$="@firebase/analytics-compat",d$="@firebase/analytics",h$="@firebase/app-check-compat",f$="@firebase/app-check",p$="@firebase/auth",m$="@firebase/auth-compat",g$="@firebase/database",v$="@firebase/data-connect",y$="@firebase/database-compat",_$="@firebase/functions",w$="@firebase/functions-compat",x$="@firebase/installations",b$="@firebase/installations-compat",E$="@firebase/messaging",T$="@firebase/messaging-compat",S$="@firebase/performance",C$="@firebase/performance-compat",k$="@firebase/remote-config",I$="@firebase/remote-config-compat",P$="@firebase/storage",A$="@firebase/storage-compat",R$="@firebase/firestore",N$="@firebase/vertexai",D$="@firebase/firestore-compat",O$="firebase",j$="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="[DEFAULT]",M$={[V_]:"fire-core",[c$]:"fire-core-compat",[d$]:"fire-analytics",[u$]:"fire-analytics-compat",[f$]:"fire-app-check",[h$]:"fire-app-check-compat",[p$]:"fire-auth",[m$]:"fire-auth-compat",[g$]:"fire-rtdb",[v$]:"fire-data-connect",[y$]:"fire-rtdb-compat",[_$]:"fire-fn",[w$]:"fire-fn-compat",[x$]:"fire-iid",[b$]:"fire-iid-compat",[E$]:"fire-fcm",[T$]:"fire-fcm-compat",[S$]:"fire-perf",[C$]:"fire-perf-compat",[k$]:"fire-rc",[I$]:"fire-rc-compat",[P$]:"fire-gcs",[A$]:"fire-gcs-compat",[R$]:"fire-fst",[D$]:"fire-fst-compat",[N$]:"fire-vertex","fire-js":"fire-js",[O$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=new Map,L$=new Map,$_=new Map;function wS(t,e){try{t.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ac(t){const e=t.name;if($_.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;$_.set(e,t);for(const n of qp.values())wS(n,t);for(const n of L$.values())wS(n,t);return!0}function Q0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ao=new dh("app","Firebase",F$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=j$;function BA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:U_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ao.create("bad-app-name",{appName:String(s)});if(n||(n=FA()),!n)throw ao.create("no-options");const i=qp.get(s);if(i){if(Ea(n,i.options)&&Ea(r,i.config))return i;throw ao.create("duplicate-app",{appName:s})}const o=new H3(s);for(const l of $_.values())o.addComponent(l);const a=new V$(n,r,o);return qp.set(s,a),a}function zA(t=U_){const e=qp.get(t);if(!e&&t===U_&&FA())return BA();if(!e)throw ao.create("no-app",{appName:t});return e}function lo(t,e,n){var r;let s=(r=M$[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(a.join(" "));return}ac(new Ta(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="firebase-heartbeat-database",$$=1,bd="firebase-heartbeat-store";let zv=null;function WA(){return zv||(zv=s$(U$,$$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ao.create("idb-open",{originalErrorMessage:t.message})})),zv}async function B$(t){try{const n=(await WA()).transaction(bd),r=await n.objectStore(bd).get(HA(t));return await n.done,r}catch(e){if(e instanceof di)ni.warn(e.message);else{const n=ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(n.message)}}}async function xS(t,e){try{const r=(await WA()).transaction(bd,"readwrite");await r.objectStore(bd).put(e,HA(t)),await r.done}catch(n){if(n instanceof di)ni.warn(n.message);else{const r=ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ni.warn(r.message)}}}function HA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=1024,W$=30;class H${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>W$){const o=G$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bS(),{heartbeatsToSend:r,unsentEntries:s}=q$(this._heartbeatsCache.heartbeats),i=Hp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ni.warn(n),""}}}function bS(){return new Date().toISOString().substring(0,10)}function q$(t,e=z$){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ES(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ES(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class K${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D3()?O3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return xS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return xS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ES(t){return Hp(JSON.stringify({version:2,heartbeats:t})).length}function G$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){ac(new Ta("platform-logger",e=>new a$(e),"PRIVATE")),ac(new Ta("heartbeat",e=>new H$(e),"PRIVATE")),lo(V_,_S,t),lo(V_,_S,"esm2017"),lo("fire-js","")}Q$("");var Y$="firebase",Z$="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo(Y$,Z$,"app");var os=function(){return os=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},os.apply(this,arguments)};function fh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function J$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function qA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X$=qA,KA=new dh("auth","Firebase",qA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new K0("@firebase/auth");function e5(t,...e){Kp.logLevel<=je.WARN&&Kp.warn(`Auth (${Dc}): ${t}`,...e)}function ep(t,...e){Kp.logLevel<=je.ERROR&&Kp.error(`Auth (${Dc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw Z0(t,...e)}function us(t,...e){return Z0(t,...e)}function Y0(t,e,n){const r=Object.assign(Object.assign({},X$()),{[e]:n});return new dh("auth","Firebase",r).create(e,{appName:t.name})}function ds(t){return Y0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tr(t,"argument-error"),Y0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Z0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KA.create(t,...e)}function ve(t,e,...n){if(!t)throw Z0(e,...n)}function Us(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ep(e),new Error(e)}function ri(t,e){t||Us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function n5(){return TS()==="http:"||TS()==="https:"}function TS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n5()||P3()||"connection"in navigator)?navigator.onLine:!0}function s5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=C3()||A3()}get(){return r5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t,e){ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=new ph(3e4,6e4);function Ro(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hi(t,e,n,r,s={}){return QA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=hh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return I3()||(c.referrerPolicy="no-referrer"),GA.fetch()(YA(t,t.config.apiHost,n,a),c)})}async function QA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},i5),e);try{const s=new l5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ef(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ef(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ef(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Y0(t,d,c);Tr(t,d)}}catch(s){if(s instanceof di)throw s;Tr(t,"network-request-failed",{message:String(s)})}}async function mh(t,e,n,r,s={}){const i=await hi(t,e,n,r,s);return"mfaPendingCredential"in i&&Tr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function YA(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?J0(t.config,s):`${t.config.apiScheme}://${s}`}function a5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class l5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(us(this.auth,"network-request-failed")),o5.get())})}}function Ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=us(t,e,r);return s.customData._tokenResponse=n,s}function SS(t){return t!==void 0&&t.enterprise!==void 0}class c5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return a5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u5(t,e){return hi(t,"GET","/v2/recaptchaConfig",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e){return hi(t,"POST","/v1/accounts:delete",e)}async function ZA(t,e){return hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h5(t,e=!1){const n=tn(t),r=await n.getIdToken(e),s=X0(r);ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Gu(Wv(s.auth_time)),issuedAtTime:Gu(Wv(s.iat)),expirationTime:Gu(Wv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Wv(t){return Number(t)*1e3}function X0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ep("JWT malformed, contained fewer than 3 sections"),null;try{const s=MA(n);return s?JSON.parse(s):(ep("Failed to decode base64 JWT payload"),null)}catch(s){return ep("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function CS(t){const e=X0(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof di&&f5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await lc(t,ZA(n,{idToken:r}));ve(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?JA(i.providerUserInfo):[],a=g5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new z_(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function m5(t){const e=tn(t);await Gp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function JA(t){return t.map(e=>{var{providerId:n}=e,r=fh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e){const n=await QA(t,{},async()=>{const r=hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=YA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y5(t,e){return hi(t,"POST","/v2/accounts:revokeToken",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=CS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await v5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Nl;return r&&(ve(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ve(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ve(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return Us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $s{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=fh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new z_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await lc(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h5(this,e)}reload(){return m5(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $s(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await lc(this,d5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:k,isAnonymous:D,providerData:L,stsTokenManager:C}=n;ve(T&&C,e,"internal-error");const S=Nl.fromJSON(this.name,C);ve(typeof T=="string",e,"internal-error"),bi(f,e.name),bi(p,e.name),ve(typeof k=="boolean",e,"internal-error"),ve(typeof D=="boolean",e,"internal-error"),bi(g,e.name),bi(y,e.name),bi(w,e.name),bi(E,e.name),bi(b,e.name),bi(x,e.name);const I=new $s({uid:T,auth:e,email:p,emailVerified:k,displayName:f,isAnonymous:D,photoURL:y,phoneNumber:g,tenantId:w,stsTokenManager:S,createdAt:b,lastLoginAt:x});return L&&Array.isArray(L)&&(I.providerData=L.map(R=>Object.assign({},R))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Nl;s.updateFromServerResponse(n);const i=new $s({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ve(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?JA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Nl;a.updateFromIdToken(r);const l=new $s({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new z_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new Map;function Bs(t){ri(t instanceof Function,"Expected a class definition");let e=kS.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XA.type="NONE";const IS=XA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t,e,n){return`firebase:${t}:${e}:${n}`}class Dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=tp(this.userKey,s.apiKey,i),this.fullPersistenceKey=tp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$s._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Dl(Bs(IS),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Bs(IS);const o=tp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=$s._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Dl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Dl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iR(e))return"Blackberry";if(oR(e))return"Webos";if(tR(e))return"Safari";if((e.includes("chrome/")||nR(e))&&!e.includes("edge/"))return"Chrome";if(sR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eR(t=mn()){return/firefox\//i.test(t)}function tR(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nR(t=mn()){return/crios\//i.test(t)}function rR(t=mn()){return/iemobile/i.test(t)}function sR(t=mn()){return/android/i.test(t)}function iR(t=mn()){return/blackberry/i.test(t)}function oR(t=mn()){return/webos/i.test(t)}function ex(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _5(t=mn()){var e;return ex(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w5(){return R3()&&document.documentMode===10}function aR(t=mn()){return ex(t)||sR(t)||oR(t)||iR(t)||/windows phone/i.test(t)||rR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t,e=[]){let n;switch(t){case"Browser":n=PS(mn());break;case"Worker":n=`${PS(mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(t,e={}){return hi(t,"GET","/v2/passwordPolicy",Ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=6;class T5{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:E5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AS(this),this.idTokenSubscription=new AS(this),this.beforeStateQueue=new x5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Dl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ZA(this,{idToken:e}),r=await $s._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(ds(this));const n=e?tn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b5(this),n=new T5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bs(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[Bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&e5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fi(t){return tn(t)}class AS{constructor(e){this.auth=e,this.observer=null,this.addObserver=V3(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C5(t){tg=t}function cR(t){return tg.loadJS(t)}function k5(){return tg.recaptchaEnterpriseScript}function I5(){return tg.gapiScript}function P5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class A5{constructor(){this.enterprise=new R5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class R5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const N5="recaptcha-enterprise",uR="NO_RECAPTCHA";class D5{constructor(e){this.type=N5,this.auth=fi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{u5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new c5(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;SS(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(uR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new A5().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&SS(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=k5();l.length!==0&&(l+=a),cR(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function RS(t,e,n,r=!1,s=!1){const i=new D5(t);let o;if(s)o=uR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function W_(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await RS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await RS(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t,e){const n=Q0(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ea(i,e??{}))return s;Tr(s,"already-initialized")}return n.initialize({options:e})}function j5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function M5(t,e,n){const r=fi(t);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=dR(e),{host:o,port:a}=L5(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(Ea(c,r.config.emulator)&&Ea(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,F5()}function dR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L5(t){const e=dR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:NS(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:NS(o)}}}function NS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Us("not implemented")}_getIdTokenResponse(e){return Us("not implemented")}_linkToIdToken(e,n){return Us("not implemented")}_getReauthenticationResolver(e){return Us("not implemented")}}async function V5(t,e){return hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e){return mh(t,"POST","/v1/accounts:signInWithPassword",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){return mh(t,"POST","/v1/accounts:signInWithEmailLink",Ro(t,e))}async function B5(t,e){return mh(t,"POST","/v1/accounts:signInWithEmailLink",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends tx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ed(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ed(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W_(e,n,"signInWithPassword",U5);case"emailLink":return $5(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W_(e,r,"signUpPassword",V5);case"emailLink":return B5(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e){return mh(t,"POST","/v1/accounts:signInWithIdp",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="http://localhost";class Sa extends tx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=fh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Sa(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ol(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ol(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ol(e,n)}buildRequest(){const e={requestUri:z5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H5(t){const e=Cu(ku(t)).link,n=e?Cu(ku(e)).deep_link_id:null,r=Cu(ku(t)).deep_link_id;return(r?Cu(ku(r)).link:null)||r||n||e||t}class nx{constructor(e){var n,r,s,i,o,a;const l=Cu(ku(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=W5((s=l.mode)!==null&&s!==void 0?s:null);ve(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=H5(e);try{return new nx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.providerId=Oc.PROVIDER_ID}static credential(e,n){return Ed._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=nx.parseLink(n);return ve(r,"argument-error"),Ed._fromEmailAndCode(e,r.code,r.tenantId)}}Oc.PROVIDER_ID="password";Oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends rx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends gh{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends gh{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends gh{constructor(){super("twitter.com")}static credential(e,n){return Sa._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e){return mh(t,"POST","/v1/accounts:signUp",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await $s._fromIdTokenResponse(e,r,s),o=DS(r);return new Ca({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=DS(r);return new Ca({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function DS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends di{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Qp(e,n,r,s)}}function hR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qp._fromErrorAndOperation(t,i,e,r):i})}async function K5(t,e,n=!1){const r=await lc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,e,n=!1){const{auth:r}=t;if(Jn(r.app))return Promise.reject(ds(r));const s="reauthenticate";try{const i=await lc(t,hR(r,s,e,t),n);ve(i.idToken,r,"internal-error");const o=X0(i.idToken);ve(o,r,"internal-error");const{sub:a}=o;return ve(t.uid===a,r,"user-mismatch"),Ca._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e,n=!1){if(Jn(t.app))return Promise.reject(ds(t));const r="signIn",s=await hR(t,r,e),i=await Ca._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Q5(t,e){return fR(fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t){const e=fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Y5(t,e,n){if(Jn(t.app))return Promise.reject(ds(t));const r=fi(t),o=await W_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&pR(t),l}),a=await Ca._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Z5(t,e,n){return Jn(t.app)?Promise.reject(ds(t)):Q5(tn(t),Oc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e){return hi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=tn(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await lc(r,J5(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function e6(t,e,n,r){return tn(t).onIdTokenChanged(e,n,r)}function t6(t,e,n){return tn(t).beforeAuthStateChanged(e,n)}function n6(t){return tn(t).signOut()}const Yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yp,"1"),this.storage.removeItem(Yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=1e3,s6=10;class gR extends mR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);w5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,s6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},r6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gR.type="LOCAL";const i6=gR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends mR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vR.type="SESSION";const yR=vR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ng(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await o6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ng.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=sx("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(){return window}function l6(t){hs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){return typeof hs().WorkerGlobalScope<"u"&&typeof hs().importScripts=="function"}async function c6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function d6(){return _R()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firebaseLocalStorageDb",h6=1,Zp="firebaseLocalStorage",xR="fbase_key";class vh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rg(t,e){return t.transaction([Zp],e?"readwrite":"readonly").objectStore(Zp)}function f6(){const t=indexedDB.deleteDatabase(wR);return new vh(t).toPromise()}function H_(){const t=indexedDB.open(wR,h6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zp,{keyPath:xR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zp)?e(r):(r.close(),await f6(),e(await H_()))})})}async function OS(t,e,n){const r=rg(t,!0).put({[xR]:e,value:n});return new vh(r).toPromise()}async function p6(t,e){const n=rg(t,!1).get(e),r=await new vh(n).toPromise();return r===void 0?null:r.value}function jS(t,e){const n=rg(t,!0).delete(e);return new vh(n).toPromise()}const m6=800,g6=3;class bR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await H_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>g6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _R()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ng._getInstance(d6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await c6(),!this.activeServiceWorker)return;this.sender=new a6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await H_();return await OS(e,Yp,"1"),await jS(e,Yp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>OS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>p6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=rg(s,!1).getAll();return new vh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),m6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bR.type="LOCAL";const v6=bR;new ph(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t,e){return e?Bs(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix extends tx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function y6(t){return fR(t.auth,new ix(t),t.bypassAuthState)}function _6(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),G5(n,new ix(t),t.bypassAuthState)}async function w6(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),K5(n,new ix(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y6;case"linkViaPopup":case"linkViaRedirect":return w6;case"reauthViaPopup":case"reauthViaRedirect":return _6;default:Tr(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new ph(2e3,1e4);class bl extends TR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=sx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x6.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="pendingRedirect",np=new Map;class E6 extends TR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=np.get(this.auth._key());if(!e){try{const r=await T6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}np.set(this.auth._key(),e)}return this.bypassAuthState||np.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T6(t,e){const n=CR(e),r=SR(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function S6(t,e){return SR(t)._set(CR(e),"true")}function C6(t,e){np.set(t._key(),e)}function SR(t){return Bs(t._redirectPersistence)}function CR(t){return tp(b6,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t,e,n){return I6(t,e,n)}async function I6(t,e,n){if(Jn(t.app))return Promise.reject(ds(t));const r=fi(t);t5(t,e,rx),await r._initializationPromise;const s=ER(r,n);return await S6(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function P6(t,e){return await fi(t)._initializationPromise,kR(t,e,!1)}async function kR(t,e,n=!1){if(Jn(t.app))return Promise.reject(ds(t));const r=fi(t),s=ER(r,e),o=await new E6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=10*60*1e3;class R6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(us(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A6&&this.cachedEventUids.clear(),this.cachedEventUids.has(MS(e))}saveEventToCache(e){this.cachedEventUids.add(MS(e)),this.lastProcessedEventTime=Date.now()}}function MS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function N6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(t,e={}){return hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j6=/^https?/;async function M6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await D6(t);for(const n of e)try{if(L6(n))return}catch{}Tr(t,"unauthorized-domain")}function L6(t){const e=B_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!j6.test(n))return!1;if(O6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=new ph(3e4,6e4);function LS(){const t=hs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function V6(t){return new Promise((e,n)=>{var r,s,i;function o(){LS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LS(),n(us(t,"network-request-failed"))},timeout:F6.get()})}if(!((s=(r=hs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=hs().gapi)===null||i===void 0)&&i.load)o();else{const a=P5("iframefcb");return hs()[a]=()=>{gapi.load?o():n(us(t,"network-request-failed"))},cR(`${I5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rp=null,e})}let rp=null;function U6(t){return rp=rp||V6(t),rp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new ph(5e3,15e3),B6="__/auth/iframe",z6="emulator/auth/iframe",W6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q6(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?J0(e,z6):`https://${t.config.authDomain}/${B6}`,r={apiKey:e.apiKey,appName:t.name,v:Dc},s=H6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${hh(r).slice(1)}`}async function K6(t){const e=await U6(t),n=hs().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:q6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=us(t,"network-request-failed"),a=hs().setTimeout(()=>{i(o)},$6.get());function l(){hs().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q6=500,Y6=600,Z6="_blank",J6="http://localhost";class FS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X6(t,e,n,r=Q6,s=Y6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},G6),{width:r.toString(),height:s.toString(),top:i,left:o}),c=mn().toLowerCase();n&&(a=nR(c)?Z6:n),eR(c)&&(e=e||J6,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,y])=>`${p}${g}=${y},`,"");if(_5(c)&&a!=="_self")return e9(e||"",a),new FS(null);const f=window.open(e||"",a,d);ve(f,t,"popup-blocked");try{f.focus()}catch{}return new FS(f)}function e9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="__/auth/handler",n9="emulator/auth/handler",r9=encodeURIComponent("fac");async function VS(t,e,n,r,s,i){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dc,eventId:s};if(e instanceof rx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",F3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof gh){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${r9}=${encodeURIComponent(l)}`:"";return`${s9(t)}?${hh(a).slice(1)}${c}`}function s9({config:t}){return t.emulator?J0(t,n9):`https://${t.authDomain}/${t9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="webStorageSupport";class i9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yR,this._completeRedirectFn=kR,this._overrideRedirectResult=C6}async _openPopup(e,n,r,s){var i;ri((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await VS(e,n,r,B_(),s);return X6(e,o,sx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await VS(e,n,r,B_(),s);return l6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ri(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await K6(e),r=new R6(e);return n.register("authEvent",s=>(ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hv,{type:Hv},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Hv];o!==void 0&&n(!!o),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aR()||tR()||ex()}}const o9=i9;var US="@firebase/auth",$S="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c9(t){ac(new Ta("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lR(t)},c=new S5(r,s,i,l);return j5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ac(new Ta("auth-internal",e=>{const n=fi(e.getProvider("auth").getImmediate());return(r=>new a9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lo(US,$S,l9(t)),lo(US,$S,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=5*60,d9=VA("authIdTokenMaxAge")||u9;let BS=null;const h9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>d9)return;const s=n==null?void 0:n.token;BS!==s&&(BS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function f9(t=zA()){const e=Q0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=O5(t,{popupRedirectResolver:o9,persistence:[v6,i6,yR]}),r=VA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=h9(i.toString());t6(n,o,()=>o(n.currentUser)),e6(n,a=>o(a))}}const s=LA("auth");return s&&M5(n,`http://${s}`),n}function p9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}C5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=us("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",p9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c9("Browser");var zS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var co,PR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function I(){}I.prototype=S.prototype,C.D=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(R,O,N){for(var A=Array(arguments.length-2),H=2;H<arguments.length;H++)A[H-2]=arguments[H];return S.prototype[O].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,I){I||(I=0);var R=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)R[O]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(O=0;16>O;++O)R[O]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],O=C.g[2];var N=C.g[3],A=S+(N^I&(O^N))+R[0]+3614090360&4294967295;S=I+(A<<7&4294967295|A>>>25),A=N+(O^S&(I^O))+R[1]+3905402710&4294967295,N=S+(A<<12&4294967295|A>>>20),A=O+(I^N&(S^I))+R[2]+606105819&4294967295,O=N+(A<<17&4294967295|A>>>15),A=I+(S^O&(N^S))+R[3]+3250441966&4294967295,I=O+(A<<22&4294967295|A>>>10),A=S+(N^I&(O^N))+R[4]+4118548399&4294967295,S=I+(A<<7&4294967295|A>>>25),A=N+(O^S&(I^O))+R[5]+1200080426&4294967295,N=S+(A<<12&4294967295|A>>>20),A=O+(I^N&(S^I))+R[6]+2821735955&4294967295,O=N+(A<<17&4294967295|A>>>15),A=I+(S^O&(N^S))+R[7]+4249261313&4294967295,I=O+(A<<22&4294967295|A>>>10),A=S+(N^I&(O^N))+R[8]+1770035416&4294967295,S=I+(A<<7&4294967295|A>>>25),A=N+(O^S&(I^O))+R[9]+2336552879&4294967295,N=S+(A<<12&4294967295|A>>>20),A=O+(I^N&(S^I))+R[10]+4294925233&4294967295,O=N+(A<<17&4294967295|A>>>15),A=I+(S^O&(N^S))+R[11]+2304563134&4294967295,I=O+(A<<22&4294967295|A>>>10),A=S+(N^I&(O^N))+R[12]+1804603682&4294967295,S=I+(A<<7&4294967295|A>>>25),A=N+(O^S&(I^O))+R[13]+4254626195&4294967295,N=S+(A<<12&4294967295|A>>>20),A=O+(I^N&(S^I))+R[14]+2792965006&4294967295,O=N+(A<<17&4294967295|A>>>15),A=I+(S^O&(N^S))+R[15]+1236535329&4294967295,I=O+(A<<22&4294967295|A>>>10),A=S+(O^N&(I^O))+R[1]+4129170786&4294967295,S=I+(A<<5&4294967295|A>>>27),A=N+(I^O&(S^I))+R[6]+3225465664&4294967295,N=S+(A<<9&4294967295|A>>>23),A=O+(S^I&(N^S))+R[11]+643717713&4294967295,O=N+(A<<14&4294967295|A>>>18),A=I+(N^S&(O^N))+R[0]+3921069994&4294967295,I=O+(A<<20&4294967295|A>>>12),A=S+(O^N&(I^O))+R[5]+3593408605&4294967295,S=I+(A<<5&4294967295|A>>>27),A=N+(I^O&(S^I))+R[10]+38016083&4294967295,N=S+(A<<9&4294967295|A>>>23),A=O+(S^I&(N^S))+R[15]+3634488961&4294967295,O=N+(A<<14&4294967295|A>>>18),A=I+(N^S&(O^N))+R[4]+3889429448&4294967295,I=O+(A<<20&4294967295|A>>>12),A=S+(O^N&(I^O))+R[9]+568446438&4294967295,S=I+(A<<5&4294967295|A>>>27),A=N+(I^O&(S^I))+R[14]+3275163606&4294967295,N=S+(A<<9&4294967295|A>>>23),A=O+(S^I&(N^S))+R[3]+4107603335&4294967295,O=N+(A<<14&4294967295|A>>>18),A=I+(N^S&(O^N))+R[8]+1163531501&4294967295,I=O+(A<<20&4294967295|A>>>12),A=S+(O^N&(I^O))+R[13]+2850285829&4294967295,S=I+(A<<5&4294967295|A>>>27),A=N+(I^O&(S^I))+R[2]+4243563512&4294967295,N=S+(A<<9&4294967295|A>>>23),A=O+(S^I&(N^S))+R[7]+1735328473&4294967295,O=N+(A<<14&4294967295|A>>>18),A=I+(N^S&(O^N))+R[12]+2368359562&4294967295,I=O+(A<<20&4294967295|A>>>12),A=S+(I^O^N)+R[5]+4294588738&4294967295,S=I+(A<<4&4294967295|A>>>28),A=N+(S^I^O)+R[8]+2272392833&4294967295,N=S+(A<<11&4294967295|A>>>21),A=O+(N^S^I)+R[11]+1839030562&4294967295,O=N+(A<<16&4294967295|A>>>16),A=I+(O^N^S)+R[14]+4259657740&4294967295,I=O+(A<<23&4294967295|A>>>9),A=S+(I^O^N)+R[1]+2763975236&4294967295,S=I+(A<<4&4294967295|A>>>28),A=N+(S^I^O)+R[4]+1272893353&4294967295,N=S+(A<<11&4294967295|A>>>21),A=O+(N^S^I)+R[7]+4139469664&4294967295,O=N+(A<<16&4294967295|A>>>16),A=I+(O^N^S)+R[10]+3200236656&4294967295,I=O+(A<<23&4294967295|A>>>9),A=S+(I^O^N)+R[13]+681279174&4294967295,S=I+(A<<4&4294967295|A>>>28),A=N+(S^I^O)+R[0]+3936430074&4294967295,N=S+(A<<11&4294967295|A>>>21),A=O+(N^S^I)+R[3]+3572445317&4294967295,O=N+(A<<16&4294967295|A>>>16),A=I+(O^N^S)+R[6]+76029189&4294967295,I=O+(A<<23&4294967295|A>>>9),A=S+(I^O^N)+R[9]+3654602809&4294967295,S=I+(A<<4&4294967295|A>>>28),A=N+(S^I^O)+R[12]+3873151461&4294967295,N=S+(A<<11&4294967295|A>>>21),A=O+(N^S^I)+R[15]+530742520&4294967295,O=N+(A<<16&4294967295|A>>>16),A=I+(O^N^S)+R[2]+3299628645&4294967295,I=O+(A<<23&4294967295|A>>>9),A=S+(O^(I|~N))+R[0]+4096336452&4294967295,S=I+(A<<6&4294967295|A>>>26),A=N+(I^(S|~O))+R[7]+1126891415&4294967295,N=S+(A<<10&4294967295|A>>>22),A=O+(S^(N|~I))+R[14]+2878612391&4294967295,O=N+(A<<15&4294967295|A>>>17),A=I+(N^(O|~S))+R[5]+4237533241&4294967295,I=O+(A<<21&4294967295|A>>>11),A=S+(O^(I|~N))+R[12]+1700485571&4294967295,S=I+(A<<6&4294967295|A>>>26),A=N+(I^(S|~O))+R[3]+2399980690&4294967295,N=S+(A<<10&4294967295|A>>>22),A=O+(S^(N|~I))+R[10]+4293915773&4294967295,O=N+(A<<15&4294967295|A>>>17),A=I+(N^(O|~S))+R[1]+2240044497&4294967295,I=O+(A<<21&4294967295|A>>>11),A=S+(O^(I|~N))+R[8]+1873313359&4294967295,S=I+(A<<6&4294967295|A>>>26),A=N+(I^(S|~O))+R[15]+4264355552&4294967295,N=S+(A<<10&4294967295|A>>>22),A=O+(S^(N|~I))+R[6]+2734768916&4294967295,O=N+(A<<15&4294967295|A>>>17),A=I+(N^(O|~S))+R[13]+1309151649&4294967295,I=O+(A<<21&4294967295|A>>>11),A=S+(O^(I|~N))+R[4]+4149444226&4294967295,S=I+(A<<6&4294967295|A>>>26),A=N+(I^(S|~O))+R[11]+3174756917&4294967295,N=S+(A<<10&4294967295|A>>>22),A=O+(S^(N|~I))+R[2]+718787259&4294967295,O=N+(A<<15&4294967295|A>>>17),A=I+(N^(O|~S))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var I=S-this.blockSize,R=this.B,O=this.h,N=0;N<S;){if(O==0)for(;N<=I;)s(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<S;)if(R[O++]=C.charCodeAt(N++),O==this.blockSize){s(this,R),O=0;break}}else for(;N<S;)if(R[O++]=C[N++],O==this.blockSize){s(this,R),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var I=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=I&255,I/=256;for(this.u(C),C=Array(16),S=I=0;4>S;++S)for(var R=0;32>R;R+=8)C[I++]=this.g[S]>>>R&255;return C};function i(C,S){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function o(C,S){this.h=S;for(var I=[],R=!0,O=C.length-1;0<=O;O--){var N=C[O]|0;R&&N==S||(I[O]=N,R=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return E(c(-C));for(var S=[],I=1,R=0;C>=I;R++)S[R]=C/I|0,I*=4294967296;return new o(S,0)}function d(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return E(d(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(S,8)),R=f,O=0;O<C.length;O+=8){var N=Math.min(8,C.length-O),A=parseInt(C.substring(O,O+N),S);8>N?(N=c(Math.pow(S,N)),R=R.j(N).add(c(A))):(R=R.j(I),R=R.add(c(A)))}return R}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var C=0,S=1,I=0;I<this.g.length;I++){var R=this.i(I);C+=(0<=R?R:4294967296+R)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(w(this))return"-"+E(this).toString(C);for(var S=c(Math.pow(C,6)),I=this,R="";;){var O=k(I,S).g;I=b(I,O.j(S));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=O,y(I))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=b(this,C),w(C)?-1:y(C)?0:1};function E(C){for(var S=C.g.length,I=[],R=0;R<S;R++)I[R]=~C.g[R];return new o(I,~C.h).add(p)}t.abs=function(){return w(this)?E(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],R=0,O=0;O<=S;O++){var N=R+(this.i(O)&65535)+(C.i(O)&65535),A=(N>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);R=A>>>16,N&=65535,A&=65535,I[O]=A<<16|N}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(C,S){return C.add(E(S))}t.j=function(C){if(y(this)||y(C))return f;if(w(this))return w(C)?E(this).j(E(C)):E(E(this).j(C));if(w(C))return E(this.j(E(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var S=this.g.length+C.g.length,I=[],R=0;R<2*S;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<C.g.length;O++){var N=this.i(R)>>>16,A=this.i(R)&65535,H=C.i(O)>>>16,le=C.i(O)&65535;I[2*R+2*O]+=A*le,x(I,2*R+2*O),I[2*R+2*O+1]+=N*le,x(I,2*R+2*O+1),I[2*R+2*O+1]+=A*H,x(I,2*R+2*O+1),I[2*R+2*O+2]+=N*H,x(I,2*R+2*O+2)}for(R=0;R<S;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=S;R<2*S;R++)I[R]=0;return new o(I,0)};function x(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function T(C,S){this.g=C,this.h=S}function k(C,S){if(y(S))throw Error("division by zero");if(y(C))return new T(f,f);if(w(C))return S=k(E(C),S),new T(E(S.g),E(S.h));if(w(S))return S=k(C,E(S)),new T(E(S.g),S.h);if(30<C.g.length){if(w(C)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var I=p,R=S;0>=R.l(C);)I=D(I),R=D(R);var O=L(I,1),N=L(R,1);for(R=L(R,2),I=L(I,2);!y(R);){var A=N.add(R);0>=A.l(C)&&(O=O.add(I),N=A),R=L(R,1),I=L(I,1)}return S=b(C,O.j(S)),new T(O,S)}for(O=f;0<=C.l(S);){for(I=Math.max(1,Math.floor(C.m()/S.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=c(I),A=N.j(S);w(A)||0<A.l(C);)I-=R,N=c(I),A=N.j(S);y(N)&&(N=p),O=O.add(N),C=b(C,A)}return new T(O,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)&C.i(R);return new o(I,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)|C.i(R);return new o(I,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)^C.i(R);return new o(I,this.h^C.h)};function D(C){for(var S=C.g.length+1,I=[],R=0;R<S;R++)I[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(I,C.h)}function L(C,S){var I=S>>5;S%=32;for(var R=C.g.length-I,O=[],N=0;N<R;N++)O[N]=0<S?C.i(N+I)>>>S|C.i(N+I+1)<<32-S:C.i(N+I);return new o(O,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,co=o}).apply(typeof zS<"u"?zS:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AR,Iu,RR,sp,q_,NR,DR,OR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var _=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var V=u[P];if(!(V in _))break e;_=_[V]}u=u[u.length-1],P=_[u],m=m(P),m!=P&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var _=0,P=!1,V={next:function(){if(!P&&_<u.length){var $=_++;return{value:m($,u[$]),done:!1}}return P=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,_){return u.call.apply(u.bind,arguments)}function f(u,m,_){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,P),u.apply(m,V)}}return function(){return u.apply(m,arguments)}}function p(u,m,_){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var P=_.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function y(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(P,V,$){for(var Z=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)Z[tt-2]=arguments[tt];return m.prototype[V].apply(P,Z)}}function w(u){const m=u.length;if(0<m){const _=Array(m);for(let P=0;P<m;P++)_[P]=u[P];return _}return[]}function E(u,m){for(let _=1;_<arguments.length;_++){const P=arguments[_];if(l(P)){const V=u.length||0,$=P.length||0;u.length=V+$;for(let Z=0;Z<$;Z++)u[V+Z]=P[Z]}else u.push(P)}}class b{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(u,m,_){for(const P in u)m.call(_,u[P],P,u)}function C(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,m){let _,P;for(let V=1;V<arguments.length;V++){P=arguments[V];for(_ in P)u[_]=P[_];for(let $=0;$<I.length;$++)_=I[$],Object.prototype.hasOwnProperty.call(P,_)&&(u[_]=P[_])}}function O(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function N(u){a.setTimeout(()=>{throw u},0)}function A(){var u=z;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class H{constructor(){this.h=this.g=null}add(m,_){const P=le.get();P.set(m,_),this.h?this.h.next=P:this.g=P,this.h=P}}var le=new b(()=>new ae,u=>u.reset());class ae{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let K,F=!1,z=new H,X=()=>{const u=a.Promise.resolve(void 0);K=()=>{u.then(ue)}};var ue=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(_){N(_)}var m=le;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}F=!1};function Ee(){this.s=this.s,this.C=this.C}Ee.prototype.s=!1,Ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ue(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var It=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return u}();function rn(u,m){if(Ue.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(D){e:{try{k(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Pt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&rn.aa.h.call(this)}}y(rn,Ue);var Pt={2:"touch",3:"pen",4:"mouse"};rn.prototype.h=function(){rn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),Sr=0;function qt(u,m,_,P,V){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!P,this.ha=V,this.key=++Sr,this.da=this.fa=!1}function lr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Yr(u){this.src=u,this.g={},this.h=0}Yr.prototype.add=function(u,m,_,P,V){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var Z=cr(u,m,P,V);return-1<Z?(m=u[Z],_||(m.fa=!1)):(m=new qt(m,this.src,$,!!P,V),m.fa=_,u.push(m)),m};function mi(u,m){var _=m.type;if(_ in u.g){var P=u.g[_],V=Array.prototype.indexOf.call(P,m,void 0),$;($=0<=V)&&Array.prototype.splice.call(P,V,1),$&&(lr(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function cr(u,m,_,P){for(var V=0;V<u.length;++V){var $=u[V];if(!$.da&&$.listener==m&&$.capture==!!_&&$.ha==P)return V}return-1}var Ss="closure_lm_"+(1e6*Math.random()|0),Ba={};function Hc(u,m,_,P,V){if(Array.isArray(m)){for(var $=0;$<m.length;$++)Hc(u,m[$],_,P,V);return null}return _=ke(_),u&&u[bt]?u.K(m,_,c(P)?!!P.capture:!!P,V):Lh(u,m,_,!1,P,V)}function Lh(u,m,_,P,V,$){if(!m)throw Error("Invalid event type");var Z=c(V)?!!V.capture:!!V,tt=Y(u);if(tt||(u[Ss]=tt=new Yr(u)),_=tt.add(m,_,P,Z,$),_.proxy)return _;if(P=j(),_.proxy=P,P.src=u,P.listener=_,u.addEventListener)It||(V=Z),V===void 0&&(V=!1),u.addEventListener(m.toString(),P,V);else if(u.attachEvent)u.attachEvent(te(m.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return _}function j(){function u(_){return m.call(u.src,u.listener,_)}const m=ee;return u}function U(u,m,_,P,V){if(Array.isArray(m))for(var $=0;$<m.length;$++)U(u,m[$],_,P,V);else P=c(P)?!!P.capture:!!P,_=ke(_),u&&u[bt]?(u=u.i,m=String(m).toString(),m in u.g&&($=u.g[m],_=cr($,_,P,V),-1<_&&(lr($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete u.g[m],u.h--)))):u&&(u=Y(u))&&(m=u.g[m.toString()],u=-1,m&&(u=cr(m,_,P,V)),(_=-1<u?m[u]:null)&&B(_))}function B(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])mi(m.i,u);else{var _=u.type,P=u.proxy;m.removeEventListener?m.removeEventListener(_,P,u.capture):m.detachEvent?m.detachEvent(te(_),P):m.addListener&&m.removeListener&&m.removeListener(P),(_=Y(m))?(mi(_,u),_.h==0&&(_.src=null,m[Ss]=null)):lr(u)}}}function te(u){return u in Ba?Ba[u]:Ba[u]="on"+u}function ee(u,m){if(u.da)u=!0;else{m=new rn(m,this);var _=u.listener,P=u.ha||u.src;u.fa&&B(u),u=_.call(P,m)}return u}function Y(u){return u=u[Ss],u instanceof Yr?u:null}var fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke(u){return typeof u=="function"?u:(u[fe]||(u[fe]=function(m){return u.handleEvent(m)}),u[fe])}function Le(){Ee.call(this),this.i=new Yr(this),this.M=this,this.F=null}y(Le,Ee),Le.prototype[bt]=!0,Le.prototype.removeEventListener=function(u,m,_,P){U(this,u,m,_,P)};function $e(u,m){var _,P=u.F;if(P)for(_=[];P;P=P.F)_.push(P);if(u=u.M,P=m.type||m,typeof m=="string")m=new Ue(m,u);else if(m instanceof Ue)m.target=m.target||u;else{var V=m;m=new Ue(P,u),R(m,V)}if(V=!0,_)for(var $=_.length-1;0<=$;$--){var Z=m.g=_[$];V=ur(Z,P,!0,m)&&V}if(Z=m.g=u,V=ur(Z,P,!0,m)&&V,V=ur(Z,P,!1,m)&&V,_)for($=0;$<_.length;$++)Z=m.g=_[$],V=ur(Z,P,!1,m)&&V}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],P=0;P<_.length;P++)lr(_[P]);delete u.g[m],u.h--}}this.F=null},Le.prototype.K=function(u,m,_,P){return this.i.add(String(u),m,!1,_,P)},Le.prototype.L=function(u,m,_,P){return this.i.add(String(u),m,!0,_,P)};function ur(u,m,_,P){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,$=0;$<m.length;++$){var Z=m[$];if(Z&&!Z.da&&Z.capture==_){var tt=Z.listener,Kt=Z.ha||Z.src;Z.fa&&mi(u.i,Z),V=tt.call(Kt,P)!==!1&&V}}return V&&!P.defaultPrevented}function Fh(u,m,_){if(typeof u=="function")_&&(u=p(u,_));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function za(u){u.g=Fh(()=>{u.g=null,u.i&&(u.i=!1,za(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class qc extends Ee{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:za(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lo(u){Ee.call(this),this.h=u,this.g={}}y(Lo,Ee);var Kc=[];function Vh(u){L(u.g,function(m,_){this.g.hasOwnProperty(_)&&B(m)},u),u.g={}}Lo.prototype.N=function(){Lo.aa.N.call(this),Vh(this)},Lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wa=a.JSON.stringify,dM=a.JSON.parse,hM=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Hg(){}Hg.prototype.h=null;function Hb(u){return u.h||(u.h=u.i())}function qb(){}var Gc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qg(){Ue.call(this,"d")}y(qg,Ue);function Kg(){Ue.call(this,"c")}y(Kg,Ue);var Fo={},Kb=null;function Uh(){return Kb=Kb||new Le}Fo.La="serverreachability";function Gb(u){Ue.call(this,Fo.La,u)}y(Gb,Ue);function Qc(u){const m=Uh();$e(m,new Gb(m))}Fo.STAT_EVENT="statevent";function Qb(u,m){Ue.call(this,Fo.STAT_EVENT,u),this.stat=m}y(Qb,Ue);function vn(u){const m=Uh();$e(m,new Qb(m,u))}Fo.Ma="timingevent";function Yb(u,m){Ue.call(this,Fo.Ma,u),this.size=m}y(Yb,Ue);function Yc(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Zc(){this.g=!0}Zc.prototype.xa=function(){this.g=!1};function fM(u,m,_,P,V,$){u.info(function(){if(u.g)if($)for(var Z="",tt=$.split("&"),Kt=0;Kt<tt.length;Kt++){var qe=tt[Kt].split("=");if(1<qe.length){var sn=qe[0];qe=qe[1];var on=sn.split("_");Z=2<=on.length&&on[1]=="type"?Z+(sn+"="+qe+"&"):Z+(sn+"=redacted&")}}else Z=null;else Z=$;return"XMLHTTP REQ ("+P+") [attempt "+V+"]: "+m+`
`+_+`
`+Z})}function pM(u,m,_,P,V,$,Z){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+V+"]: "+m+`
`+_+`
`+$+" "+Z})}function Ha(u,m,_,P){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+gM(u,_)+(P?" "+P:"")})}function mM(u,m){u.info(function(){return"TIMEOUT: "+m})}Zc.prototype.info=function(){};function gM(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var P=_[u];if(!(2>P.length)){var V=P[1];if(Array.isArray(V)&&!(1>V.length)){var $=V[0];if($!="noop"&&$!="stop"&&$!="close")for(var Z=1;Z<V.length;Z++)V[Z]=""}}}}return Wa(_)}catch{return m}}var $h={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gg;function Bh(){}y(Bh,Hg),Bh.prototype.g=function(){return new XMLHttpRequest},Bh.prototype.i=function(){return{}},Gg=new Bh;function gi(u,m,_,P){this.j=u,this.i=m,this.l=_,this.R=P||1,this.U=new Lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jb}function Jb(){this.i=null,this.g="",this.h=!1}var Xb={},Qg={};function Yg(u,m,_){u.L=1,u.v=qh(Cs(m)),u.m=_,u.P=!0,eE(u,null)}function eE(u,m){u.F=Date.now(),zh(u),u.A=Cs(u.v);var _=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),pE(_.i,"t",P),u.C=0,_=u.j.J,u.h=new Jb,u.g=NE(u.j,_?m:null,!u.m),0<u.O&&(u.M=new qc(p(u.Y,u,u.g),u.O)),m=u.U,_=u.g,P=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Kc[0]=V.toString()),V=Kc);for(var $=0;$<V.length;$++){var Z=Hc(_,V[$],P||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qc(),fM(u.i,u.u,u.A,u.l,u.R,u.m)}gi.prototype.ca=function(u){u=u.target;const m=this.M;m&&ks(u)==3?m.j():this.Y(u)},gi.prototype.Y=function(u){try{if(u==this.g)e:{const on=ks(this.g);var m=this.g.Ba();const Ga=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||xE(this.g)))){this.J||on!=4||m==7||(m==8||0>=Ga?Qc(3):Qc(2)),Zg(this);var _=this.g.Z();this.X=_;t:if(tE(this)){var P=xE(this.g);u="";var V=P.length,$=ks(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vo(this),Jc(this);var Z="";break t}this.h.i=new a.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,u+=this.h.i.decode(P[m],{stream:!($&&m==V-1)});P.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=_==200,pM(this.i,this.u,this.A,this.l,this.R,on,_),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Kt=this.g;if((tt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(tt)){var qe=tt;break t}}qe=null}if(_=qe)Ha(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jg(this,_);else{this.o=!1,this.s=3,vn(12),Vo(this),Jc(this);break e}}if(this.P){_=!0;let Cr;for(;!this.J&&this.C<Z.length;)if(Cr=vM(this,Z),Cr==Qg){on==4&&(this.s=4,vn(14),_=!1),Ha(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==Xb){this.s=4,vn(15),Ha(this.i,this.l,Z,"[Invalid Chunk]"),_=!1;break}else Ha(this.i,this.l,Cr,null),Jg(this,Cr);if(tE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||Z.length!=0||this.h.h||(this.s=1,vn(16),_=!1),this.o=this.o&&_,!_)Ha(this.i,this.l,Z,"[Invalid Chunked Response]"),Vo(this),Jc(this);else if(0<Z.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),sv(sn),sn.M=!0,vn(11))}}else Ha(this.i,this.l,Z,null),Jg(this,Z);on==4&&Vo(this),this.o&&!this.J&&(on==4?IE(this.j,this):(this.o=!1,zh(this)))}else OM(this.g),_==400&&0<Z.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),Vo(this),Jc(this)}}}catch{}finally{}};function tE(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function vM(u,m){var _=u.C,P=m.indexOf(`
`,_);return P==-1?Qg:(_=Number(m.substring(_,P)),isNaN(_)?Xb:(P+=1,P+_>m.length?Qg:(m=m.slice(P,P+_),u.C=P+_,m)))}gi.prototype.cancel=function(){this.J=!0,Vo(this)};function zh(u){u.S=Date.now()+u.I,nE(u,u.I)}function nE(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Yc(p(u.ba,u),m)}function Zg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}gi.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(mM(this.i,this.A),this.L!=2&&(Qc(),vn(17)),Vo(this),this.s=2,Jc(this)):nE(this,this.S-u)};function Jc(u){u.j.G==0||u.J||IE(u.j,u)}function Vo(u){Zg(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Vh(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Jg(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Xg(_.h,u))){if(!u.K&&Xg(_.h,u)&&_.G==3){try{var P=_.Da.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var V=P;if(V[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Jh(_),Yh(_);else break e;rv(_),vn(18)}}else _.za=V[1],0<_.za-_.T&&37500>V[2]&&_.F&&_.v==0&&!_.C&&(_.C=Yc(p(_.Za,_),6e3));if(1>=iE(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else $o(_,11)}else if((u.K||_.g==u)&&Jh(_),!x(m))for(V=_.Da.g.parse(m),m=0;m<V.length;m++){let qe=V[m];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const sn=qe[3];sn!=null&&(_.la=sn,_.j.info("VER="+_.la));const on=qe[4];on!=null&&(_.Aa=on,_.j.info("SVER="+_.Aa));const Ga=qe[5];Ga!=null&&typeof Ga=="number"&&0<Ga&&(P=1.5*Ga,_.L=P,_.j.info("backChannelRequestTimeoutMs_="+P)),P=_;const Cr=u.g;if(Cr){const ef=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ef){var $=P.h;$.g||ef.indexOf("spdy")==-1&&ef.indexOf("quic")==-1&&ef.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ev($,$.h),$.h=null))}if(P.D){const iv=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;iv&&(P.ya=iv,ot(P.I,P.D,iv))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),P=_;var Z=u;if(P.qa=RE(P,P.J?P.ia:null,P.W),Z.K){oE(P.h,Z);var tt=Z,Kt=P.L;Kt&&(tt.I=Kt),tt.B&&(Zg(tt),zh(tt)),P.g=Z}else CE(P);0<_.i.length&&Zh(_)}else qe[0]!="stop"&&qe[0]!="close"||$o(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?$o(_,7):nv(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}Qc(4)}catch{}}var yM=class{constructor(u,m){this.g=u,this.map=m}};function rE(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sE(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function iE(u){return u.h?1:u.g?u.g.size:0}function Xg(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ev(u,m){u.g?u.g.add(m):u.h=m}function oE(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}rE.prototype.cancel=function(){if(this.i=aE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function aE(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return w(u.i)}function _M(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],_=u.length,P=0;P<_;P++)m.push(u[P]);return m}m=[],_=0;for(P in u)m[_++]=u[P];return m}function wM(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const P in u)m[_++]=P;return m}}}function lE(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=wM(u),P=_M(u),V=P.length,$=0;$<V;$++)m.call(void 0,P[$],_&&_[$],u)}var cE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xM(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var P=u[_].indexOf("="),V=null;if(0<=P){var $=u[_].substring(0,P);V=u[_].substring(P+1)}else $=u[_];m($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Uo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Uo){this.h=u.h,Wh(this,u.j),this.o=u.o,this.g=u.g,Hh(this,u.s),this.l=u.l;var m=u.i,_=new tu;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),uE(this,_),this.m=u.m}else u&&(m=String(u).match(cE))?(this.h=!1,Wh(this,m[1]||"",!0),this.o=Xc(m[2]||""),this.g=Xc(m[3]||"",!0),Hh(this,m[4]),this.l=Xc(m[5]||"",!0),uE(this,m[6]||"",!0),this.m=Xc(m[7]||"")):(this.h=!1,this.i=new tu(null,this.h))}Uo.prototype.toString=function(){var u=[],m=this.j;m&&u.push(eu(m,dE,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(eu(m,dE,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(eu(_,_.charAt(0)=="/"?TM:EM,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",eu(_,CM)),u.join("")};function Cs(u){return new Uo(u)}function Wh(u,m,_){u.j=_?Xc(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Hh(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function uE(u,m,_){m instanceof tu?(u.i=m,kM(u.i,u.h)):(_||(m=eu(m,SM)),u.i=new tu(m,u.h))}function ot(u,m,_){u.i.set(m,_)}function qh(u){return ot(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Xc(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function eu(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,bM),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bM(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var dE=/[#\/\?@]/g,EM=/[#\?:]/g,TM=/[#\?]/g,SM=/[#\?@]/g,CM=/#/g;function tu(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vi(u){u.g||(u.g=new Map,u.h=0,u.i&&xM(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=tu.prototype,t.add=function(u,m){vi(this),this.i=null,u=qa(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function hE(u,m){vi(u),m=qa(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function fE(u,m){return vi(u),m=qa(u,m),u.g.has(m)}t.forEach=function(u,m){vi(this),this.g.forEach(function(_,P){_.forEach(function(V){u.call(m,V,P,this)},this)},this)},t.na=function(){vi(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let P=0;P<m.length;P++){const V=u[P];for(let $=0;$<V.length;$++)_.push(m[P])}return _},t.V=function(u){vi(this);let m=[];if(typeof u=="string")fE(this,u)&&(m=m.concat(this.g.get(qa(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},t.set=function(u,m){return vi(this),this.i=null,u=qa(this,u),fE(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function pE(u,m,_){hE(u,m),0<_.length&&(u.i=null,u.g.set(qa(u,m),w(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var P=m[_];const $=encodeURIComponent(String(P)),Z=this.V(P);for(P=0;P<Z.length;P++){var V=$;Z[P]!==""&&(V+="="+encodeURIComponent(String(Z[P]))),u.push(V)}}return this.i=u.join("&")};function qa(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function kM(u,m){m&&!u.j&&(vi(u),u.i=null,u.g.forEach(function(_,P){var V=P.toLowerCase();P!=V&&(hE(this,P),pE(this,V,_))},u)),u.j=m}function IM(u,m){const _=new Zc;if(a.Image){const P=new Image;P.onload=g(yi,_,"TestLoadImage: loaded",!0,m,P),P.onerror=g(yi,_,"TestLoadImage: error",!1,m,P),P.onabort=g(yi,_,"TestLoadImage: abort",!1,m,P),P.ontimeout=g(yi,_,"TestLoadImage: timeout",!1,m,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else m(!1)}function PM(u,m){const _=new Zc,P=new AbortController,V=setTimeout(()=>{P.abort(),yi(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:P.signal}).then($=>{clearTimeout(V),$.ok?yi(_,"TestPingServer: ok",!0,m):yi(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),yi(_,"TestPingServer: error",!1,m)})}function yi(u,m,_,P,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),P(_)}catch{}}function AM(){this.g=new hM}function RM(u,m,_){const P=_||"";try{lE(u,function(V,$){let Z=V;c(V)&&(Z=Wa(V)),m.push(P+$+"="+encodeURIComponent(Z))})}catch(V){throw m.push(P+"type="+encodeURIComponent("_badmap")),V}}function Kh(u){this.l=u.Ub||null,this.j=u.eb||!1}y(Kh,Hg),Kh.prototype.g=function(){return new Gh(this.l,this.j)},Kh.prototype.i=function(u){return function(){return u}}({});function Gh(u,m){Le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Gh,Le),t=Gh.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ru(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nu(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ru(this)),this.g&&(this.readyState=3,ru(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mE(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function mE(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?nu(this):ru(this),this.readyState==3&&mE(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,nu(this))},t.Qa=function(u){this.g&&(this.response=u,nu(this))},t.ga=function(){this.g&&nu(this)};function nu(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ru(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ru(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function gE(u){let m="";return L(u,function(_,P){m+=P,m+=":",m+=_,m+=`\r
`}),m}function tv(u,m,_){e:{for(P in _){var P=!1;break e}P=!0}P||(_=gE(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):ot(u,m,_))}function Et(u){Le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Et,Le);var NM=/^https?$/i,DM=["POST","PUT"];t=Et.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,_,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gg.g(),this.v=this.o?Hb(this.o):Hb(Gg),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){vE(this,$);return}if(u=_||"",_=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var V in P)_.set(V,P[V]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const $ of P.keys())_.set($,P.get($));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(DM,m,void 0))||P||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,Z]of _)this.g.setRequestHeader($,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wE(this),this.u=!0,this.g.send(u),this.u=!1}catch($){vE(this,$)}};function vE(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,yE(u),Qh(u)}function yE(u){u.A||(u.A=!0,$e(u,"complete"),$e(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,$e(this,"complete"),$e(this,"abort"),Qh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qh(this,!0)),Et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_E(this):this.bb())},t.bb=function(){_E(this)};function _E(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ks(u)!=4||u.Z()!=2)){if(u.u&&ks(u)==4)Fh(u.Ea,0,u);else if($e(u,"readystatechange"),ks(u)==4){u.h=!1;try{const Z=u.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var P;if(P=Z===0){var V=String(u.D).match(cE)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),P=!NM.test(V?V.toLowerCase():"")}_=P}if(_)$e(u,"complete"),$e(u,"success");else{u.m=6;try{var $=2<ks(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",yE(u)}}finally{Qh(u)}}}}function Qh(u,m){if(u.g){wE(u);const _=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||$e(u,"ready");try{_.onreadystatechange=P}catch{}}}function wE(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ks(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ks(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),dM(m)}};function xE(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function OM(u){const m={};u=(u.g&&2<=ks(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(x(u[P]))continue;var _=O(u[P]);const V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=m[V]||[];m[V]=$,$.push(_)}C(m,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function su(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function bE(u){this.Aa=0,this.i=[],this.j=new Zc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=su("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=su("baseRetryDelayMs",5e3,u),this.cb=su("retryDelaySeedMs",1e4,u),this.Wa=su("forwardChannelMaxRetries",2,u),this.wa=su("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new rE(u&&u.concurrentRequestLimit),this.Da=new AM,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bE.prototype,t.la=8,t.G=1,t.connect=function(u,m,_,P){vn(0),this.W=u,this.H=m||{},_&&P!==void 0&&(this.H.OSID=_,this.H.OAID=P),this.F=this.X,this.I=RE(this,null,this.W),Zh(this)};function nv(u){if(EE(u),u.G==3){var m=u.U++,_=Cs(u.I);if(ot(_,"SID",u.K),ot(_,"RID",m),ot(_,"TYPE","terminate"),iu(u,_),m=new gi(u,u.j,m),m.L=2,m.v=qh(Cs(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=NE(m.j,null),m.g.ea(m.v)),m.F=Date.now(),zh(m)}AE(u)}function Yh(u){u.g&&(sv(u),u.g.cancel(),u.g=null)}function EE(u){Yh(u),u.u&&(a.clearTimeout(u.u),u.u=null),Jh(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Zh(u){if(!sE(u.h)&&!u.s){u.s=!0;var m=u.Ga;K||X(),F||(K(),F=!0),z.add(m,u),u.B=0}}function jM(u,m){return iE(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Yc(p(u.Ga,u,m),PE(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new gi(this,this.j,u);let $=this.o;if(this.S&&($?($=S($),R($,this.S)):$=this.S),this.m!==null||this.O||(V.H=$,$=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var P=this.i[_];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=SE(this,V,m),_=Cs(this.I),ot(_,"RID",u),ot(_,"CVER",22),this.D&&ot(_,"X-HTTP-Session-Id",this.D),iu(this,_),$&&(this.O?m="headers="+encodeURIComponent(String(gE($)))+"&"+m:this.m&&tv(_,this.m,$)),ev(this.h,V),this.Ua&&ot(_,"TYPE","init"),this.P?(ot(_,"$req",m),ot(_,"SID","null"),V.T=!0,Yg(V,_,null)):Yg(V,_,m),this.G=2}}else this.G==3&&(u?TE(this,u):this.i.length==0||sE(this.h)||TE(this))};function TE(u,m){var _;m?_=m.l:_=u.U++;const P=Cs(u.I);ot(P,"SID",u.K),ot(P,"RID",_),ot(P,"AID",u.T),iu(u,P),u.m&&u.o&&tv(P,u.m,u.o),_=new gi(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=SE(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ev(u.h,_),Yg(_,P,m)}function iu(u,m){u.H&&L(u.H,function(_,P){ot(m,P,_)}),u.l&&lE({},function(_,P){ot(m,P,_)})}function SE(u,m,_){_=Math.min(u.i.length,_);var P=u.l?p(u.l.Na,u.l,u):null;e:{var V=u.i;let $=-1;for(;;){const Z=["count="+_];$==-1?0<_?($=V[0].g,Z.push("ofs="+$)):$=0:Z.push("ofs="+$);let tt=!0;for(let Kt=0;Kt<_;Kt++){let qe=V[Kt].g;const sn=V[Kt].map;if(qe-=$,0>qe)$=Math.max(0,V[Kt].g-100),tt=!1;else try{RM(sn,Z,"req"+qe+"_")}catch{P&&P(sn)}}if(tt){P=Z.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,P}function CE(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;K||X(),F||(K(),F=!0),z.add(m,u),u.v=0}}function rv(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Yc(p(u.Fa,u),PE(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,kE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Yc(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),Yh(this),kE(this))};function sv(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function kE(u){u.g=new gi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Cs(u.qa);ot(m,"RID","rpc"),ot(m,"SID",u.K),ot(m,"AID",u.T),ot(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ot(m,"TO",u.ja),ot(m,"TYPE","xmlhttp"),iu(u,m),u.m&&u.o&&tv(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=qh(Cs(m)),_.m=null,_.P=!0,eE(_,u)}t.Za=function(){this.C!=null&&(this.C=null,Yh(this),rv(this),vn(19))};function Jh(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function IE(u,m){var _=null;if(u.g==m){Jh(u),sv(u),u.g=null;var P=2}else if(Xg(u.h,m))_=m.D,oE(u.h,m),P=1;else return;if(u.G!=0){if(m.o)if(P==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var V=u.B;P=Uh(),$e(P,new Yb(P,_)),Zh(u)}else CE(u);else if(V=m.s,V==3||V==0&&0<m.X||!(P==1&&jM(u,m)||P==2&&rv(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),V){case 1:$o(u,5);break;case 4:$o(u,10);break;case 3:$o(u,6);break;default:$o(u,2)}}}function PE(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function $o(u,m){if(u.j.info("Error code "+m),m==2){var _=p(u.fb,u),P=u.Xa;const V=!P;P=new Uo(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wh(P,"https"),qh(P),V?IM(P.toString(),_):PM(P.toString(),_)}else vn(2);u.G=0,u.l&&u.l.sa(m),AE(u),EE(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function AE(u){if(u.G=0,u.ka=[],u.l){const m=aE(u.h);(m.length!=0||u.i.length!=0)&&(E(u.ka,m),E(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function RE(u,m,_){var P=_ instanceof Uo?Cs(_):new Uo(_);if(P.g!="")m&&(P.g=m+"."+P.g),Hh(P,P.s);else{var V=a.location;P=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var $=new Uo(null);P&&Wh($,P),m&&($.g=m),V&&Hh($,V),_&&($.l=_),P=$}return _=u.D,m=u.ya,_&&m&&ot(P,_,m),ot(P,"VER",u.la),iu(u,P),P}function NE(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Et(new Kh({eb:_})):new Et(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function DE(){}t=DE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xh(){}Xh.prototype.g=function(u,m){return new Kn(u,m)};function Kn(u,m){Le.call(this),this.g=new bE(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!x(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ka(this)}y(Kn,Le),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){nv(this.g)},Kn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Wa(u),u=_);m.i.push(new yM(m.Ya++,u)),m.G==3&&Zh(m)},Kn.prototype.N=function(){this.g.l=null,delete this.j,nv(this.g),delete this.g,Kn.aa.N.call(this)};function OE(u){qg.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}y(OE,qg);function jE(){Kg.call(this),this.status=1}y(jE,Kg);function Ka(u){this.g=u}y(Ka,DE),Ka.prototype.ua=function(){$e(this.g,"a")},Ka.prototype.ta=function(u){$e(this.g,new OE(u))},Ka.prototype.sa=function(u){$e(this.g,new jE)},Ka.prototype.ra=function(){$e(this.g,"b")},Xh.prototype.createWebChannel=Xh.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,OR=function(){return new Xh},DR=function(){return Uh()},NR=Fo,q_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$h.NO_ERROR=0,$h.TIMEOUT=8,$h.HTTP_ERROR=6,sp=$h,Zb.COMPLETE="complete",RR=Zb,qb.EventType=Gc,Gc.OPEN="a",Gc.CLOSE="b",Gc.ERROR="c",Gc.MESSAGE="d",Le.prototype.listen=Le.prototype.K,Iu=qb,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,AR=Et}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const WS="@firebase/firestore",HS="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new K0("@firebase/firestore");function sl(){return ka.logLevel}function ie(t,...e){if(ka.logLevel<=je.DEBUG){const n=e.map(ox);ka.debug(`Firestore (${jc}): ${t}`,...n)}}function si(t,...e){if(ka.logLevel<=je.ERROR){const n=e.map(ox);ka.error(`Firestore (${jc}): ${t}`,...n)}}function cc(t,...e){if(ka.logLevel<=je.WARN){const n=e.map(ox);ka.warn(`Firestore (${jc}): ${t}`,...n)}}function ox(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t="Unexpected state"){const e=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: `+t;throw si(e),new Error(e)}function Ze(t,e){t||xe()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class g9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class v9{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new jR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new dn(e)}}class y9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new y9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w9{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0);const r=i=>{i.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new qS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new qS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=x9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function K_(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ne(r,s);{const i=MR(),o=b9(i.encode(KS(t,n)),i.encode(KS(e,n)));return o!==0?o:Ne(r,s)}}n+=r>65535?2:1}return Ne(t.length,e.length)}function KS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function b9(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ne(t[n],e[n]);return Ne(t.length,e.length)}function uc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=-62135596800,QS=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*QS);return new mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<GS)throw new he(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QS}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-GS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new mt(0,0))}static max(){return new Te(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="__name__";class es{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(),r===void 0?r=e.length-n:r>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof es?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=es.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ne(e.length,n.length)}static compareSegments(e,n){const r=es.isNumericId(e),s=es.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?es.extractNumericId(e).compare(es.extractNumericId(n)):K_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return co.fromString(e.substring(4,e.length-2))}}class pt extends es{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const E9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends es{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return E9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YS}static keyField(){return new Jt([YS])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new he(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new he(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new he(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(pt.fromString(e))}static fromName(e){return new me(pt.fromString(e).popFirst(5))}static empty(){return new me(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=-1;function T9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Te.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new mo(s,me.empty(),e)}function S9(t){return new mo(t.readTime,t.key,Td)}class mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mo(Te.min(),me.empty(),Td)}static max(){return new mo(Te.max(),me.empty(),Td)}}function C9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==k9)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function P9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sg.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=-1;function ig(t){return t==null}function Jp(t){return t===0&&1/t==-1/0}function A9(t){return typeof t=="number"&&Number.isInteger(t)&&!Jp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="";function R9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ZS(e)),e=N9(t.get(n),e);return ZS(e)}function N9(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case FR:n+="";break;default:n+=i}}return n}function ZS(t){return t+FR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=s??Qt.EMPTY,this.right=i??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Qt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XS(this.data.getIterator())}getIteratorFrom(e){return new XS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class XS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new er([])}unionWith(e){let n=new $t(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UR("Invalid base64 string: "+i):i}}(e);return new nn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const D9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=D9.exec(t);if(Ze(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vo(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="server_timestamp",BR="__type__",zR="__previous_value__",WR="__local_write_time__";function lx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[BR])===null||n===void 0?void 0:n.stringValue)===$R}function og(t){const e=t.mapValue.fields[zR];return lx(e)?og(e):e}function Sd(t){const e=go(t.mapValue.fields[WR].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Xp="(default)";class Cd{constructor(e,n){this.projectId=e,this.database=n||Xp}static empty(){return new Cd("","")}get isDefaultDatabase(){return this.database===Xp}isEqual(e){return e instanceof Cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="__type__",qR="__max__",Cf={mapValue:{fields:{__type__:{stringValue:qR}}}},KR="__vector__",em="value";function yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lx(t)?4:M9(t)?9007199254740991:j9(t)?10:11:xe()}function ys(t,e){if(t===e)return!0;const n=yo(t);if(n!==yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sd(t).isEqual(Sd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=go(s.timestampValue),a=go(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return vo(s.bytesValue).isEqual(vo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return At(s.geoPointValue.latitude)===At(i.geoPointValue.latitude)&&At(s.geoPointValue.longitude)===At(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return At(s.integerValue)===At(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=At(s.doubleValue),a=At(i.doubleValue);return o===a?Jp(o)===Jp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(JS(o)!==JS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ys(o[l],a[l])))return!1;return!0}(t,e);default:return xe()}}function kd(t,e){return(t.values||[]).find(n=>ys(n,e))!==void 0}function dc(t,e){if(t===e)return 0;const n=yo(t),r=yo(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=At(i.integerValue||i.doubleValue),l=At(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return e1(t.timestampValue,e.timestampValue);case 4:return e1(Sd(t),Sd(e));case 5:return K_(t.stringValue,e.stringValue);case 6:return function(i,o){const a=vo(i),l=vo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ne(a[c],l[c]);if(d!==0)return d}return Ne(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ne(At(i.latitude),At(o.latitude));return a!==0?a:Ne(At(i.longitude),At(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return t1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const f=i.fields||{},p=o.fields||{},g=(a=f[em])===null||a===void 0?void 0:a.arrayValue,y=(l=p[em])===null||l===void 0?void 0:l.arrayValue,w=Ne(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:t1(g,y)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Cf.mapValue&&o===Cf.mapValue)return 0;if(i===Cf.mapValue)return 1;if(o===Cf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=K_(l[f],d[f]);if(p!==0)return p;const g=dc(a[l[f]],c[d[f]]);if(g!==0)return g}return Ne(l.length,d.length)}(t.mapValue,e.mapValue);default:throw xe()}}function e1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=go(t),r=go(e),s=Ne(n.seconds,r.seconds);return s!==0?s:Ne(n.nanos,r.nanos)}function t1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=dc(n[s],r[s]);if(i)return i}return Ne(n.length,r.length)}function hc(t){return G_(t)}function G_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=go(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=G_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${G_(n.fields[o])}`;return s+"}"}(t.mapValue):xe()}function ip(t){switch(yo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=og(t);return e?16+ip(e):16;case 5:return 2*t.stringValue.length;case 6:return vo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+ip(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return No(r.fields,(i,o)=>{s+=i.length+ip(o)}),s}(t.mapValue);default:throw xe()}}function Q_(t){return!!t&&"integerValue"in t}function cx(t){return!!t&&"arrayValue"in t}function n1(t){return!!t&&"nullValue"in t}function r1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function op(t){return!!t&&"mapValue"in t}function j9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[HR])===null||n===void 0?void 0:n.stringValue)===KR}function Qu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return No(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function M9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!op(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qu(n)}setAll(e){let n=Jt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Qu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());op(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];op(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){No(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ln(Qu(this.value))}}function GR(t){const e=[];return No(t.fields,(n,r)=>{const s=new Jt([n]);if(op(r)){const i=GR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new fn(e,0,Te.min(),Te.min(),Te.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,s){return new fn(e,1,n,Te.min(),r,s,0)}static newNoDocument(e,n){return new fn(e,2,n,Te.min(),Te.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Te.min(),Te.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.position=e,this.inclusive=n}}function s1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=dc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function i1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ys(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n="asc"){this.field=e,this.dir=n}}function L9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{}class Vt extends QR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new V9(e,n,r):n==="array-contains"?new B9(e,r):n==="in"?new z9(e,r):n==="not-in"?new W9(e,r):n==="array-contains-any"?new H9(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U9(e,r):new $9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(dc(n,this.value)):n!==null&&yo(this.value)===yo(n)&&this.matchesComparison(dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _s extends QR{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new _s(e,n)}matches(e){return YR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function YR(t){return t.op==="and"}function ZR(t){return F9(t)&&YR(t)}function F9(t){for(const e of t.filters)if(e instanceof _s)return!1;return!0}function Y_(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+hc(t.value);if(ZR(t))return t.filters.map(e=>Y_(e)).join(",");{const e=t.filters.map(n=>Y_(n)).join(",");return`${t.op}(${e})`}}function JR(t,e){return t instanceof Vt?function(r,s){return s instanceof Vt&&r.op===s.op&&r.field.isEqual(s.field)&&ys(r.value,s.value)}(t,e):t instanceof _s?function(r,s){return s instanceof _s&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&JR(o,s.filters[a]),!0):!1}(t,e):void xe()}function XR(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${hc(n.value)}`}(t):t instanceof _s?function(n){return n.op.toString()+" {"+n.getFilters().map(XR).join(" ,")+"}"}(t):"Filter"}class V9 extends Vt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class U9 extends Vt{constructor(e,n){super(e,"in",n),this.keys=eN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $9 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=eN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class B9 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cx(n)&&kd(n.arrayValue,this.value)}}class z9 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kd(this.value.arrayValue,n)}}class W9 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(kd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!kd(this.value.arrayValue,n)}}class H9 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function o1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new q9(t,e,n,r,s,i,o)}function ux(t){const e=Se(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Y_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ig(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hc(r)).join(",")),e.le=n}return e.le}function dx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!L9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i1(t.startAt,e.startAt)&&i1(t.endAt,e.endAt)}function Z_(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function K9(t,e,n,r,s,i,o,a){return new ag(t,e,n,r,s,i,o,a)}function hx(t){return new ag(t)}function a1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function G9(t){return t.collectionGroup!==null}function Yu(t){const e=Se(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $t(Jt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new nm(i,r))}),n.has(Jt.keyField().canonicalString())||e.he.push(new nm(Jt.keyField(),r))}return e.he}function fs(t){const e=Se(t);return e.Pe||(e.Pe=Q9(e,Yu(t))),e.Pe}function Q9(t,e){if(t.limitType==="F")return o1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new nm(s.field,i)});const n=t.endAt?new tm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tm(t.startAt.position,t.startAt.inclusive):null;return o1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function J_(t,e,n){return new ag(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lg(t,e){return dx(fs(t),fs(e))&&t.limitType===e.limitType}function tN(t){return`${ux(fs(t))}|lt:${t.limitType}`}function il(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>XR(s)).join(", ")}]`),ig(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>hc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>hc(s)).join(",")),`Target(${r})`}(fs(t))}; limitType=${t.limitType})`}function cg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):me.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Yu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=s1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Yu(r),s)||r.endAt&&!function(o,a,l){const c=s1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Yu(r),s))}(t,e)}function Y9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nN(t){return(e,n)=>{let r=!1;for(const s of Yu(t)){const i=Z9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Z9(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?dc(l,c):xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return VR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=new xt(me.comparator);function ii(){return J9}const rN=new xt(me.comparator);function Pu(...t){let e=rN;for(const n of t)e=e.insert(n.key,n);return e}function sN(t){let e=rN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xo(){return Zu()}function iN(){return Zu()}function Zu(){return new La(t=>t.toString(),(t,e)=>t.isEqual(e))}const X9=new xt(me.comparator),eB=new $t(me.comparator);function Me(...t){let e=eB;for(const n of t)e=e.add(n);return e}const tB=new $t(Ne);function nB(){return tB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jp(e)?"-0":e}}function oN(t){return{integerValue:""+t}}function rB(t,e){return A9(e)?oN(e):fx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this._=void 0}}function sB(t,e,n){return t instanceof Id?function(s,i){const o={fields:{[BR]:{stringValue:$R},[WR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&lx(i)&&(i=og(i)),i&&(o.fields[zR]=i),{mapValue:o}}(n,e):t instanceof Pd?lN(t,e):t instanceof Ad?cN(t,e):function(s,i){const o=aN(s,i),a=l1(o)+l1(s.Ie);return Q_(o)&&Q_(s.Ie)?oN(a):fx(s.serializer,a)}(t,e)}function iB(t,e,n){return t instanceof Pd?lN(t,e):t instanceof Ad?cN(t,e):n}function aN(t,e){return t instanceof rm?function(r){return Q_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Id extends ug{}class Pd extends ug{constructor(e){super(),this.elements=e}}function lN(t,e){const n=uN(e);for(const r of t.elements)n.some(s=>ys(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ad extends ug{constructor(e){super(),this.elements=e}}function cN(t,e){let n=uN(e);for(const r of t.elements)n=n.filter(s=>!ys(s,r));return{arrayValue:{values:n}}}class rm extends ug{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function l1(t){return At(t.integerValue||t.doubleValue)}function uN(t){return cx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,n){this.field=e,this.transform=n}}function aB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Pd&&s instanceof Pd||r instanceof Ad&&s instanceof Ad?uc(r.elements,s.elements,ys):r instanceof rm&&s instanceof rm?ys(r.Ie,s.Ie):r instanceof Id&&s instanceof Id}(t.transform,e.transform)}class lB{constructor(e,n){this.version=e,this.transformResults=n}}class ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dg{}function dN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fN(t.key,ps.none()):new yh(t.key,t.data,ps.none());{const n=t.data,r=Ln.empty();let s=new $t(Jt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Do(t.key,r,new er(s.toArray()),ps.none())}}function cB(t,e,n){t instanceof yh?function(s,i,o){const a=s.value.clone(),l=u1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Do?function(s,i,o){if(!ap(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=u1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(hN(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ju(t,e,n,r){return t instanceof yh?function(i,o,a,l){if(!ap(i.precondition,o))return a;const c=i.value.clone(),d=d1(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Do?function(i,o,a,l){if(!ap(i.precondition,o))return a;const c=d1(i.fieldTransforms,l,o),d=o.data;return d.setAll(hN(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return ap(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function uB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=aN(r.transform,s||null);i!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,i))}return n||null}function c1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&uc(r,s,(i,o)=>aB(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yh extends dg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Do extends dg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function u1(t,e,n){const r=new Map;Ze(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,iB(o,a,n[s]))}return r}function d1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,sB(i,o,e))}return r}class fN extends dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dB extends dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&cB(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ju(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ju(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=dN(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,(n,r)=>c1(n,r))&&uc(this.baseMutations,e.baseMutations,(n,r)=>c1(n,r))}}class px{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ze(e.mutations.length===r.length);let s=function(){return X9}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new px(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fB=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Be;function mB(t){switch(t){case q.OK:return xe();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return xe()}}function pN(t){if(t===void 0)return si("GRPC error has no .code"),q.UNKNOWN;switch(t){case Dt.OK:return q.OK;case Dt.CANCELLED:return q.CANCELLED;case Dt.UNKNOWN:return q.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return q.INTERNAL;case Dt.UNAVAILABLE:return q.UNAVAILABLE;case Dt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Dt.NOT_FOUND:return q.NOT_FOUND;case Dt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Dt.ABORTED:return q.ABORTED;case Dt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Dt.DATA_LOSS:return q.DATA_LOSS;default:return xe()}}(Be=Dt||(Dt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=new co([4294967295,4294967295],0);function h1(t){const e=MR().encode(t),n=new PR;return n.update(e),new Uint8Array(n.digest())}function f1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new co([n,r],0),new co([s,i],0)]}class mx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Au(`Invalid padding: ${n}`);if(r<0)throw new Au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Au(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=co.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(co.fromNumber(r)));return s.compare(gB)===1&&(s=new co([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=h1(e),[r,s]=f1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new mx(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=h1(e),[r,s]=f1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hg(Te.min(),s,new xt(Ne),ii(),Me())}}class _h{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _h(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class mN{constructor(e,n){this.targetId=e,this.ge=n}}class gN{constructor(e,n,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class p1{constructor(){this.pe=0,this.ye=m1(),this.we=nn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),n=Me(),r=Me();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe()}}),new _h(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=m1()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class vB{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ii(),this.$e=kf(),this.Ue=kf(),this.Ke=new xt(Ne)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(Z_(i))if(r===0){const o=new me(i.path);this.ze(n,o,fn.newNoDocument(o,Te.min()))}else Ze(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=vo(r).toUint8Array()}catch(l){if(l instanceof UR)return cc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new mx(o,s,i)}catch(l){return cc(l instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&Z_(a.target)){const l=new me(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,fn.newNoDocument(l,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=Me();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new hg(e,n,this.Ke,this.Qe,r);return this.Qe=ii(),this.$e=kf(),this.Ue=kf(),this.Ke=new xt(Ne),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new p1,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new $t(Ne),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new $t(Ne),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new p1),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function kf(){return new xt(me.comparator)}function m1(){return new xt(me.comparator)}const yB={asc:"ASCENDING",desc:"DESCENDING"},_B={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wB={and:"AND",or:"OR"};class xB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function X_(t,e){return t.useProto3Json||ig(e)?e:{value:e}}function sm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bB(t,e){return sm(t,e.toTimestamp())}function ms(t){return Ze(!!t),Te.fromTimestamp(function(n){const r=go(n);return new mt(r.seconds,r.nanos)}(t))}function gx(t,e){return ew(t,e).canonicalString()}function ew(t,e){const n=function(s){return new pt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yN(t){const e=pt.fromString(t);return Ze(EN(e)),e}function tw(t,e){return gx(t.databaseId,e.path)}function qv(t,e){const n=yN(e);if(n.get(1)!==t.databaseId.projectId)throw new he(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(wN(n))}function _N(t,e){return gx(t.databaseId,e)}function EB(t){const e=yN(t);return e.length===4?pt.emptyPath():wN(e)}function nw(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wN(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function g1(t,e,n){return{name:tw(t,e),fields:n.value.mapValue.fields}}function TB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ze(d===void 0||typeof d=="string"),nn.fromBase64String(d||"")):(Ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array),nn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?q.UNKNOWN:pN(c.code);return new he(d,c.message||"")}(o);n=new gN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=qv(t,r.document.name),i=ms(r.document.updateTime),o=r.document.createTime?ms(r.document.createTime):Te.min(),a=new Ln({mapValue:{fields:r.document.fields}}),l=fn.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new lp(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=qv(t,r.document),i=r.readTime?ms(r.readTime):Te.min(),o=fn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new lp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=qv(t,r.document),i=r.removedTargetIds||[];n=new lp([],i,s,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new pB(s,i),a=r.targetId;n=new mN(a,o)}}return n}function SB(t,e){let n;if(e instanceof yh)n={update:g1(t,e.key,e.value)};else if(e instanceof fN)n={delete:tw(t,e.key)};else if(e instanceof Do)n={update:g1(t,e.key,e.data),updateMask:OB(e.fieldMask)};else{if(!(e instanceof dB))return xe();n={verify:tw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Id)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ad)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rm)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:bB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:xe()}(t,e.precondition)),n}function CB(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ms(s.updateTime):ms(i);return o.isEqual(Te.min())&&(o=ms(i)),new lB(o,s.transformResults||[])}(n,e))):[]}function kB(t,e){return{documents:[_N(t,e.path)]}}function IB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_N(t,s);const i=function(c){if(c.length!==0)return bN(_s.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:ol(p.field),direction:RB(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=X_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:s}}function PB(t){let e=EB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ze(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=xN(f);return p instanceof _s&&ZR(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(y){return new nm(al(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,ig(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new tm(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new tm(g,p)}(n.endAt)),K9(e,s,o,i,a,"F",l,c)}function AB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=al(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=al(n.unaryFilter.field);return Vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=al(n.unaryFilter.field);return Vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=al(n.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(al(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _s.create(n.compositeFilter.filters.map(r=>xN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function RB(t){return yB[t]}function NB(t){return _B[t]}function DB(t){return wB[t]}function ol(t){return{fieldPath:t.canonicalString()}}function al(t){return Jt.fromServerFormat(t.fieldPath)}function bN(t){return t instanceof Vt?function(n){if(n.op==="=="){if(r1(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(n1(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r1(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(n1(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:NB(n.op),value:n.value}}}(t):t instanceof _s?function(n){const r=n.getFilters().map(s=>bN(s));return r.length===1?r[0]:{compositeFilter:{op:DB(n.op),filters:r}}}(t):xe()}function OB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r,s,i=Te.min(),o=Te.min(),a=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.Tt=e}}function MB(t){const e=PB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?J_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(){this.Tn=new FB}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(mo.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class FB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new $t(pt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new $t(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TN=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(TN,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new fc(0)}static Kn(){return new fc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="LruGarbageCollector",VB=1048576;function _1([t,e],[n,r]){const s=Ne(t,n);return s===0?Ne(e,r):s}class UB{constructor(e){this.Hn=e,this.buffer=new $t(_1),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $B{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ie(y1,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lc(n)?ie(y1,"Ignoring IndexedDB error during garbage collection: ",n):await Mc(n)}await this.er(3e5)})}}class BB{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(sg.ae);const r=new UB(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(v1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v1):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),sl()<=je.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function zB(t,e){return new BB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.changes=new La(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ju(r.mutation,s,er.empty(),mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const s=Xo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Pu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ii();const o=Zu(),a=function(){return Zu()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Do)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ju(d.mutation,c,d.mutation.getFieldMask(),mt.now())):o.set(c.key,er.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new HB(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Zu();let s=new xt((o,a)=>o-a),i=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||er.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||Me()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=iN();d.forEach(p=>{if(!i.has(p)){const g=dN(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(Xo());let a=Td,l=i;return o.next(c=>W.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Me())).next(d=>({batchId:a,changes:sN(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let s=Pu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Pu();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,l=>{const c=function(f,p){return new ag(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,fn.newInvalidDocument(d)))});let a=Pu();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Ju(d.mutation,c,er.empty(),mt.now()),cg(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ms(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:MB(s.bundledQuery),readTime:ms(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(){this.overlays=new xt(me.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xo();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=Xo(),i=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new xt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Xo(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Xo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return W.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fB(n,r));let i=this.Rr.get(n);i===void 0&&(i=Me(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.Vr=new $t(zt.mr),this.gr=new $t(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new zt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new me(new pt([])),r=new zt(n,e),s=new zt(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new me(new pt([])),r=new zt(n,e),s=new zt(n,e+1);let i=Me();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new zt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return me.comparator(e.key,n.key)||Ne(e.Cr,n.Cr)}static pr(e,n){return Ne(e.Cr,n.Cr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new $t(zt.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hB(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new zt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?ax:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),s=new zt(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(Ne);return n.forEach(s=>{const i=new zt(s,0),o=new zt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),W.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;me.isDocumentKey(i)||(i=i.child(""));const o=new zt(new me(i),0);let a=new $t(Ne);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Cr)),!0)},o),W.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ze(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return W.forEach(n.mutations,s=>{const i=new zt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new zt(n,0),s=this.Mr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.kr=e,this.docs=function(){return new xt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=ii();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():fn.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ii();const o=n.path,a=new me(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||C9(S9(d),r)<=0||(s.has(d.key)||cg(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){xe()}qr(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JB(this)}getSize(e){return W.resolve(this.size)}}class JB extends WB{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e){this.persistence=e,this.Qr=new La(n=>ux(n),dx),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vx,this.targetCount=0,this.Kr=fc.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new sg(0),this.zr=!1,this.zr=!0,this.jr=new QB,this.referenceDelegate=e(this),this.Hr=new XB(this),this.indexManager=new LB,this.remoteDocumentCache=function(s){return new ZB(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new jB(n),this.Yr=new KB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new YB(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const s=new e8(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return W.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class e8 extends I9{constructor(e){super(),this.currentSequenceNumber=e}}class yx{constructor(e){this.persistence=e,this.ti=new vx,this.ni=null}static ri(e){return new yx(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,r=>{const s=me.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,Te.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class im{constructor(e,n){this.persistence=e,this.oi=new La(r=>R9(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=zB(this,n)}static ri(e,n){return new im(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?W.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Te.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ip(e.data.value)),n}ar(e,n,r){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return W.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Me(),s=Me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new _x(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return N3()?8:P9(mn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new t8;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(sl()<=je.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(sl()<=je.DEBUG&&ie("QueryEngine","Query:",il(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(sl()<=je.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fs(n))):W.resolve())}rs(e,n){if(a1(n))return W.resolve(null);let r=fs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=J_(n,null,"F"),r=fs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Me(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,J_(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,s){return a1(n)||s.isEqual(Te.min())?W.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?W.resolve(null):(sl()<=je.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),il(n)),this.hs(e,o,n,T9(s,Td)).next(a=>a))})}cs(e,n){let r=new $t(nN(e));return n.forEach((s,i)=>{cg(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return sl()<=je.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",il(n)),this.ns.getDocumentsMatchingQuery(e,n,mo.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="LocalStore",r8=3e8;class s8{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new xt(Ne),this.Is=new La(i=>ux(i),dx),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qB(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function i8(t,e,n,r){return new s8(t,e,n,r)}async function CN(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Me();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function o8(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=W.resolve();return p.forEach(y=>{g=g.next(()=>d.getEntry(l,y)).next(w=>{const E=c.docVersions.get(y);Ze(E!==null),w.version.compareTo(E)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function kN(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function a8(t,e){const n=Se(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Hr.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(nn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(w,E,b){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=r8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,g,d)&&a.push(n.Hr.updateTargetData(i,g))});let l=ii(),c=Me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(l8(i,o,e.documentUpdates).next(d=>{l=d.Vs,c=d.fs})),!r.isEqual(Te.min())){const d=n.Hr.getLastRemoteSnapshotVersion(i).next(f=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ts=s,i))}function l8(t,e,n){let r=Me(),s=Me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ii();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ie(wx,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:s}})}function c8(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ax),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function u8(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Yi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function rw(t,e,n){const r=Se(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Lc(o))throw o;ie(wx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function w1(t,e,n){const r=Se(t);let s=Te.min(),i=Me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Se(l),p=f.Is.get(d);return p!==void 0?W.resolve(f.Ts.get(p)):f.Hr.getTargetData(c,d)}(r,o,fs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:Te.min(),n?i:Me())).next(a=>(d8(r,Y9(e),a),{documents:a,gs:i})))}function d8(t,e,n){let r=t.Es.get(e)||Te.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class x1{constructor(){this.activeTargetIds=nB()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h8{constructor(){this.ho=new x1,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new x1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="ConnectivityMonitor";class E1{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ie(b1,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ie(b1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If=null;function sw(){return If===null?If=function(){return 268435456+Math.round(2147483648*Math.random())}():If++,"0x"+If.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="RestConnection",p8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m8{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Xp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=sw(),a=this.bo(e,n.toUriEncodedString());ie(Kv,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,s,i),this.vo(e,a,l,r).then(c=>(ie(Kv,`Received RPC '${e}' ${o}: `,c),c),c=>{throw cc(Kv,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=p8[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class v8 extends m8{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=sw();return new Promise((o,a)=>{const l=new AR;l.setWithCredentials(!0),l.listenOnce(RR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sp.NO_ERROR:const d=l.getResponseJson();ie(cn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case sp.TIMEOUT:ie(cn,`RPC '${e}' ${i} timed out`),a(new he(q.DEADLINE_EXCEEDED,"Request time out"));break;case sp.HTTP_ERROR:const f=l.getStatus();if(ie(cn,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const y=function(E){const b=E.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(b)>=0?b:q.UNKNOWN}(g.status);a(new he(y,g.message))}else a(new he(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(q.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{ie(cn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ie(cn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const s=sw(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OR(),a=DR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");ie(cn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,g=!1;const y=new g8({Fo:E=>{g?ie(cn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(ie(cn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),ie(cn,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Mo:()=>f.close()}),w=(E,b,x)=>{E.listen(b,T=>{try{x(T)}catch(k){setTimeout(()=>{throw k},0)}})};return w(f,Iu.EventType.OPEN,()=>{g||(ie(cn,`RPC '${e}' stream ${s} transport opened.`),y.Qo())}),w(f,Iu.EventType.CLOSE,()=>{g||(g=!0,ie(cn,`RPC '${e}' stream ${s} transport closed`),y.Uo())}),w(f,Iu.EventType.ERROR,E=>{g||(g=!0,cc(cn,`RPC '${e}' stream ${s} transport errored:`,E),y.Uo(new he(q.UNAVAILABLE,"The operation could not be completed")))}),w(f,Iu.EventType.MESSAGE,E=>{var b;if(!g){const x=E.data[0];Ze(!!x);const T=x,k=(T==null?void 0:T.error)||((b=T[0])===null||b===void 0?void 0:b.error);if(k){ie(cn,`RPC '${e}' stream ${s} received error:`,k);const D=k.status;let L=function(I){const R=Dt[I];if(R!==void 0)return pN(R)}(D),C=k.message;L===void 0&&(L=q.INTERNAL,C="Unknown error status: "+D+" with message "+k.message),g=!0,y.Uo(new he(L,C)),f.close()}else ie(cn,`RPC '${e}' stream ${s} received:`,x),y.Ko(x)}}),w(a,NR.STAT_EVENT,E=>{E.stat===q_.PROXY?ie(cn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===q_.NOPROXY&&ie(cn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.$o()},0),y}}function Gv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t){return new xB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="PersistentStream";class PN{constructor(e,n,r,s,i,o,a,l){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new IN(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(si(n.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new he(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ie(T1,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ie(T1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y8 extends PN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=TB(this.serializer,e),r=function(i){if(!("targetChange"in i))return Te.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Te.min():o.readTime?ms(o.readTime):Te.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=nw(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Z_(l)?{documents:kB(i,l)}:{query:IB(i,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vN(i,o.resumeToken);const c=X_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Te.min())>0){a.readTime=sm(i,o.snapshotVersion.toTimestamp());const c=X_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=AB(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=nw(this.serializer),n.removeTarget=e,this.I_(n)}}class _8 extends PN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=CB(e.writeResults,e.commitTime),r=ms(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=nw(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SB(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{}class x8 extends w8{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new he(q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,ew(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new he(q.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,ew(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(q.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class b8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(si(n),this.N_=!1):ie("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class E8{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{Fa(this)&&(ie(Ia,"Restarting streams for network reachability change."),await async function(l){const c=Se(l);c.W_.add(4),await wh(c),c.j_.set("Unknown"),c.W_.delete(4),await pg(c)}(this))})}),this.j_=new b8(r,s)}}async function pg(t){if(Fa(t))for(const e of t.G_)await e(!0)}async function wh(t){for(const e of t.G_)await e(!1)}function AN(t,e){const n=Se(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Tx(n)?Ex(n):Fc(n).c_()&&bx(n,e))}function xx(t,e){const n=Se(t),r=Fc(n);n.K_.delete(e),r.c_()&&RN(n,e),n.K_.size===0&&(r.c_()?r.P_():Fa(n)&&n.j_.set("Unknown"))}function bx(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(t).y_(e)}function RN(t,e){t.H_.Ne(e),Fc(t).w_(e)}function Ex(t){t.H_=new vB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.j_.B_()}function Tx(t){return Fa(t)&&!Fc(t).u_()&&t.K_.size>0}function Fa(t){return Se(t).W_.size===0}function NN(t){t.H_=void 0}async function T8(t){t.j_.set("Online")}async function S8(t){t.K_.forEach((e,n)=>{bx(t,e)})}async function C8(t,e){NN(t),Tx(t)?(t.j_.q_(e),Ex(t)):t.j_.set("Unknown")}async function k8(t,e,n){if(t.j_.set("Online"),e instanceof gN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.K_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.K_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){ie(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await om(t,r)}else if(e instanceof lp?t.H_.We(e):e instanceof mN?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Te.min()))try{const r=await kN(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.K_.get(c);d&&i.K_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.K_.get(l);if(!d)return;i.K_.set(l,d.withResumeToken(nn.EMPTY_BYTE_STRING,d.snapshotVersion)),RN(i,l);const f=new Yi(d.target,l,c,d.sequenceNumber);bx(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ie(Ia,"Failed to raise snapshot:",r),await om(t,r)}}async function om(t,e,n){if(!Lc(e))throw e;t.W_.add(1),await wh(t),t.j_.set("Offline"),n||(n=()=>kN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie(Ia,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await pg(t)})}function DN(t,e){return e().catch(n=>om(t,n,e))}async function mg(t){const e=Se(t),n=_o(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:ax;for(;I8(e);)try{const s=await c8(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,P8(e,s)}catch(s){await om(e,s)}ON(e)&&jN(e)}function I8(t){return Fa(t)&&t.U_.length<10}function P8(t,e){t.U_.push(e);const n=_o(t);n.c_()&&n.S_&&n.b_(e.mutations)}function ON(t){return Fa(t)&&!_o(t).u_()&&t.U_.length>0}function jN(t){_o(t).start()}async function A8(t){_o(t).C_()}async function R8(t){const e=_o(t);for(const n of t.U_)e.b_(n.mutations)}async function N8(t,e,n){const r=t.U_.shift(),s=px.from(r,e,n);await DN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await mg(t)}async function D8(t,e){e&&_o(t).S_&&await async function(r,s){if(function(o){return mB(o)&&o!==q.ABORTED}(s.code)){const i=r.U_.shift();_o(r).h_(),await DN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await mg(r)}}(t,e),ON(t)&&jN(t)}async function S1(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),ie(Ia,"RemoteStore received new credentials");const r=Fa(n);n.W_.add(3),await wh(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await pg(n)}async function O8(t,e){const n=Se(t);e?(n.W_.delete(2),await pg(n)):e||(n.W_.add(2),await wh(n),n.j_.set("Unknown"))}function Fc(t){return t.J_||(t.J_=function(n,r,s){const i=Se(n);return i.M_(),new y8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:T8.bind(null,t),No:S8.bind(null,t),Lo:C8.bind(null,t),p_:k8.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Tx(t)?Ex(t):t.j_.set("Unknown")):(await t.J_.stop(),NN(t))})),t.J_}function _o(t){return t.Y_||(t.Y_=function(n,r,s){const i=Se(n);return i.M_(),new _8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:A8.bind(null,t),Lo:D8.bind(null,t),D_:R8.bind(null,t),v_:N8.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await mg(t)):(await t.Y_.stop(),t.U_.length>0&&(ie(Ia,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Sx(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cx(t,e){if(si("AsyncQueue",`${e}: ${t}`),Lc(t))return new he(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{static emptySet(e){return new jl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Pu(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.Z_=new xt(me.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class pc{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new pc(e,n,jl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class M8{constructor(){this.queries=k1(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=Se(n),i=s.queries;s.queries=k1(),i.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new he(q.ABORTED,"Firestore shutting down"))}}function k1(){return new La(t=>tN(t),lg)}async function MN(t,e){const n=Se(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new j8,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Cx(o,`Initialization of query '${il(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&kx(n)}async function LN(t,e){const n=Se(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function L8(t,e){const n=Se(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&kx(n)}function F8(t,e,n){const r=Se(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function kx(t){t.ia.forEach(e=>{e.next()})}var iw,I1;(I1=iw||(iw={}))._a="default",I1.Cache="cache";class FN{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==iw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.key=e}}class UN{constructor(e){this.key=e}}class V8{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=nN(e),this.wa=new jl(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new C1,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=cg(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?y!==w&&(r.track({type:3,doc:g}),E=!0):this.va(p,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.ya(g,l)>0||c&&this.ya(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(l||c)&&(a=!0)),E&&(g?(o=o.add(g),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,f)=>function(g,y){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return w(g)-w(y)}(d.type,f.type)||this.ya(d.doc,f.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],l=this.pa.size===0&&this.current&&!s?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new pc(this.query,e.wa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new C1,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new UN(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new VN(r))}),n}Oa(e){this.fa=e.gs,this.pa=Me();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return pc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ix="SyncEngine";class U8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $8{constructor(e){this.key=e,this.Ba=!1}}class B8{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new La(a=>tN(a),lg),this.qa=new Map,this.Qa=new Set,this.$a=new xt(me.comparator),this.Ua=new Map,this.Ka=new vx,this.Wa={},this.Ga=new Map,this.za=fc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function z8(t,e,n=!0){const r=qN(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await $N(r,e,n,!0),s}async function W8(t,e){const n=qN(t);await $N(n,e,!0,!1)}async function $N(t,e,n,r){const s=await u8(t.localStore,fs(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await H8(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&AN(t.remoteStore,s),a}async function H8(t,e,n,r,s){t.Ha=(f,p,g)=>async function(w,E,b,x){let T=E.view.ba(b);T.ls&&(T=await w1(w.localStore,E.query,!1).then(({documents:C})=>E.view.ba(C,T)));const k=x&&x.targetChanges.get(E.targetId),D=x&&x.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(T,w.isPrimaryClient,k,D);return A1(w,E.targetId,L.Ma),L.snapshot}(t,f,p,g);const i=await w1(t.localStore,e,!0),o=new V8(e,i.gs),a=o.ba(i.documents),l=_h.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);A1(t,n,c.Ma);const d=new U8(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function q8(t,e,n){const r=Se(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!lg(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&xx(r.remoteStore,s.targetId),ow(r,s.targetId)}).catch(Mc)):(ow(r,s.targetId),await rw(r.localStore,s.targetId,!0))}async function K8(t,e){const n=Se(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xx(n.remoteStore,r.targetId))}async function G8(t,e,n){const r=tz(t);try{const s=await function(o,a){const l=Se(o),c=mt.now(),d=a.reduce((g,y)=>g.add(y.key),Me());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=ii(),w=Me();return l.ds.getEntries(g,d).next(E=>{y=E,y.forEach((b,x)=>{x.isValidDocument()||(w=w.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,y)).next(E=>{f=E;const b=[];for(const x of a){const T=uB(x,f.get(x.key).overlayedDocument);T!=null&&b.push(new Do(x.key,T,GR(T.value.mapValue),ps.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,b,a)}).next(E=>{p=E;const b=E.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(g,E.batchId,b)})}).then(()=>({batchId:p.batchId,changes:sN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new xt(Ne)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,s.batchId,n),await xh(r,s.changes),await mg(r.remoteStore)}catch(s){const i=Cx(s,"Failed to persist write");n.reject(i)}}async function BN(t,e){const n=Se(t);try{const r=await a8(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ua.get(i);o&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?Ze(o.Ba):s.removedDocuments.size>0&&(Ze(o.Ba),o.Ba=!1))}),await xh(n,r,e)}catch(r){await Mc(r)}}function P1(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Se(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.ta)p.sa(a)&&(c=!0)}),c&&kx(l)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Q8(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),i=s&&s.key;if(i){let o=new xt(me.comparator);o=o.insert(i,fn.newNoDocument(i,Te.min()));const a=Me().add(i),l=new hg(Te.min(),new Map,new xt(Ne),o,a);await BN(r,l),r.$a=r.$a.remove(i),r.Ua.delete(e),Px(r)}else await rw(r.localStore,e,!1).then(()=>ow(r,e,n)).catch(Mc)}async function Y8(t,e){const n=Se(t),r=e.batch.batchId;try{const s=await o8(n.localStore,e);WN(n,r,null),zN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xh(n,s)}catch(s){await Mc(s)}}async function Z8(t,e,n){const r=Se(t);try{const s=await function(o,a){const l=Se(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ze(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);WN(r,e,n),zN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xh(r,s)}catch(s){await Mc(s)}}function zN(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function WN(t,e,n){const r=Se(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function ow(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||HN(t,r)})}function HN(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(xx(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Px(t))}function A1(t,e,n){for(const r of n)r instanceof VN?(t.Ka.addReference(r.key,e),J8(t,r)):r instanceof UN?(ie(Ix,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||HN(t,r.key)):xe()}function J8(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ie(Ix,"New document in limbo: "+n),t.Qa.add(r),Px(t))}function Px(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new me(pt.fromString(e)),r=t.za.next();t.Ua.set(r,new $8(n)),t.$a=t.$a.insert(n,r),AN(t.remoteStore,new Yi(fs(hx(n.path)),r,"TargetPurposeLimboResolution",sg.ae))}}async function xh(t,e,n){const r=Se(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=_x.Yi(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.La.p_(s),await async function(l,c){const d=Se(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(c,p=>W.forEach(p.Hi,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>W.forEach(p.Ji,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Lc(f))throw f;ie(wx,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.Ts.get(p),y=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(y);d.Ts=d.Ts.insert(p,w)}}}(r.localStore,i))}async function X8(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){ie(Ix,"User change. New user:",e.toKey());const r=await CN(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(l=>{l.reject(new he(q.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xh(n,r.Rs)}}function ez(t,e){const n=Se(t),r=n.Ua.get(e);if(r&&r.Ba)return Me().add(r.key);{let s=Me();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.Sa)}return s}}function qN(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ez.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q8.bind(null,e),e.La.p_=L8.bind(null,e.eventManager),e.La.Ja=F8.bind(null,e.eventManager),e}function tz(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z8.bind(null,e),e}class am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fg(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return i8(this.persistence,new n8,e.initialUser,this.serializer)}Xa(e){return new SN(yx.ri,this.serializer)}Za(e){return new h8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}am.provider={build:()=>new am};class nz extends am{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ze(this.persistence.referenceDelegate instanceof im);const r=this.persistence.referenceDelegate.garbageCollector;return new $B(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new SN(r=>im.ri(r,n),this.serializer)}}class aw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X8.bind(null,this.syncEngine),await O8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M8}()}createDatastore(e){const n=fg(e.databaseInfo.databaseId),r=function(i){return new v8(i)}(e.databaseInfo);return function(i,o,a,l){return new x8(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new E8(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>P1(this.syncEngine,n,0),function(){return E1.D()?new E1:new f8}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new B8(s,i,o,a,l,c);return d&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Se(s);ie(Ia,"RemoteStore shutting down."),i.W_.add(5),await wh(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}aw.provider={build:()=>new aw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="FirestoreClient";class rz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=dn.UNAUTHENTICATED,this.clientId=LR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ie(wo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ie(wo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qv(t,e){t.asyncQueue.verifyOperationInProgress(),ie(wo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await CN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function R1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sz(t);ie(wo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>S1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>S1(e.remoteStore,s)),t._onlineComponents=e}async function sz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie(wo,"Using user provided OfflineComponentProvider");try{await Qv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;cc("Error using user provided cache. Falling back to memory cache: "+n),await Qv(t,new am)}}else ie(wo,"Using default OfflineComponentProvider"),await Qv(t,new nz(void 0));return t._offlineComponents}async function GN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie(wo,"Using user provided OnlineComponentProvider"),await R1(t,t._uninitializedComponentsProvider._online)):(ie(wo,"Using default OnlineComponentProvider"),await R1(t,new aw))),t._onlineComponents}function iz(t){return GN(t).then(e=>e.syncEngine)}async function QN(t){const e=await GN(t),n=e.eventManager;return n.onListen=z8.bind(null,e.syncEngine),n.onUnlisten=q8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=K8.bind(null,e.syncEngine),n}function oz(t,e,n={}){const r=new Qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new KN({next:p=>{d.su(),o.enqueueAndForget(()=>LN(i,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new he(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new he(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new FN(hx(a.path),d,{includeMetadataChanges:!0,Ta:!0});return MN(i,f)}(await QN(t),t.asyncQueue,e,n,r)),r.promise}function az(t,e,n={}){const r=new Qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new KN({next:p=>{d.su(),o.enqueueAndForget(()=>LN(i,f)),p.fromCache&&l.source==="server"?c.reject(new he(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new FN(a,d,{includeMetadataChanges:!0,Ta:!0});return MN(i,f)}(await QN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t,e,n){if(!n)throw new he(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lz(t,e,n,r){if(e===!0&&r===!0)throw new he(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function D1(t){if(!me.isDocumentKey(t))throw new he(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O1(t){if(me.isDocumentKey(t))throw new he(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ax(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ax(t);throw new he(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firestore.googleapis.com",j1=!0;class M1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JN,this.ssl=j1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:j1;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VB)throw new he(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new m9;switch(r.type){case"firstParty":return new _9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=N1.get(n);r&&(ie("ComponentProvider","Removing Datastore"),N1.delete(n),r.terminate())}(this),Promise.resolve()}}function cz(t,e,n,r={}){var s;const i=(t=oi(t,gg))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==JN&&i.host!==a&&cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!Ea(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=dn.MOCK_USER;else{c=S3(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new he(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new dn(f)}t._authCredentials=new g9(new jR(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vg(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class uo extends vg{constructor(e,n,r){super(e,n,hx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new me(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function Rx(t,e,...n){if(t=tn(t),ZN("collection","path",e),t instanceof gg){const r=pt.fromString(e,...n);return O1(r),new uo(t,null,r)}{if(!(t instanceof zn||t instanceof uo))throw new he(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return O1(r),new uo(t.firestore,null,r)}}function Oo(t,e,...n){if(t=tn(t),arguments.length===1&&(e=LR.newId()),ZN("doc","path",e),t instanceof gg){const r=pt.fromString(e,...n);return D1(r),new zn(t,null,new me(r))}{if(!(t instanceof zn||t instanceof uo))throw new he(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return D1(r),new zn(t.firestore,t instanceof uo?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="AsyncQueue";class F1{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new IN(this,"async_queue_retry"),this.Su=()=>{const r=Gv();r&&ie(L1,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Gv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Gv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Qs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Lc(e))throw e;ie(L1,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw si("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Sx.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class bh extends gg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new F1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F1(e),this._firestoreClient=void 0,await e}}}function uz(t,e){const n=typeof t=="object"?t:zA(),r=typeof t=="string"?t:Xp,s=Q0(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=E3("firestore");i&&cz(s,...i)}return s}function Nx(t){if(t._terminated)throw new he(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dz(t),t._firestoreClient}function dz(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new O9(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,YN(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new rz(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mc(nn.fromBase64String(e))}catch(n){throw new he(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mc(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=/^__.*__$/;class fz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Do(e,this.data,this.fieldMask,n,this.fieldTransforms):new yh(e,this.data,n,this.fieldTransforms)}}class XN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Do(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class jx{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new jx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return lm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(eD(this.Lu)&&hz.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class pz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fg(e)}ju(e,n,r,s=!1){return new jx({Lu:e,methodName:n,zu:r,path:Jt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tD(t){const e=t._freezeSettings(),n=fg(t._databaseId);return new pz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mz(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);Lx("Data must be an object, but it was:",o,r);const a=nD(r,o);let l,c;if(i.merge)l=new er(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=lw(e,f,n);if(!o.contains(p))throw new he(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);sD(d,p)||d.push(p)}l=new er(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new fz(new Ln(a),l,c)}class wg extends _g{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wg}}class Mx extends _g{_toFieldTransform(e){return new oB(e.path,new Id)}isEqual(e){return e instanceof Mx}}function gz(t,e,n,r){const s=t.ju(1,e,n);Lx("Data must be an object, but it was:",s,r);const i=[],o=Ln.empty();No(r,(l,c)=>{const d=Fx(e,l,n);c=tn(c);const f=s.Uu(d);if(c instanceof wg)i.push(d);else{const p=xg(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new er(i);return new XN(o,a,s.fieldTransforms)}function vz(t,e,n,r,s,i){const o=t.ju(1,e,n),a=[lw(e,r,n)],l=[s];if(i.length%2!=0)throw new he(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(lw(e,i[p])),l.push(i[p+1]);const c=[],d=Ln.empty();for(let p=a.length-1;p>=0;--p)if(!sD(c,a[p])){const g=a[p];let y=l[p];y=tn(y);const w=o.Uu(g);if(y instanceof wg)c.push(g);else{const E=xg(y,w);E!=null&&(c.push(g),d.set(g,E))}}const f=new er(c);return new XN(d,f,o.fieldTransforms)}function xg(t,e){if(rD(t=tn(t)))return Lx("Unsupported field value:",e,t),nD(t,e);if(t instanceof _g)return function(r,s){if(!eD(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=xg(a,s.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=mt.fromDate(r);return{timestampValue:sm(s.serializer,i)}}if(r instanceof mt){const i=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sm(s.serializer,i)}}if(r instanceof Dx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mc)return{bytesValue:vN(s.serializer,r._byteString)};if(r instanceof zn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ox)return function(o,a){return{mapValue:{fields:{[HR]:{stringValue:KR},[em]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return fx(a.serializer,c)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Ax(r)}`)}(t,e)}function nD(t,e){const n={};return VR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,(r,s)=>{const i=xg(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function rD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Dx||t instanceof mc||t instanceof zn||t instanceof _g||t instanceof Ox)}function Lx(t,e,n){if(!rD(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Ax(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function lw(t,e,n){if((e=tn(e))instanceof yg)return e._internalPath;if(typeof e=="string")return Fx(t,e);throw lm("Field path arguments must be of type string or ",t,!1,void 0,n)}const yz=new RegExp("[~\\*/\\[\\]]");function Fx(t,e,n){if(e.search(yz)>=0)throw lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yg(...e.split("."))._internalPath}catch{throw lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new he(q.INVALID_ARGUMENT,a+t+l)}function sD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _z(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _z extends iD{data(){return super.data()}}function oD(t,e){return typeof e=="string"?Fx(t,e):e instanceof yg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xz{convertValue(e,n="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return No(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[em].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>At(o.doubleValue));return new Ox(i)}convertGeoPoint(e){return new Dx(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=og(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){const n=go(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);Ze(EN(r));const s=new Cd(r.get(1),r.get(3)),i=new me(r.popFirst(5));return s.isEqual(n)||si(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aD extends iD{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cp extends aD{data(e={}){return super.data(e)}}class Ez{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ru(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cp(this._firestore,this._userDataWriter,r.key,r,new Ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new cp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ru(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new cp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ru(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Tz(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Tz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t){t=oi(t,zn);const e=oi(t.firestore,bh);return oz(Nx(e),t._key).then(n=>kz(e,t,n))}class lD extends xz{constructor(e){super(),this.firestore=e}convertBytes(e){return new mc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function Sz(t){t=oi(t,vg);const e=oi(t.firestore,bh),n=Nx(e),r=new lD(e);return wz(t._query),az(n,t._query).then(s=>new Ez(e,r,t,s))}function Eh(t,e,n){t=oi(t,zn);const r=oi(t.firestore,bh),s=bz(t.converter,e,n);return cD(r,[mz(tD(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ps.none())])}function Cz(t,e,n,...r){t=oi(t,zn);const s=oi(t.firestore,bh),i=tD(s);let o;return o=typeof(e=tn(e))=="string"||e instanceof yg?vz(i,"updateDoc",t._key,e,n,r):gz(i,"updateDoc",t._key,e),cD(s,[o.toMutation(t._key,ps.exists(!0))])}function cD(t,e){return function(r,s){const i=new Qs;return r.asyncQueue.enqueueAndForget(async()=>G8(await iz(r),s,i)),i.promise}(Nx(t),e)}function kz(t,e,n){const r=n.docs.get(e._key),s=new lD(t);return new aD(t,s,e._key,r,new Ru(n.hasPendingWrites,n.fromCache),e.converter)}function Vc(){return new Mx("serverTimestamp")}(function(e,n=!0){(function(s){jc=s})(Dc),ac(new Ta("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new bh(new v9(r.getProvider("auth-internal")),new w9(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new he(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cd(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),lo(WS,HS,e),lo(WS,HS,"esm2017")})();class Th{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const Iz=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Zt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Iz()},Ux=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},Pz=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Ux(t);Zt.publicKey=n.publicKey,Zt.blockHeadless=n.blockHeadless,Zt.storageProvider=n.storageProvider,Zt.blockList=n.blockList,Zt.limitRate=n.limitRate,Zt.origin=n.origin||e},uD=async(t,e,n={})=>{const r=await fetch(Zt.origin+t,{method:"POST",headers:n,body:e}),s=await r.text(),i=new Th(r.status,s);if(r.ok)return i;throw i},dD=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Az=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},hD=t=>t.webdriver||!t.languages||t.languages.length===0,fD=()=>new Th(451,"Unavailable For Headless Browser"),Rz=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Nz=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},Dz=(t,e)=>t instanceof FormData?t.get(e):t[e],pD=(t,e)=>{if(Nz(t))return!1;Rz(t.list,t.watchVariable);const n=Dz(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},mD=()=>new Th(403,"Forbidden"),Oz=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},jz=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},gD=async(t,e,n)=>{if(!e.throttle||!n)return!1;Oz(e.throttle,e.id);const r=e.id||t;return await jz(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},vD=()=>new Th(429,"Too Many Requests"),Mz=async(t,e,n,r)=>{const s=Ux(r),i=s.publicKey||Zt.publicKey,o=s.blockHeadless||Zt.blockHeadless,a=s.storageProvider||Zt.storageProvider,l={...Zt.blockList,...s.blockList},c={...Zt.limitRate,...s.limitRate};return o&&hD(navigator)?Promise.reject(fD()):(dD(i,t,e),Az(n),n&&pD(l,n)?Promise.reject(mD()):await gD(location.pathname,c,a)?Promise.reject(vD()):uD("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},Lz=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Fz=t=>typeof t=="string"?document.querySelector(t):t,Vz=async(t,e,n,r)=>{const s=Ux(r),i=s.publicKey||Zt.publicKey,o=s.blockHeadless||Zt.blockHeadless,a=Zt.storageProvider||s.storageProvider,l={...Zt.blockList,...s.blockList},c={...Zt.limitRate,...s.limitRate};if(o&&hD(navigator))return Promise.reject(fD());const d=Fz(n);dD(i,t,e),Lz(d);const f=new FormData(d);return pD(l,f)?Promise.reject(mD()):await gD(location.pathname,c,a)?Promise.reject(vD()):(f.append("lib_version","4.4.1"),f.append("service_id",t),f.append("template_id",e),f.append("user_id",i),uD("/api/v1.0/email/send-form",f))},yD={init:Pz,send:Mz,sendForm:Vz,EmailJSResponseStatus:Th},Uz=()=>{yD.init("9NvuHL4FBYA3FGrd-")},$z=async t=>{try{if(!t.user_email||!t.user_email.includes("@"))return console.error("Invalid email address provided:",t.user_email),{success:!1,message:"Invalid email address"};const e={user_email:t.user_email,user_name:t.user_name||t.user_email.split("@")[0]||"User",ac_location:t.ac_location||"your air conditioner",service_date:t.service_date||"soon",days_until_service:t.days_until_service||"a few"};console.log("Sending reminder email to",e.user_email,"for AC unit",e.ac_location);const n=await yD.send("service_3dt8ceh","template_hqcbwsb",e);return console.log("Email sent successfully!",n.status,n.text),{success:!0,message:"Email sent successfully!"}}catch(e){return console.error("Failed to send email:",e),{success:!1,message:"Failed to send email. Please try again later."}}},Bz=t=>(isNaN(t.getTime())&&(console.warn("Invalid date provided to formatDateForEmail, using current date instead"),t=new Date),t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),zz=(t,e=new Date)=>{if(isNaN(t.getTime())){console.warn("Invalid futureDate provided to calculateDaysUntil, using current date + 7 days");const s=new Date;s.setDate(s.getDate()+7),t=s}isNaN(e.getTime())&&(console.warn("Invalid fromDate provided to calculateDaysUntil, using current date"),e=new Date);const n=t.getTime()-e.getTime(),r=Math.ceil(n/(1e3*60*60*24));return r>0?r:0},Wz={apiKey:"AIzaSyDPdjDE7dKhq0WWOdqWwl43Dmk4EMeLin8",authDomain:"ac-reminder.firebaseapp.com",projectId:"ac-reminder",storageBucket:"ac-reminder.firebasestorage.app",messagingSenderId:"903987713635",appId:"1:903987713635:web:badcdd4716532721f78a56",measurementId:"G-MSZ190HC2K"},_D=BA(Wz),Uc=f9(_D),pi=uz(_D),V1=new Ls,Hz=async(t,e,n)=>{try{const s=(await Y5(Uc,t,e)).user;return await X5(s,{displayName:n}),await Eh(Oo(pi,"users",s.uid),{uid:s.uid,email:t,displayName:n,createdAt:Vc()}),s}catch(r){throw console.error("Error signing up with email:",r),r}},qz=async(t,e)=>{try{return(await Z5(Uc,t,e)).user}catch(n){throw console.error("Error signing in with email:",n),n}},Kz=async()=>{try{return V1.setCustomParameters({prompt:"select_account"}),await k6(Uc,V1),!0}catch(t){throw console.error("Error signing in with Google:",t),t}},Gz=async()=>{var t;try{const e=await P6(Uc);if(!e)return null;const n=e.user,r=Oo(pi,"users",n.uid);return(await Vx(r)).exists()||await Eh(r,{uid:n.uid,email:n.email,displayName:n.displayName||((t=n.email)==null?void 0:t.split("@")[0])||"User",createdAt:Vc(),provider:"google"}),n}catch(e){throw console.error("Error handling redirect result:",e),e}},Qz=async()=>{try{await n6(Uc)}catch(t){throw console.error("Error signing out:",t),t}},Yz=async(t,e)=>{try{const n=Rx(pi,"users",t,"acUnits"),r=Oo(n);return await Eh(r,{id:r.id,userId:t,location:e.location,lastServiceDate:e.lastServiceDate?mt.fromDate(e.lastServiceDate):null,nextServiceDate:mt.fromDate(e.nextServiceDate),notes:e.notes||"",createdAt:Vc()}),r.id}catch(n){throw console.error("Error creating AC unit:",n),n}},Zz=async(t,e,n)=>{try{const r=Oo(pi,"users",t,"acUnits",e),s={updatedAt:Vc()};return n.location!==void 0&&(s.location=n.location),n.notes!==void 0&&(s.notes=n.notes),n.lastServiceDate!==void 0&&(s.lastServiceDate=n.lastServiceDate?mt.fromDate(n.lastServiceDate):null),n.nextServiceDate!==void 0&&(s.nextServiceDate=mt.fromDate(n.nextServiceDate)),await Cz(r,s),e}catch(r){throw console.error("Error updating AC unit:",r),r}},bg=async t=>{try{const e=Rx(pi,"users",t,"acUnits");return(await Sz(e)).docs.map(s=>{const i=s.data();return{id:s.id,userId:i.userId,location:i.location,lastServiceDate:i.lastServiceDate?i.lastServiceDate.toDate().toISOString():null,nextServiceDate:i.nextServiceDate.toDate().toISOString(),notes:i.notes,createdAt:i.createdAt?i.createdAt.toDate().toISOString():new Date().toISOString()}})}catch(e){throw console.error("Error getting AC units:",e),e}},Jz=t=>Uc.onAuthStateChanged(t),Xz=async(t,e)=>{try{const n=Oo(pi,"users",t,"settings","notifications");return await Eh(n,{...e,updatedAt:Vc()},{merge:!0}),n.id}catch(n){throw console.error("Error updating notification preferences:",n),n}},eW=async t=>{try{const e=Oo(pi,"users",t,"settings","notifications"),n=await Vx(e);return n.exists()?n.data():{emailEnabled:!0,smsEnabled:!1,daysBeforeService:7}}catch(e){throw console.error("Error getting notification preferences:",e),e}},tW=async t=>{try{const e=await bg(t),n=new Date,r=e.length;let s=0,i=0,o=0;return e.forEach(a=>{const l=new Date(a.nextServiceDate),c=Math.floor((l.getTime()-n.getTime())/(1e3*60*60*24));c<0?i++:c<=30&&s++,a.lastServiceDate&&o++}),{totalUnits:r,upcomingServices:s,overdueServices:i,servicesCompleted:o}}catch(e){throw console.error("Error getting dashboard stats:",e),e}},nW=async(t,e,n,r,s,i)=>{try{console.log(`Preparing to send reminder email for AC unit ${s}`);const o=Rx(pi,"users",String(t),"reminders"),a=Oo(o),l=isNaN(i.getTime())?new Date:i,c=Bz(l),d=zz(l),f=r!=null&&r.trim()?r:n.split("@")[0];console.log(`Sending reminder email to ${n} (${f}) for AC unit ${s} due ${c}`);const p=await $z({user_email:n,user_name:f,ac_location:s,service_date:c,days_until_service:d.toString()});return await Eh(a,{id:a.id,userId:String(t),acUnitId:String(e),acLocation:s,serviceDate:mt.fromDate(l),sentTo:n,sentAt:Vc(),status:p.success?"sent":"failed",errorMessage:p.success?"":p.message}),{success:p.success,id:a.id,message:p.message}}catch(o){throw console.error("Error sending service reminder:",o),o}},wD=v.createContext(void 0),U1=t=>{var e;return{id:t.uid,username:t.displayName||((e=t.email)==null?void 0:e.split("@")[0])||"User",email:t.email||"",fullName:t.displayName||"",createdAt:new Date(Number(t.metadata.creationTime)||Date.now())}};function rW({children:t}){const[e,n]=v.useState(null),[r,s]=v.useState(!0),{toast:i}=Pc();v.useEffect(()=>{(async()=>{try{const p=await Gz();p&&i({title:"Google sign-in successful",description:`Welcome, ${p.displayName||"User"}!`})}catch(p){console.error("Error handling Google redirect:",p),i({title:"Google sign-in failed",description:p instanceof Error?p.message:"Could not sign in with Google",variant:"destructive"})}})()},[i]),v.useEffect(()=>{async function f(g){var y;try{const w=Oo(pi,"users",g.uid),E=await Vx(w);if(E.exists()){const b=E.data();return{id:g.uid,username:b.displayName||g.displayName||((y=g.email)==null?void 0:y.split("@")[0])||"User",email:b.email||g.email||"",fullName:b.displayName||g.displayName||"",phone:b.phone||"",createdAt:b.createdAt?new Date(b.createdAt.toDate()):new Date}}else return U1(g)}catch(w){return console.error("Error getting user from Firestore:",w),U1(g)}}const p=Jz(async g=>{if(s(!0),g)try{const y=await f(g);n(y)}catch(y){console.error("Failed to process authenticated user:",y),n(null)}else n(null);s(!1)});return()=>p()},[i]);const o=async(f,p)=>{try{s(!0),await qz(f,p),i({title:"Logged in successfully",description:"Welcome back!"})}catch(g){throw console.error("Login failed:",g),i({title:"Login failed",description:g instanceof Error?g.message:"Invalid email or password",variant:"destructive"}),g}finally{s(!1)}},a=async()=>{try{s(!0),await Kz()}catch(f){throw console.error("Google sign-in redirect failed:",f),i({title:"Sign-in failed",description:f instanceof Error?f.message:"Could not initiate Google sign-in",variant:"destructive"}),f}finally{s(!1)}},l=async f=>{try{s(!0);const p=f.fullName||f.username;await Hz(f.email,f.password,p),i({title:"Account created successfully",description:`Welcome, ${p}!`})}catch(p){throw console.error("Signup failed:",p),i({title:"Signup failed",description:p instanceof Error?p.message:"Could not create account",variant:"destructive"}),p}finally{s(!1)}},c=async()=>{try{await Qz(),i({title:"Logged out successfully"})}catch(f){console.error("Logout failed:",f),i({title:"Logout failed",description:"An error occurred during logout",variant:"destructive"})}},d=async f=>{try{if(e)n({...e,...f}),i({title:"Profile updated successfully"});else throw new Error("No user logged in")}catch(p){throw console.error("Profile update failed:",p),i({title:"Update failed",description:p instanceof Error?p.message:"Could not update profile",variant:"destructive"}),p}};return h.jsx(wD.Provider,{value:{user:e,isLoading:r,login:o,loginWithGoogleRedirect:a,signup:l,logout:c,updateProfile:d},children:t})}function qn(){const t=v.useContext(wD);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function et({className:t,...e}){return h.jsx("div",{className:ce("animate-pulse rounded-md bg-muted",t),...e})}function sW(){const{user:t}=qn(),[e,n]=v.useState(null),[r,s]=v.useState(!0);if(v.useEffect(()=>{async function o(){if(t!=null&&t.id){s(!0);try{const a=await tW(t.id);n(a)}catch(a){console.error("Failed to fetch dashboard stats:",a)}finally{s(!1)}}}o()},[t==null?void 0:t.id]),r)return h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[...Array(4)].map((o,a)=>h.jsx(yr,{children:h.jsx(_r,{className:"p-4 sm:p-6 xl:p-8",children:h.jsx("div",{className:"flex items-center",children:h.jsxs("div",{className:"flex-shrink-0",children:[h.jsx(et,{className:"h-8 w-12 mb-1"}),h.jsx(et,{className:"h-4 w-24"})]})})})},a))});const i=[{value:(e==null?void 0:e.totalUnits)||0,label:"Total AC Units",color:"text-primary-600"},{value:(e==null?void 0:e.upcomingServices)||0,label:"Upcoming Services",color:"text-yellow-500"},{value:(e==null?void 0:e.overdueServices)||0,label:"Overdue Services",color:"text-red-500"},{value:(e==null?void 0:e.servicesCompleted)||0,label:"Services Completed",color:"text-green-500"}];return h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:i.map((o,a)=>h.jsx(yr,{children:h.jsx(_r,{className:"p-4 sm:p-6 xl:p-8",children:h.jsx("div",{className:"flex items-center",children:h.jsxs("div",{className:"flex-shrink-0",children:[h.jsx("span",{className:`text-2xl sm:text-3xl leading-none font-bold ${o.color}`,children:o.value}),h.jsx("h3",{className:"text-base font-normal text-gray-500",children:o.label})]})})})},a))})}async function xD(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function cw(t,e,n){const r=await fetch(e,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await xD(r),r}const iW=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await xD(n),await n.json())},oW=new TF({defaultOptions:{queries:{queryFn:iW({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function Ve(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ir(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function xn(t,e){const n=Ve(t);return isNaN(e)?ir(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function zr(t,e){const n=Ve(t);if(isNaN(e))return ir(t,NaN);if(!e)return n;const r=n.getDate(),s=ir(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const $x=6048e5,aW=864e5;let lW={};function Sh(){return lW}function ws(t,e){var a,l,c,d;const n=Sh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Ve(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Pa(t){return ws(t,{weekStartsOn:1})}function bD(t){const e=Ve(t),n=e.getFullYear(),r=ir(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Pa(r),i=ir(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Pa(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function gc(t){const e=Ve(t);return e.setHours(0,0,0,0),e}function cm(t){const e=Ve(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Lr(t,e){const n=gc(t),r=gc(e),s=+n-cm(n),i=+r-cm(r);return Math.round((s-i)/aW)}function cW(t){const e=bD(t),n=ir(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Pa(n)}function uw(t,e){const n=e*7;return xn(t,n)}function uW(t,e){return zr(t,e*12)}function dW(t){let e;return t.forEach(function(n){const r=Ve(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function hW(t){let e;return t.forEach(n=>{const r=Ve(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Vn(t,e){const n=gc(t),r=gc(e);return+n==+r}function Bx(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function fW(t){if(!Bx(t)&&typeof t!="number")return!1;const e=Ve(t);return!isNaN(Number(e))}function Rd(t,e){const n=Ve(t),r=Ve(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function pW(t,e,n){const r=ws(t,n),s=ws(e,n),i=+r-cm(r),o=+s-cm(s);return Math.round((i-o)/$x)}function up(t,e){const n=Ve(t),r=Ve(e),s=$1(n,r),i=Math.abs(Lr(n,r));n.setDate(n.getDate()-s*i);const o=+($1(n,r)===-s),a=s*(i-o);return a===0?0:a}function $1(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function zx(t){const e=Ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Wn(t){const e=Ve(t);return e.setDate(1),e.setHours(0,0,0,0),e}function ED(t){const e=Ve(t),n=ir(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Wx(t,e){var a,l,c,d;const n=Sh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Ve(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function TD(t){return Wx(t,{weekStartsOn:1})}const mW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gW=(t,e,n)=>{let r;const s=mW[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Yv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const vW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_W={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wW={date:Yv({formats:vW,defaultWidth:"full"}),time:Yv({formats:yW,defaultWidth:"full"}),dateTime:Yv({formats:_W,defaultWidth:"full"})},xW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bW=(t,e,n,r)=>xW[t];function gu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const EW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},PW=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},AW={ordinalNumber:PW,era:gu({values:EW,defaultWidth:"wide"}),quarter:gu({values:TW,defaultWidth:"wide",argumentCallback:t=>t-1}),month:gu({values:SW,defaultWidth:"wide"}),day:gu({values:CW,defaultWidth:"wide"}),dayPeriod:gu({values:kW,defaultWidth:"wide",formattingValues:IW,defaultFormattingWidth:"wide"})};function vu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?NW(a,f=>f.test(o)):RW(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function RW(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function NW(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function DW(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const OW=/^(\d+)(th|st|nd|rd)?/i,jW=/\d+/i,MW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LW={any:[/^b/i,/^(a|c)/i]},FW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VW={any:[/1/i,/2/i,/3/i,/4/i]},UW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$W={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},WW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qW={ordinalNumber:DW({matchPattern:OW,parsePattern:jW,valueCallback:t=>parseInt(t,10)}),era:vu({matchPatterns:MW,defaultMatchWidth:"wide",parsePatterns:LW,defaultParseWidth:"any"}),quarter:vu({matchPatterns:FW,defaultMatchWidth:"wide",parsePatterns:VW,defaultParseWidth:"any",valueCallback:t=>t+1}),month:vu({matchPatterns:UW,defaultMatchWidth:"wide",parsePatterns:$W,defaultParseWidth:"any"}),day:vu({matchPatterns:BW,defaultMatchWidth:"wide",parsePatterns:zW,defaultParseWidth:"any"}),dayPeriod:vu({matchPatterns:WW,defaultMatchWidth:"any",parsePatterns:HW,defaultParseWidth:"any"})},SD={code:"en-US",formatDistance:gW,formatLong:wW,formatRelative:bW,localize:AW,match:qW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function KW(t){const e=Ve(t);return Lr(e,ED(e))+1}function CD(t){const e=Ve(t),n=+Pa(e)-+cW(e);return Math.round(n/$x)+1}function kD(t,e){var d,f,p,g;const n=Ve(t),r=n.getFullYear(),s=Sh(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=ir(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=ws(o,e),l=ir(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=ws(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function GW(t,e){var a,l,c,d;const n=Sh(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=kD(t,e),i=ir(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ws(i,e)}function ID(t,e){const n=Ve(t),r=+ws(n,e)-+GW(n,e);return Math.round(r/$x)+1}function Je(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ei={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Je(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Je(n+1,2)},d(t,e){return Je(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Je(t.getHours()%12||12,e.length)},H(t,e){return Je(t.getHours(),e.length)},m(t,e){return Je(t.getMinutes(),e.length)},s(t,e){return Je(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Je(s,e.length)}},Ya={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},B1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ei.y(t,e)},Y:function(t,e,n,r){const s=kD(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Je(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Je(i,e.length)},R:function(t,e){const n=bD(t);return Je(n,e.length)},u:function(t,e){const n=t.getFullYear();return Je(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Je(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Je(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ei.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Je(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=ID(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Je(s,e.length)},I:function(t,e,n){const r=CD(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Je(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ei.d(t,e)},D:function(t,e,n){const r=KW(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Je(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Je(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Je(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Je(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Ya.noon:r===0?s=Ya.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Ya.evening:r>=12?s=Ya.afternoon:r>=4?s=Ya.morning:s=Ya.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ei.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ei.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ei.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ei.s(t,e)},S:function(t,e){return Ei.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return W1(r);case"XXXX":case"XX":return Ko(r);case"XXXXX":case"XXX":default:return Ko(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return W1(r);case"xxxx":case"xx":return Ko(r);case"xxxxx":case"xxx":default:return Ko(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+z1(r,":");case"OOOO":default:return"GMT"+Ko(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+z1(r,":");case"zzzz":default:return"GMT"+Ko(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Je(r,e.length)},T:function(t,e,n){const r=t.getTime();return Je(r,e.length)}};function z1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Je(i,2)}function W1(t,e){return t%60===0?(t>0?"-":"+")+Je(Math.abs(t)/60,2):Ko(t,e)}function Ko(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Je(Math.trunc(r/60),2),i=Je(r%60,2);return n+s+e+i}const H1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},PD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},QW=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return H1(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",H1(r,e)).replace("{{time}}",PD(s,e))},YW={p:PD,P:QW},ZW=/^D+$/,JW=/^Y+$/,XW=["D","DD","YY","YYYY"];function e7(t){return ZW.test(t)}function t7(t){return JW.test(t)}function n7(t,e,n){const r=r7(t,e,n);if(console.warn(r),XW.includes(t))throw new RangeError(r)}function r7(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o7=/^'([^]*?)'?$/,a7=/''/g,l7=/[a-zA-Z]/;function Hn(t,e,n){var d,f,p,g,y,w,E,b;const r=Sh(),s=(n==null?void 0:n.locale)??r.locale??SD,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((w=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((b=(E=r.locale)==null?void 0:E.options)==null?void 0:b.weekStartsOn)??0,a=Ve(t);if(!fW(a))throw new RangeError("Invalid time value");let l=e.match(i7).map(x=>{const T=x[0];if(T==="p"||T==="P"){const k=YW[T];return k(x,s.formatLong)}return x}).join("").match(s7).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const T=x[0];if(T==="'")return{isToken:!1,value:c7(x)};if(B1[T])return{isToken:!0,value:x};if(T.match(l7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(x=>{if(!x.isToken)return x.value;const T=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&t7(T)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&e7(T))&&n7(T,e,String(t));const k=B1[T[0]];return k(a,T,s.localize,c)}).join("")}function c7(t){const e=t.match(o7);return e?e[1].replace(a7,"'"):t}function u7(t){const e=Ve(t),n=e.getFullYear(),r=e.getMonth(),s=ir(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function d7(t){return Math.trunc(+Ve(t)/1e3)}function h7(t){const e=Ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function f7(t,e){return pW(h7(t),Wn(t),e)+1}function dw(t,e){const n=Ve(t),r=Ve(e);return n.getTime()>r.getTime()}function um(t,e){const n=Ve(t),r=Ve(e);return+n<+r}function Hx(t,e){const n=Ve(t),r=Ve(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function p7(t,e){const n=Ve(t),r=Ve(e);return n.getFullYear()===r.getFullYear()}function Zv(t,e){return xn(t,-e)}function Jv(t,e){const n=Ve(t),r=n.getFullYear(),s=n.getDate(),i=ir(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=u7(i);return n.setMonth(e,Math.min(s,o)),n}function q1(t,e){const n=Ve(t);return isNaN(+n)?ir(t,NaN):(n.setFullYear(e),n)}const hw=Xm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ge=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ti:"button";return h.jsx(o,{className:ce(hw({variant:e,size:n,className:t})),ref:i,...s})});Ge.displayName="Button";var m7=_k.useId||(()=>{}),g7=0;function ua(t){const[e,n]=v.useState(m7());return po(()=>{n(r=>r??String(g7++))},[t]),e?`radix-${e}`:""}var Xv="focusScope.autoFocusOnMount",ey="focusScope.autoFocusOnUnmount",K1={bubbles:!1,cancelable:!0},v7="FocusScope",Eg=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=Tn(s),d=Tn(i),f=v.useRef(null),p=kt(e,w=>l(w)),g=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let w=function(T){if(g.paused||!a)return;const k=T.target;a.contains(k)?f.current=k:Si(f.current,{select:!0})},E=function(T){if(g.paused||!a)return;const k=T.relatedTarget;k!==null&&(a.contains(k)||Si(f.current,{select:!0}))},b=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&Si(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",E);const x=new MutationObserver(b);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",E),x.disconnect()}}},[r,a,g.paused]),v.useEffect(()=>{if(a){Q1.add(g);const w=document.activeElement;if(!a.contains(w)){const b=new CustomEvent(Xv,K1);a.addEventListener(Xv,c),a.dispatchEvent(b),b.defaultPrevented||(y7(E7(AD(a)),{select:!0}),document.activeElement===w&&Si(a))}return()=>{a.removeEventListener(Xv,c),setTimeout(()=>{const b=new CustomEvent(ey,K1);a.addEventListener(ey,d),a.dispatchEvent(b),b.defaultPrevented||Si(w??document.body,{select:!0}),a.removeEventListener(ey,d),Q1.remove(g)},0)}}},[a,c,d,g]);const y=v.useCallback(w=>{if(!n&&!r||g.paused)return;const E=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(E&&b){const x=w.currentTarget,[T,k]=_7(x);T&&k?!w.shiftKey&&b===k?(w.preventDefault(),n&&Si(T,{select:!0})):w.shiftKey&&b===T&&(w.preventDefault(),n&&Si(k,{select:!0})):b===x&&w.preventDefault()}},[n,r,g.paused]);return h.jsx(He.div,{tabIndex:-1,...o,ref:p,onKeyDown:y})});Eg.displayName=v7;function y7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Si(r,{select:e}),document.activeElement!==n)return}function _7(t){const e=AD(t),n=G1(e,t),r=G1(e.reverse(),t);return[n,r]}function AD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function G1(t,e){for(const n of t)if(!w7(n,{upTo:e}))return n}function w7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function x7(t){return t instanceof HTMLInputElement&&"select"in t}function Si(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&x7(t)&&e&&t.select()}}var Q1=b7();function b7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Y1(t,e),t.unshift(e)},remove(e){var n;t=Y1(t,e),(n=t[0])==null||n.resume()}}}function Y1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function E7(t){return t.filter(e=>e.tagName!=="A")}var ty=0;function qx(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Z1()),document.body.insertAdjacentElement("beforeend",t[1]??Z1()),ty++,()=>{ty===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ty--}},[])}function Z1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dp="right-scroll-bar-position",hp="width-before-scroll-bar",T7="with-scroll-bars-hidden",S7="--removed-body-scroll-bar-size";function ny(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function C7(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var k7=typeof window<"u"?v.useLayoutEffect:v.useEffect,J1=new WeakMap;function I7(t,e){var n=C7(null,function(r){return t.forEach(function(s){return ny(s,r)})});return k7(function(){var r=J1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ny(a,null)}),i.forEach(function(a){s.has(a)||ny(a,o)})}J1.set(n,t)},[t]),n}function P7(t){return t}function A7(t,e){e===void 0&&(e=P7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function R7(t){t===void 0&&(t={});var e=A7(null);return e.options=os({async:!0,ssr:!1},t),e}var RD=function(t){var e=t.sideCar,n=fh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,os({},n))};RD.isSideCarExport=!0;function N7(t,e){return t.useMedium(e),RD}var ND=R7(),ry=function(){},Tg=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:ry,onWheelCapture:ry,onTouchMoveCapture:ry}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,y=t.inert,w=t.allowPinchZoom,E=t.as,b=E===void 0?"div":E,x=t.gapMode,T=fh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,D=I7([n,e]),L=os(os({},T),s);return v.createElement(v.Fragment,null,d&&v.createElement(k,{sideCar:ND,removeScrollBar:c,shards:f,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:x}),o?v.cloneElement(v.Children.only(a),os(os({},L),{ref:D})):v.createElement(b,os({},L,{className:l,ref:D}),a))});Tg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tg.classNames={fullWidth:hp,zeroRight:dp};var D7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function O7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=D7();return e&&t.setAttribute("nonce",e),t}function j7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function M7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var L7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=O7())&&(j7(e,n),M7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},F7=function(){var t=L7();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},DD=function(){var t=F7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},V7={left:0,top:0,right:0,gap:0},sy=function(t){return parseInt(t||"",10)||0},U7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[sy(n),sy(r),sy(s)]},$7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return V7;var e=U7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},B7=DD(),Ml="data-scroll-locked",z7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(T7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ml,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(hp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(dp," .").concat(dp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hp," .").concat(hp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ml,`] {
    `).concat(S7,": ").concat(a,`px;
  }
`)},X1=function(){var t=parseInt(document.body.getAttribute(Ml)||"0",10);return isFinite(t)?t:0},W7=function(){v.useEffect(function(){return document.body.setAttribute(Ml,(X1()+1).toString()),function(){var t=X1()-1;t<=0?document.body.removeAttribute(Ml):document.body.setAttribute(Ml,t.toString())}},[])},H7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;W7();var i=v.useMemo(function(){return $7(s)},[s]);return v.createElement(B7,{styles:z7(i,!e,s,n?"":"!important")})},fw=!1;if(typeof window<"u")try{var Pf=Object.defineProperty({},"passive",{get:function(){return fw=!0,!0}});window.addEventListener("test",Pf,Pf),window.removeEventListener("test",Pf,Pf)}catch{fw=!1}var Za=fw?{passive:!1}:!1,q7=function(t){return t.tagName==="TEXTAREA"},OD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!q7(t)&&n[e]==="visible")},K7=function(t){return OD(t,"overflowY")},G7=function(t){return OD(t,"overflowX")},eC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=jD(t,r);if(s){var i=MD(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Q7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Y7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},jD=function(t,e){return t==="v"?K7(e):G7(e)},MD=function(t,e){return t==="v"?Q7(e):Y7(e)},Z7=function(t,e){return t==="h"&&e==="rtl"?-1:1},J7=function(t,e,n,r,s){var i=Z7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{var g=MD(t,a),y=g[0],w=g[1],E=g[2],b=w-E-i*y;(y||b)&&jD(t,a)&&(f+=b,p+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},Af=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tC=function(t){return[t.deltaX,t.deltaY]},nC=function(t){return t&&"current"in t?t.current:t},X7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},eH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tH=0,Ja=[];function nH(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(tH++)[0],i=v.useState(DD)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=J$([t.lockRef.current],(t.shards||[]).map(nC),!0).filter(Boolean);return w.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(w,E){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var b=Af(w),x=n.current,T="deltaX"in w?w.deltaX:x[0]-b[0],k="deltaY"in w?w.deltaY:x[1]-b[1],D,L=w.target,C=Math.abs(T)>Math.abs(k)?"h":"v";if("touches"in w&&C==="h"&&L.type==="range")return!1;var S=eC(C,L);if(!S)return!0;if(S?D=C:(D=C==="v"?"h":"v",S=eC(C,L)),!S)return!1;if(!r.current&&"changedTouches"in w&&(T||k)&&(r.current=D),!D)return!0;var I=r.current||D;return J7(I,E,w,I==="h"?T:k,!0)},[]),l=v.useCallback(function(w){var E=w;if(!(!Ja.length||Ja[Ja.length-1]!==i)){var b="deltaY"in E?tC(E):Af(E),x=e.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&X7(D.delta,b)})[0];if(x&&x.should){E.cancelable&&E.preventDefault();return}if(!x){var T=(o.current.shards||[]).map(nC).filter(Boolean).filter(function(D){return D.contains(E.target)}),k=T.length>0?a(E,T[0]):!o.current.noIsolation;k&&E.cancelable&&E.preventDefault()}}},[]),c=v.useCallback(function(w,E,b,x){var T={name:w,delta:E,target:b,should:x,shadowParent:rH(b)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(k){return k!==T})},1)},[]),d=v.useCallback(function(w){n.current=Af(w),r.current=void 0},[]),f=v.useCallback(function(w){c(w.type,tC(w),w.target,a(w,t.lockRef.current))},[]),p=v.useCallback(function(w){c(w.type,Af(w),w.target,a(w,t.lockRef.current))},[]);v.useEffect(function(){return Ja.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Za),document.addEventListener("touchmove",l,Za),document.addEventListener("touchstart",d,Za),function(){Ja=Ja.filter(function(w){return w!==i}),document.removeEventListener("wheel",l,Za),document.removeEventListener("touchmove",l,Za),document.removeEventListener("touchstart",d,Za)}},[]);var g=t.removeScrollBar,y=t.inert;return v.createElement(v.Fragment,null,y?v.createElement(i,{styles:eH(s)}):null,g?v.createElement(H7,{gapMode:t.gapMode}):null)}function rH(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const sH=N7(ND,nH);var Sg=v.forwardRef(function(t,e){return v.createElement(Tg,os({},t,{ref:e,sideCar:sH}))});Sg.classNames=Tg.classNames;var iH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xa=new WeakMap,Rf=new WeakMap,Nf={},iy=0,LD=function(t){return t&&(t.host||LD(t.parentNode))},oH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=LD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},aH=function(t,e,n,r){var s=oH(e,Array.isArray(t)?t:[t]);Nf[n]||(Nf[n]=new WeakMap);var i=Nf[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),y=g!==null&&g!=="false",w=(Xa.get(p)||0)+1,E=(i.get(p)||0)+1;Xa.set(p,w),i.set(p,E),o.push(p),w===1&&y&&Rf.set(p,!0),E===1&&p.setAttribute(n,"true"),y||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return d(e),a.clear(),iy++,function(){o.forEach(function(f){var p=Xa.get(f)-1,g=i.get(f)-1;Xa.set(f,p),i.set(f,g),p||(Rf.has(f)||f.removeAttribute(r),Rf.delete(f)),g||f.removeAttribute(n)}),iy--,iy||(Xa=new WeakMap,Xa=new WeakMap,Rf=new WeakMap,Nf={})}},Kx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=iH(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),aH(r,s,n,"aria-hidden")):function(){return null}},Gx="Dialog",[FD,Pee]=Ac(Gx),[lH,Qr]=FD(Gx),VD=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=v.useRef(null),l=v.useRef(null),[c=!1,d]=Rc({prop:r,defaultProp:s,onChange:i});return h.jsx(lH,{scope:e,triggerRef:a,contentRef:l,contentId:ua(),titleId:ua(),descriptionId:ua(),open:c,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};VD.displayName=Gx;var UD="DialogTrigger",cH=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qr(UD,n),i=kt(e,s.triggerRef);return h.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Zx(s.open),...r,ref:i,onClick:pe(t.onClick,s.onOpenToggle)})});cH.displayName=UD;var Qx="DialogPortal",[uH,$D]=FD(Qx,{forceMount:void 0}),BD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Qr(Qx,e);return h.jsx(uH,{scope:e,forceMount:n,children:v.Children.map(r,o=>h.jsx(Gr,{present:n||i.open,children:h.jsx(uh,{asChild:!0,container:s,children:o})}))})};BD.displayName=Qx;var dm="DialogOverlay",zD=v.forwardRef((t,e)=>{const n=$D(dm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Qr(dm,t.__scopeDialog);return i.modal?h.jsx(Gr,{present:r||i.open,children:h.jsx(dH,{...s,ref:e})}):null});zD.displayName=dm;var dH=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qr(dm,n);return h.jsx(Sg,{as:ti,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(He.div,{"data-state":Zx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Aa="DialogContent",WD=v.forwardRef((t,e)=>{const n=$D(Aa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Qr(Aa,t.__scopeDialog);return h.jsx(Gr,{present:r||i.open,children:i.modal?h.jsx(hH,{...s,ref:e}):h.jsx(fH,{...s,ref:e})})});WD.displayName=Aa;var hH=v.forwardRef((t,e)=>{const n=Qr(Aa,t.__scopeDialog),r=v.useRef(null),s=kt(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return Kx(i)},[]),h.jsx(HD,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault())})}),fH=v.forwardRef((t,e)=>{const n=Qr(Aa,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return h.jsx(HD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),HD=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Qr(Aa,n),l=v.useRef(null),c=kt(e,l);return qx(),h.jsxs(h.Fragment,{children:[h.jsx(Eg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(ch,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Zx(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(pH,{titleId:a.titleId}),h.jsx(gH,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Yx="DialogTitle",qD=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qr(Yx,n);return h.jsx(He.h2,{id:s.titleId,...r,ref:e})});qD.displayName=Yx;var KD="DialogDescription",GD=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qr(KD,n);return h.jsx(He.p,{id:s.descriptionId,...r,ref:e})});GD.displayName=KD;var QD="DialogClose",YD=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qr(QD,n);return h.jsx(He.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>s.onOpenChange(!1))})});YD.displayName=QD;function Zx(t){return t?"open":"closed"}var ZD="DialogTitleWarning",[Aee,JD]=AV(ZD,{contentName:Aa,titleName:Yx,docsSlug:"dialog"}),pH=({titleId:t})=>{const e=JD(ZD),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mH="DialogDescriptionWarning",gH=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JD(mH).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},vH=VD,yH=BD,XD=zD,eO=WD,tO=qD,nO=GD,_H=YD;const rO=vH,wH=yH,sO=v.forwardRef(({className:t,...e},n)=>h.jsx(XD,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));sO.displayName=XD.displayName;const Jx=v.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(wH,{children:[h.jsx(sO,{}),h.jsxs(eO,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(_H,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(bA,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jx.displayName=eO.displayName;const Xx=({className:t,...e})=>h.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Xx.displayName="DialogHeader";const eb=({className:t,...e})=>h.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});eb.displayName="DialogFooter";const tb=v.forwardRef(({className:t,...e},n)=>h.jsx(tO,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",t),...e}));tb.displayName=tO.displayName;const nb=v.forwardRef(({className:t,...e},n)=>h.jsx(nO,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));nb.displayName=nO.displayName;const xH="modulepreload",bH=function(t){return"/"+t},rC={},vc=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=bH(l),l in rC)return;rC[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":xH,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},EH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vc(async()=>{const{default:r}=await Promise.resolve().then(()=>$c);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class rb extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class TH extends rb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class SH extends rb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class CH extends rb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(pw||(pw={}));var kH=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class IH{constructor(e,{headers:n={},customFetch:r,region:s=pw.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=EH(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return kH(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(y=>{throw new TH(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new SH(d);if(!d.ok)throw new CH(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield d.json():p==="application/octet-stream"?g=yield d.blob():p==="text/event-stream"?g=d:p==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Mn={},sb={},Cg={},Ch={},kg={},Ig={},PH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yc=PH();const AH=yc.fetch,iO=yc.fetch.bind(yc),oO=yc.Headers,RH=yc.Request,NH=yc.Response,$c=Object.freeze(Object.defineProperty({__proto__:null,Headers:oO,Request:RH,Response:NH,default:iO,fetch:AH},Symbol.toStringTag,{value:"Module"})),DH=LM($c);var Pg={};Object.defineProperty(Pg,"__esModule",{value:!0});let OH=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Pg.default=OH;var aO=xr&&xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ig,"__esModule",{value:!0});const jH=aO(DH),MH=aO(Pg);let LH=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=jH.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,f=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),E=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&E&&E.length>1&&(f=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,p=200,g="OK")}catch{i.status===404&&w===""?(p=204,g="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,g="OK"),c&&this.shouldThrowOnError)throw new MH.default(c)}return{error:c,data:d,count:f,status:p,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Ig.default=LH;var FH=xr&&xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kg,"__esModule",{value:!0});const VH=FH(Ig);let UH=class extends VH.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};kg.default=UH;var $H=xr&&xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ch,"__esModule",{value:!0});const BH=$H(kg);let zH=class extends BH.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Ch.default=zH;var WH=xr&&xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cg,"__esModule",{value:!0});const yu=WH(Ch);let HH=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new yu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new yu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new yu.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new yu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new yu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Cg.default=HH;var Ag={},Rg={};Object.defineProperty(Rg,"__esModule",{value:!0});Rg.version=void 0;Rg.version="0.0.0-automated";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.DEFAULT_HEADERS=void 0;const qH=Rg;Ag.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${qH.version}`};var lO=xr&&xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sb,"__esModule",{value:!0});const KH=lO(Cg),GH=lO(Ch),QH=Ag;let YH=class cO{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},QH.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new KH.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new cO(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new GH.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};sb.default=YH;var Bc=xr&&xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.PostgrestError=Mn.PostgrestBuilder=Mn.PostgrestTransformBuilder=Mn.PostgrestFilterBuilder=Mn.PostgrestQueryBuilder=Mn.PostgrestClient=void 0;const uO=Bc(sb);Mn.PostgrestClient=uO.default;const dO=Bc(Cg);Mn.PostgrestQueryBuilder=dO.default;const hO=Bc(Ch);Mn.PostgrestFilterBuilder=hO.default;const fO=Bc(kg);Mn.PostgrestTransformBuilder=fO.default;const pO=Bc(Ig);Mn.PostgrestBuilder=pO.default;const mO=Bc(Pg);Mn.PostgrestError=mO.default;var ZH=Mn.default={PostgrestClient:uO.default,PostgrestQueryBuilder:dO.default,PostgrestFilterBuilder:hO.default,PostgrestTransformBuilder:fO.default,PostgrestBuilder:pO.default,PostgrestError:mO.default};const{PostgrestClient:JH,PostgrestQueryBuilder:Mee,PostgrestFilterBuilder:Lee,PostgrestTransformBuilder:Fee,PostgrestBuilder:Vee,PostgrestError:Uee}=ZH,XH="2.11.2",eq={"X-Client-Info":`realtime-js/${XH}`},tq="1.0.0",gO=1e4,nq=1e3;var Ll;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ll||(Ll={}));var Gn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Gn||(Gn={}));var Dr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Dr||(Dr={}));var mw;(function(t){t.websocket="websocket"})(mw||(mw={}));var Qo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qo||(Qo={}));class rq{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class vO{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(nt||(nt={}));const sC=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=sq(o,t,e,s),i),{})},sq=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?yO(i,o):gw(o)},yO=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return lq(e,n)}switch(t){case nt.bool:return iq(e);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return oq(e);case nt.json:case nt.jsonb:return aq(e);case nt.timestamp:return cq(e);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return gw(e);default:return gw(e)}},gw=t=>t,iq=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},oq=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},aq=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},lq=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>yO(e,a))}return t},cq=t=>typeof t=="string"?t.replace(" ","T"):t,_O=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class oy{constructor(e,n,r={},s=gO){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var iC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(iC||(iC={}));class Xu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xu.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Xu.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xu.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const p=d.map(E=>E.presence_ref),g=f.map(E=>E.presence_ref),y=d.filter(E=>g.indexOf(E.presence_ref)<0),w=f.filter(E=>p.indexOf(E.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(g=>g.presence_ref),p=d.filter(g=>f.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(oC||(oC={}));var aC;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(aC||(aC={}));var Os;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Os||(Os={}));class ib{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new oy(this,Dr.join,this.params,this.timeout),this.rejoinTimer=new vO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Xu(this),this.broadcastEndpointURL=_O(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Os.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Os.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(Os.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,y=[];for(let w=0;w<g;w++){const E=p[w],{filter:{event:b,schema:x,table:T,filter:k}}=E,D=d&&d[w];if(D&&D.event===b&&D.schema===x&&D.table===T&&D.filter===k)y.push(Object.assign(Object.assign({},E),{id:D.id}));else{this.unsubscribe(),e==null||e(Os.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Os.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Os.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Os.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Gn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new oy(this,Dr.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new oy(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Dr;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,w,E;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((E=(w=g.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,w,E,b,x,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const k=g.id,D=(y=g.filter)===null||y===void 0?void 0:y.event;return k&&((w=n.ids)===null||w===void 0?void 0:w.includes(k))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const k=(x=(b=g==null?void 0:g.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return k==="*"||k===((T=n==null?void 0:n.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:E,commit_timestamp:b,type:x,errors:T}=y;p=Object.assign(Object.assign({},{schema:w,table:E,commit_timestamp:b,eventType:x,new:{},old:{},errors:T}),this._getPayloadRecords(y))}g.callback(p,r)})}_isClosed(){return this.state===Gn.closed}_isJoined(){return this.state===Gn.joined}_isJoining(){return this.state===Gn.joining}_isLeaving(){return this.state===Gn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ib.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dr.close,{},e)}_onError(e){this._on(Dr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=sC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=sC(e.columns,e.old_record)),n}}const uq=()=>{},dq=typeof WebSocket<"u",hq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fq{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=eq,this.params={},this.timeout=gO,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=uq,this.conn=null,this.sendBuffer=[],this.serializer=new rq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>vc(async()=>{const{default:l}=await Promise.resolve().then(()=>$c);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${mw.websocket}`,this.httpEndpoint=_O(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vO(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(dq){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new pq(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),vc(async()=>{const{default:e}=await import("./browser-wK9jnf4X.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tq}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ll.connecting:return Qo.Connecting;case Ll.open:return Qo.Open;case Ll.closing:return Qo.Closing;default:return Qo.Closed}}isConnected(){return this.connectionState()===Qo.Open}channel(e,n={config:{}}){const r=new ib(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Dr.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(nq,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Dr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([hq],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class pq{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ll.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ob extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Bt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class mq extends ob{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vw extends ob{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var gq=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const wO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vc(async()=>{const{default:r}=await Promise.resolve().then(()=>$c);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},vq=()=>gq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vc(()=>Promise.resolve().then(()=>$c),void 0)).Response:Response}),yw=t=>{if(Array.isArray(t))return t.map(n=>yw(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=yw(r)}),e};var Va=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ay=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yq=(t,e,n)=>Va(void 0,void 0,void 0,function*(){const r=yield vq();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new mq(ay(s),t.status||500))}).catch(s=>{e(new vw(ay(s),s))}):e(new vw(ay(t),t))}),_q=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function kh(t,e,n,r,s,i){return Va(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,_q(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>yq(l,a,r))})})}function hm(t,e,n,r){return Va(this,void 0,void 0,function*(){return kh(t,"GET",e,n,r)})}function Ai(t,e,n,r,s){return Va(this,void 0,void 0,function*(){return kh(t,"POST",e,r,s,n)})}function wq(t,e,n,r,s){return Va(this,void 0,void 0,function*(){return kh(t,"PUT",e,r,s,n)})}function xq(t,e,n,r){return Va(this,void 0,void 0,function*(){return kh(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function xO(t,e,n,r,s){return Va(this,void 0,void 0,function*(){return kh(t,"DELETE",e,r,s,n)})}var Pn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const bq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Eq{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=wO(s)}uploadOrUpdate(e,n,r,s){return Pn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},lC),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(Bt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Pn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:lC.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),p=yield f.json();return f.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(Bt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Pn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ai(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ob("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Pn(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Bt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Pn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ai(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Bt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Pn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ai(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Bt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Pn(this,void 0,void 0,function*(){try{const s=yield Ai(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Bt(s))return{data:null,error:s};throw s}})}download(e,n){return Pn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield hm(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Bt(a))return{data:null,error:a};throw a}})}info(e){return Pn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield hm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:yw(r),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}exists(e){return Pn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield xq(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Bt(r)&&r instanceof vw){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Pn(this,void 0,void 0,function*(){try{return{data:yield xO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Pn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},bq),n),{prefix:e||""});return{data:yield Ai(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Bt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Tq="2.7.1",Sq={"X-Client-Info":`storage-js/${Tq}`};var el=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Cq{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Sq),n),this.fetch=wO(r)}listBuckets(){return el(this,void 0,void 0,function*(){try{return{data:yield hm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Bt(e))return{data:null,error:e};throw e}})}getBucket(e){return el(this,void 0,void 0,function*(){try{return{data:yield hm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return el(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return el(this,void 0,void 0,function*(){try{return{data:yield wq(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return el(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return el(this,void 0,void 0,function*(){try{return{data:yield xO(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}})}}class kq extends Cq{constructor(e,n={},r){super(e,n,r)}from(e){return new Eq(this.url,this.headers,e,this.fetch)}}const Iq="2.49.4";let Nu="";typeof Deno<"u"?Nu="deno":typeof document<"u"?Nu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nu="react-native":Nu="node";const Pq={"X-Client-Info":`supabase-js-${Nu}/${Iq}`},Aq={headers:Pq},Rq={schema:"public"},Nq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dq={};var Oq=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const jq=t=>{let e;return t?e=t:typeof fetch>"u"?e=iO:e=fetch,(...n)=>e(...n)},Mq=()=>typeof Headers>"u"?oO:Headers,Lq=(t,e,n)=>{const r=jq(n),s=Mq();return(i,o)=>Oq(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Fq=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function Vq(t){return t.replace(/\/$/,"")}function Uq(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>Fq(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const bO="2.69.1",ll=30*1e3,_w=3,ly=_w*ll,$q="http://localhost:9999",Bq="supabase.auth.token",zq={"X-Client-Info":`gotrue-js/${bO}`},ww="X-Supabase-Api-Version",EO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hq=6e5;class ab extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class qq extends ab{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Kq(t){return Pe(t)&&t.name==="AuthApiError"}class TO extends ab{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class jo extends ab{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Ci extends jo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gq(t){return Pe(t)&&t.name==="AuthSessionMissingError"}class cy extends jo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Df extends jo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Of extends jo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qq(t){return Pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class cC extends jo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xw extends jo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function uy(t){return Pe(t)&&t.name==="AuthRetryableFetchError"}class uC extends jo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ed extends jo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const dC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hC=` 	
\r=`.split(""),Yq=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<hC.length;e+=1)t[hC[e].charCodeAt(0)]=-2;for(let e=0;e<dC.length;e+=1)t[dC[e].charCodeAt(0)]=e;return t})();function SO(t,e,n){const r=Yq[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function fC(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Xq(o,r,n)};for(let o=0;o<t.length;o+=1)SO(t.charCodeAt(o),s,i);return e.join("")}function Zq(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Jq(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Zq(r,e)}}function Xq(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function eK(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)SO(t.charCodeAt(s),n,r);return new Uint8Array(e)}function tK(t){const e=[];return Jq(t,n=>e.push(n)),new Uint8Array(e)}function nK(t){return Math.round(Date.now()/1e3)+t}function rK(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Jr=()=>typeof window<"u"&&typeof document<"u",zo={tested:!1,writable:!1},td=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zo.tested)return zo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zo.tested=!0,zo.writable=!0}catch{zo.tested=!0,zo.writable=!1}return zo.writable};function sK(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const CO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vc(async()=>{const{default:r}=await Promise.resolve().then(()=>$c);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},iK=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",kO=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},jf=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Mf=async(t,e)=>{await t.removeItem(e)};class Ng{constructor(){this.promise=new Ng.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ng.promiseConstructor=Promise;function dy(t){const e=t.split(".");if(e.length!==3)throw new ed("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Wq.test(e[r]))throw new ed("JWT not in base64url format");return{header:JSON.parse(fC(e[0])),payload:JSON.parse(fC(e[1])),signature:eK(e[2]),raw:{header:e[0],payload:e[1]}}}async function oK(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function aK(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function lK(t){return("0"+t.toString(16)).substr(-2)}function cK(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,lK).join("")}async function uK(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function dK(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await uK(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tl(t,e,n=!1){const r=cK();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await kO(t,`${e}-code-verifier`,s);const i=await dK(r);return[i,r===i?"plain":"s256"]}const hK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fK(t){const e=t.headers.get(ww);if(!e||!e.match(hK))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function pK(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function mK(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var gK=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Go=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vK=[502,503,504];async function pC(t){var e;if(!iK(t))throw new xw(Go(t),0);if(vK.includes(t.status))throw new xw(Go(t),t.status);let n;try{n=await t.json()}catch(i){throw new TO(Go(i),i)}let r;const s=fK(t);if(s&&s.getTime()>=EO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new uC(Go(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ci}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new uC(Go(n),t.status,n.weak_password.reasons);throw new qq(Go(n),t.status||500,r)}const yK=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Oe(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ww]||(i[ww]=EO["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await _K(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function _K(t,e,n,r,s,i){const o=yK(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new xw(Go(l),0)}if(a.ok||await pC(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await pC(l)}}function ki(t){var e;let n=null;EK(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=nK(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function mC(t){const e=ki(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Mi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wK(t){return{data:t,error:null}}function xK(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=gK(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function bK(t){return t}function EK(t){return t.access_token&&t.refresh_token&&t.expires_in}var TK=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class SK{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=CO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Mi})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=TK(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xK,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Mi})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:bK});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(y.split(";")[1].split("=")[1]);c[`${E}Page`]=w}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Pe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Mi})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Mi})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Mi})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}}const CK={getItem:t=>td()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{td()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{td()&&globalThis.localStorage.removeItem(t)}};function gC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function kK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const nl={debug:!!(globalThis&&td()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class IO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class IK extends IO{}async function PK(t,e,n){nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),nl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new IK(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(nl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}kK();const AK={url:$q,storageKey:Bq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vC(t,e,n){return await n()}class Nd{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nd.nextInstanceID,Nd.nextInstanceID+=1,this.instanceID>0&&Jr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},AK),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new SK({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=CO(s.fetch),this.lock=s.lock||vC,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Jr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=PK:this.lock=vC,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:td()?this.storage=CK:(this.memoryStorage={},this.storage=gC(this.memoryStorage)):(this.memoryStorage={},this.storage=gC(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bO}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=sK(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Jr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Qq(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Pe(n)?{error:n}:{error:new TO("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ki}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:f,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await tl(this.storage,this.storageKey)),i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},xform:ki})}else if("phone"in e){const{phone:d,password:f,options:p}=e;i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ki})}else throw new Df("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mC})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mC})}else throw new Df("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new cy}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await jf(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ki});if(await Mf(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cy}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Pe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ki}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new cy}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await tl(this.storage,this.storageKey));const{error:f}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Df("You must provide either an email or phone number.")}catch(a){if(Pe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ki});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Pe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await tl(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:wK})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ci;const{error:s}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Df("You must provide either an email or phone number and a type")}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await jf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ly:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Mi}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ci}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Mi})})}catch(n){if(Pe(n))return Gq(n)&&(await this._removeSession(),await Mf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ci;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await tl(this.storage,this.storageKey));const{data:c,error:d}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Mi});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ci;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=dy(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ci;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Jr())throw new Of("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Of(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Of("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new cC("No code detected.");const{data:x,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Of("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;l&&(p=parseInt(l));const g=p-d;g*1e3<=ll&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=p-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,d);const{data:w,error:E}=await this._getUser(i);if(E)throw E;const b={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(r){if(Pe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await jf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Kq(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Mf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=rK(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await tl(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Jr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Pe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await aK(async s=>(s>0&&await oK(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ki})),(s,i)=>{const o=200*Math.pow(2,s);return i&&uy(i)&&Date.now()+o-r<ll})}catch(r){if(this._debug(n,"error",r),Pe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Jr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await jf(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ly;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ly}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),uy(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ci;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ng;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ci;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Pe(i)){const o={session:null,error:i};return uy(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await kO(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Mf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ll);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/ll);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ll}ms, refresh threshold is ${_w} ticks`),s<=_w&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof IO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await tl(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=dy(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Hq>Date.now()))return r;const{data:s,error:i}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ed("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new ed("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};r=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=dy(r);if(pK(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const c=mK(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,tK(`${a}.${l}`)))throw new ed("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}Nd.nextInstanceID=0;const RK=Nd;class NK extends RK{constructor(e){super(e)}}var DK=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class OK{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Vq(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Rq,realtime:Dq,auth:Object.assign(Object.assign({},Nq),{storageKey:l}),global:Aq},d=Uq(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Lq(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new JH(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new IH(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kq(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return DK(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new NK({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new fq(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yC=(t,e,n)=>new OK(t,e,n),_C="",wC="";let fp;try{if(!_C||!wC)throw console.warn("Supabase URL or Anon Key not provided. This is required for proper functionality."),new Error("Missing Supabase configuration");fp=yC(_C,wC,{auth:{persistSession:!0,autoRefreshToken:!0}}),fp.auth.onAuthStateChange((t,e)=>{console.log("Supabase auth state changed:",t)}),console.log("Supabase client initialized successfully")}catch(t){console.error("Failed to initialize Supabase client:",t),fp=yC("https://placeholder.supabase.co","placeholder",{auth:{persistSession:!1}})}async function jK(t,e,n,r,s){try{return console.log(`Sending reminder to ${n} for AC unit ${r} with service date ${s.toDateString()}`),{success:!0}}catch(i){throw console.error("Failed to send service reminder:",i),i}}function PO({acUnit:t,userId:e,userEmail:n,onEdit:r}){const[s,i]=v.useState(!1),{toast:o}=Pc(),a=Ic(),l=t.lastServiceDate?Hn(new Date(t.lastServiceDate),"MMM dd, yyyy"):"Not Available",c=Hn(new Date(t.nextServiceDate),"MMM dd, yyyy"),d=new Date,f=new Date(t.nextServiceDate),p=up(f,d),g=p<0,y=p>=0&&p<=7,w=Hs({mutationFn:async()=>{const{error:T}=await fp.from("ac_units").delete().eq("id",t.id);T&&(console.error("Supabase delete error:",T),await cw("DELETE",`/api/ac-units/${typeof t.id=="string"?parseInt(t.id):t.id}`))},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/ac-units"]}),a.invalidateQueries({queryKey:["/api/dashboard/stats"]}),o({title:"AC unit deleted",description:`${t.location} AC unit has been removed.`}),i(!1)},onError:T=>{o({title:"Error deleting AC unit",description:T instanceof Error?T.message:"Something went wrong",variant:"destructive"})}}),E=Hs({mutationFn:async()=>await jK(typeof e=="string"?parseInt(e):e,typeof t.id=="string"?parseInt(t.id.toString()):t.id,n,t.location,new Date(t.nextServiceDate)),onSuccess:()=>{o({title:"Reminder set",description:"You will be notified before the service date."})},onError:T=>{o({title:"Error setting reminder",description:T instanceof Error?T.message:"Something went wrong",variant:"destructive"})}});let b="",x=null;return g?(b="border-t-4 border-red-500",x=h.jsx("div",{className:"bg-red-50 px-5 py-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(j_,{className:"w-5 h-5 text-red-500 mr-2"}),h.jsxs("span",{className:"text-sm font-medium text-red-700",children:["Overdue by ",Math.abs(p)," days"]})]}),h.jsx(Ge,{variant:"outline",size:"sm",className:"text-xs bg-red-100 hover:bg-red-200 text-red-800 border-red-200",onClick:()=>E.mutate(),disabled:E.isPending,children:"Schedule Now"})]})})):y?(b="border-t-4 border-yellow-500",x=h.jsx("div",{className:"bg-yellow-50 px-5 py-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(O_,{className:"w-5 h-5 text-yellow-500 mr-2"}),h.jsxs("span",{className:"text-sm font-medium text-yellow-700",children:[p," days remaining"]})]}),h.jsx(Ge,{variant:"outline",size:"sm",className:"text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-800 border-yellow-200",onClick:()=>E.mutate(),disabled:E.isPending,children:"Schedule Now"})]})})):x=h.jsx("div",{className:"bg-gray-50 px-5 py-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(O_,{className:"w-5 h-5 text-yellow-500 mr-2"}),h.jsxs("span",{className:"text-sm font-medium",children:[p," days remaining"]})]}),h.jsx(Ge,{variant:"outline",size:"sm",className:"text-xs bg-primary-100 hover:bg-primary-200 text-primary-800 border-primary-200",onClick:()=>E.mutate(),disabled:E.isPending,children:"Set Reminder"})]})}),h.jsxs("div",{className:ce("bg-white rounded-lg shadow overflow-hidden",b),children:[h.jsxs("div",{className:"p-5",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.location}),h.jsxs("p",{className:"text-sm text-gray-500",children:["AC Unit #",t.id]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{className:"text-gray-400 hover:text-primary-600 focus:outline-none",onClick:()=>r(t),children:h.jsx(CU,{className:"w-5 h-5"})}),h.jsx("button",{className:"text-gray-400 hover:text-red-600 focus:outline-none",onClick:()=>i(!0),children:h.jsx(PU,{className:"w-5 h-5"})})]})]}),h.jsxs("div",{className:"mt-4 space-y-2",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Last Service:"}),h.jsx("span",{className:"text-sm text-gray-900",children:l})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Next Service:"}),h.jsx("span",{className:"text-sm text-gray-900",children:c})]}),t.notes&&h.jsxs("div",{className:"mt-2",children:[h.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Notes:"}),h.jsx("p",{className:"text-sm text-gray-700 mt-1",children:t.notes})]})]})]}),x,h.jsx(rO,{open:s,onOpenChange:i,children:h.jsxs(Jx,{children:[h.jsxs(Xx,{children:[h.jsx(tb,{children:"Delete AC Unit"}),h.jsxs(nb,{children:["Are you sure you want to delete the AC unit in ",t.location,"? This action cannot be undone."]})]}),h.jsxs(eb,{children:[h.jsx(Ge,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),h.jsx(Ge,{variant:"destructive",onClick:()=>w.mutate(),disabled:w.isPending,children:w.isPending?"Deleting...":"Delete"})]})]})})]})}var Ih=t=>t.type==="checkbox",ea=t=>t instanceof Date,bn=t=>t==null;const AO=t=>typeof t=="object";var Nt=t=>!bn(t)&&!Array.isArray(t)&&AO(t)&&!ea(t),RO=t=>Nt(t)&&t.target?Ih(t.target)?t.target.checked:t.target.value:t,MK=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,NO=(t,e)=>t.has(MK(e)),LK=t=>{const e=t.constructor&&t.constructor.prototype;return Nt(e)&&e.hasOwnProperty("isPrototypeOf")},lb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function An(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(lb&&(t instanceof Blob||t instanceof FileList))&&(n||Nt(t)))if(e=n?[]:{},!n&&!LK(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=An(t[r]));else return t;return e}var Dg=t=>Array.isArray(t)?t.filter(Boolean):[],Ct=t=>t===void 0,J=(t,e,n)=>{if(!e||!Nt(t))return n;const r=Dg(e.split(/[,[\].]+?/)).reduce((s,i)=>bn(s)?s:s[i],t);return Ct(r)||r===t?Ct(t[e])?n:t[e]:r},fr=t=>typeof t=="boolean",cb=t=>/^\w*$/.test(t),DO=t=>Dg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ke=(t,e,n)=>{let r=-1;const s=cb(e)?[e]:DO(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=Nt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const fm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Mr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ps={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},OO=be.createContext(null),Og=()=>be.useContext(OO),FK=t=>{const{children:e,...n}=t;return be.createElement(OO.Provider,{value:n},e)};var jO=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Mr.all&&(e._proxyFormState[o]=!r||Mr.all),n&&(n[o]=!0),t[o]}});return s},Dn=t=>Nt(t)&&!Object.keys(t).length,MO=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Dn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Mr.all))},nd=t=>Array.isArray(t)?t:[t],LO=(t,e,n)=>!t||!e||t===e||nd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function ub(t){const e=be.useRef(t);e.current=t,be.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function VK(t){const e=Og(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=be.useState(n._formState),l=be.useRef(!0),c=be.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=be.useRef(s);return d.current=s,ub({disabled:r,next:f=>l.current&&LO(d.current,f.name,i)&&MO(f,c.current,n._updateFormState)&&a({...n._formState,...f}),subject:n._subjects.state}),be.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),jO(o,n,c.current,!1)}var as=t=>typeof t=="string",FO=(t,e,n,r,s)=>as(t)?(r&&e.watch.add(t),J(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),J(n,i))):(r&&(e.watchAll=!0),n);function UK(t){const e=Og(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=be.useRef(r);a.current=r,ub({disabled:i,subject:n._subjects.values,next:d=>{LO(a.current,d.name,o)&&c(An(FO(a.current,n._names,d.values||n._formValues,!1,s)))}});const[l,c]=be.useState(n._getWatch(r,s));return be.useEffect(()=>n._removeUnmounted()),l}function $K(t){const e=Og(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=NO(s._names.array,n),a=UK({control:s,name:n,defaultValue:J(s._formValues,n,J(s._defaultValues,n,t.defaultValue)),exact:!0}),l=VK({control:s,name:n,exact:!0}),c=be.useRef(s.register(n,{...t.rules,value:a,...fr(t.disabled)?{disabled:t.disabled}:{}}));return be.useEffect(()=>{const d=s._options.shouldUnregister||i,f=(p,g)=>{const y=J(s._fields,p);y&&y._f&&(y._f.mount=g)};if(f(n,!0),d){const p=An(J(s._options.defaultValues,n));Ke(s._defaultValues,n,p),Ct(J(s._formValues,n))&&Ke(s._formValues,n,p)}return()=>{(o?d&&!s._state.action:d)?s.unregister(n):f(n,!1)}},[n,s,o,i]),be.useEffect(()=>{J(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:J(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...fr(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:be.useCallback(d=>c.current.onChange({target:{value:RO(d),name:n},type:fm.CHANGE}),[n]),onBlur:be.useCallback(()=>c.current.onBlur({target:{value:J(s._formValues,n),name:n},type:fm.BLUR}),[n,s]),ref:be.useCallback(d=>{const f=J(s._fields,n);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:p=>d.setCustomValidity(p),reportValidity:()=>d.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!J(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!J(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!J(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!J(l.validatingFields,n)},error:{enumerable:!0,get:()=>J(l.errors,n)}})}}const BK=t=>t.render($K(t));var VO=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},xC=t=>({isOnSubmit:!t||t===Mr.onSubmit,isOnBlur:t===Mr.onBlur,isOnChange:t===Mr.onChange,isOnAll:t===Mr.all,isOnTouch:t===Mr.onTouched}),bC=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const rd=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=J(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(rd(a,e))break}else if(Nt(a)&&rd(a,e))break}}};var zK=(t,e,n)=>{const r=nd(J(t,n));return Ke(r,"root",e[n]),Ke(t,n,r),t},db=t=>t.type==="file",zs=t=>typeof t=="function",pm=t=>{if(!lb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},pp=t=>as(t),hb=t=>t.type==="radio",mm=t=>t instanceof RegExp;const EC={value:!1,isValid:!1},TC={value:!0,isValid:!0};var UO=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ct(t[0].attributes.value)?Ct(t[0].value)||t[0].value===""?TC:{value:t[0].value,isValid:!0}:TC:EC}return EC};const SC={isValid:!1,value:null};var $O=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,SC):SC;function CC(t,e,n="validate"){if(pp(t)||Array.isArray(t)&&t.every(pp)||fr(t)&&!t)return{type:n,message:pp(t)?t:"",ref:e}}var rl=t=>Nt(t)&&!mm(t)?t:{value:t,message:""},kC=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:d,max:f,pattern:p,validate:g,name:y,valueAsNumber:w,mount:E,disabled:b}=t._f,x=J(e,y);if(!E||b)return{};const T=o?o[0]:i,k=N=>{r&&T.reportValidity&&(T.setCustomValidity(fr(N)?"":N||""),T.reportValidity())},D={},L=hb(i),C=Ih(i),S=L||C,I=(w||db(i))&&Ct(i.value)&&Ct(x)||pm(i)&&i.value===""||x===""||Array.isArray(x)&&!x.length,R=VO.bind(null,y,n,D),O=(N,A,H,le=Ps.maxLength,ae=Ps.minLength)=>{const K=N?A:H;D[y]={type:N?le:ae,message:K,ref:i,...R(N?le:ae,K)}};if(s?!Array.isArray(x)||!x.length:a&&(!S&&(I||bn(x))||fr(x)&&!x||C&&!UO(o).isValid||L&&!$O(o).isValid)){const{value:N,message:A}=pp(a)?{value:!!a,message:a}:rl(a);if(N&&(D[y]={type:Ps.required,message:A,ref:T,...R(Ps.required,A)},!n))return k(A),D}if(!I&&(!bn(d)||!bn(f))){let N,A;const H=rl(f),le=rl(d);if(!bn(x)&&!isNaN(x)){const ae=i.valueAsNumber||x&&+x;bn(H.value)||(N=ae>H.value),bn(le.value)||(A=ae<le.value)}else{const ae=i.valueAsDate||new Date(x),K=X=>new Date(new Date().toDateString()+" "+X),F=i.type=="time",z=i.type=="week";as(H.value)&&x&&(N=F?K(x)>K(H.value):z?x>H.value:ae>new Date(H.value)),as(le.value)&&x&&(A=F?K(x)<K(le.value):z?x<le.value:ae<new Date(le.value))}if((N||A)&&(O(!!N,H.message,le.message,Ps.max,Ps.min),!n))return k(D[y].message),D}if((l||c)&&!I&&(as(x)||s&&Array.isArray(x))){const N=rl(l),A=rl(c),H=!bn(N.value)&&x.length>+N.value,le=!bn(A.value)&&x.length<+A.value;if((H||le)&&(O(H,N.message,A.message),!n))return k(D[y].message),D}if(p&&!I&&as(x)){const{value:N,message:A}=rl(p);if(mm(N)&&!x.match(N)&&(D[y]={type:Ps.pattern,message:A,ref:i,...R(Ps.pattern,A)},!n))return k(A),D}if(g){if(zs(g)){const N=await g(x,e),A=CC(N,T);if(A&&(D[y]={...A,...R(Ps.validate,A.message)},!n))return k(A.message),D}else if(Nt(g)){let N={};for(const A in g){if(!Dn(N)&&!n)break;const H=CC(await g[A](x,e),T,A);H&&(N={...H,...R(A,H.message)},k(H.message),n&&(D[y]=N))}if(!Dn(N)&&(D[y]={ref:T,...N},!n))return D}}return k(!0),D};function WK(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ct(t)?r++:t[e[r++]];return t}function HK(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ct(t[e]))return!1;return!0}function jt(t,e){const n=Array.isArray(e)?e:cb(e)?[e]:DO(e),r=n.length===1?t:WK(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Nt(r)&&Dn(r)||Array.isArray(r)&&HK(r))&&jt(t,n.slice(0,-1)),t}var hy=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},bw=t=>bn(t)||!AO(t);function Li(t,e){if(bw(t)||bw(e))return t===e;if(ea(t)&&ea(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ea(i)&&ea(o)||Nt(i)&&Nt(o)||Array.isArray(i)&&Array.isArray(o)?!Li(i,o):i!==o)return!1}}return!0}var BO=t=>t.type==="select-multiple",qK=t=>hb(t)||Ih(t),fy=t=>pm(t)&&t.isConnected,zO=t=>{for(const e in t)if(zs(t[e]))return!0;return!1};function gm(t,e={}){const n=Array.isArray(t);if(Nt(t)||n)for(const r in t)Array.isArray(t[r])||Nt(t[r])&&!zO(t[r])?(e[r]=Array.isArray(t[r])?[]:{},gm(t[r],e[r])):bn(t[r])||(e[r]=!0);return e}function WO(t,e,n){const r=Array.isArray(t);if(Nt(t)||r)for(const s in t)Array.isArray(t[s])||Nt(t[s])&&!zO(t[s])?Ct(e)||bw(n[s])?n[s]=Array.isArray(t[s])?gm(t[s],[]):{...gm(t[s])}:WO(t[s],bn(e)?{}:e[s],n[s]):n[s]=!Li(t[s],e[s]);return n}var _u=(t,e)=>WO(t,e,gm(e)),HO=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ct(t)?t:e?t===""?NaN:t&&+t:n&&as(t)?new Date(t):r?r(t):t;function py(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return db(e)?e.files:hb(e)?$O(t.refs).value:BO(e)?[...e.selectedOptions].map(({value:n})=>n):Ih(e)?UO(t.refs).value:HO(Ct(e.value)?t.ref.value:e.value,t)}var KK=(t,e,n,r)=>{const s={};for(const i of t){const o=J(e,i);o&&Ke(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},wu=t=>Ct(t)?t:mm(t)?t.source:Nt(t)?mm(t.value)?t.value.source:t.value:t;const IC="AsyncFunction";var GK=t=>(!t||!t.validate)&&!!(zs(t.validate)&&t.validate.constructor.name===IC||Nt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===IC)),QK=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function PC(t,e,n){const r=J(t,n);if(r||cb(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=J(e,i),a=J(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var YK=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,ZK=(t,e)=>!Dg(J(t,e)).length&&jt(t,e);const JK={mode:Mr.onSubmit,reValidateMode:Mr.onChange,shouldFocusError:!0};function XK(t={}){let e={...JK,...t},n={submitCount:0,isDirty:!1,isLoading:zs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Nt(e.defaultValues)||Nt(e.values)?An(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:An(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:hy(),array:hy(),state:hy()},p=xC(e.mode),g=xC(e.reValidateMode),y=e.criteriaMode===Mr.all,w=j=>U=>{clearTimeout(c),c=setTimeout(j,U)},E=async j=>{if(!t.disabled&&(d.isValid||j)){const U=e.resolver?Dn((await S()).errors):await R(r,!0);U!==n.isValid&&f.state.next({isValid:U})}},b=(j,U)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((j||Array.from(a.mount)).forEach(B=>{B&&(U?Ke(n.validatingFields,B,U):jt(n.validatingFields,B))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Dn(n.validatingFields)}))},x=(j,U=[],B,te,ee=!0,Y=!0)=>{if(te&&B&&!t.disabled){if(o.action=!0,Y&&Array.isArray(J(r,j))){const fe=B(J(r,j),te.argA,te.argB);ee&&Ke(r,j,fe)}if(Y&&Array.isArray(J(n.errors,j))){const fe=B(J(n.errors,j),te.argA,te.argB);ee&&Ke(n.errors,j,fe),ZK(n.errors,j)}if(d.touchedFields&&Y&&Array.isArray(J(n.touchedFields,j))){const fe=B(J(n.touchedFields,j),te.argA,te.argB);ee&&Ke(n.touchedFields,j,fe)}d.dirtyFields&&(n.dirtyFields=_u(s,i)),f.state.next({name:j,isDirty:N(j,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ke(i,j,U)},T=(j,U)=>{Ke(n.errors,j,U),f.state.next({errors:n.errors})},k=j=>{n.errors=j,f.state.next({errors:n.errors,isValid:!1})},D=(j,U,B,te)=>{const ee=J(r,j);if(ee){const Y=J(i,j,Ct(B)?J(s,j):B);Ct(Y)||te&&te.defaultChecked||U?Ke(i,j,U?Y:py(ee._f)):le(j,Y),o.mount&&E()}},L=(j,U,B,te,ee)=>{let Y=!1,fe=!1;const ke={name:j};if(!t.disabled){const Le=!!(J(r,j)&&J(r,j)._f&&J(r,j)._f.disabled);if(!B||te){d.isDirty&&(fe=n.isDirty,n.isDirty=ke.isDirty=N(),Y=fe!==ke.isDirty);const $e=Le||Li(J(s,j),U);fe=!!(!Le&&J(n.dirtyFields,j)),$e||Le?jt(n.dirtyFields,j):Ke(n.dirtyFields,j,!0),ke.dirtyFields=n.dirtyFields,Y=Y||d.dirtyFields&&fe!==!$e}if(B){const $e=J(n.touchedFields,j);$e||(Ke(n.touchedFields,j,B),ke.touchedFields=n.touchedFields,Y=Y||d.touchedFields&&$e!==B)}Y&&ee&&f.state.next(ke)}return Y?ke:{}},C=(j,U,B,te)=>{const ee=J(n.errors,j),Y=d.isValid&&fr(U)&&n.isValid!==U;if(t.delayError&&B?(l=w(()=>T(j,B)),l(t.delayError)):(clearTimeout(c),l=null,B?Ke(n.errors,j,B):jt(n.errors,j)),(B?!Li(ee,B):ee)||!Dn(te)||Y){const fe={...te,...Y&&fr(U)?{isValid:U}:{},errors:n.errors,name:j};n={...n,...fe},f.state.next(fe)}},S=async j=>{b(j,!0);const U=await e.resolver(i,e.context,KK(j||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(j),U},I=async j=>{const{errors:U}=await S(j);if(j)for(const B of j){const te=J(U,B);te?Ke(n.errors,B,te):jt(n.errors,B)}else n.errors=U;return U},R=async(j,U,B={valid:!0})=>{for(const te in j){const ee=j[te];if(ee){const{_f:Y,...fe}=ee;if(Y){const ke=a.array.has(Y.name),Le=ee._f&&GK(ee._f);Le&&d.validatingFields&&b([te],!0);const $e=await kC(ee,i,y,e.shouldUseNativeValidation&&!U,ke);if(Le&&d.validatingFields&&b([te]),$e[Y.name]&&(B.valid=!1,U))break;!U&&(J($e,Y.name)?ke?zK(n.errors,$e,Y.name):Ke(n.errors,Y.name,$e[Y.name]):jt(n.errors,Y.name))}!Dn(fe)&&await R(fe,U,B)}}return B.valid},O=()=>{for(const j of a.unMount){const U=J(r,j);U&&(U._f.refs?U._f.refs.every(B=>!fy(B)):!fy(U._f.ref))&&Pt(j)}a.unMount=new Set},N=(j,U)=>!t.disabled&&(j&&U&&Ke(i,j,U),!Li(ue(),s)),A=(j,U,B)=>FO(j,a,{...o.mount?i:Ct(U)?s:as(j)?{[j]:U}:U},B,U),H=j=>Dg(J(o.mount?i:s,j,t.shouldUnregister?J(s,j,[]):[])),le=(j,U,B={})=>{const te=J(r,j);let ee=U;if(te){const Y=te._f;Y&&(!Y.disabled&&Ke(i,j,HO(U,Y)),ee=pm(Y.ref)&&bn(U)?"":U,BO(Y.ref)?[...Y.ref.options].forEach(fe=>fe.selected=ee.includes(fe.value)):Y.refs?Ih(Y.ref)?Y.refs.length>1?Y.refs.forEach(fe=>(!fe.defaultChecked||!fe.disabled)&&(fe.checked=Array.isArray(ee)?!!ee.find(ke=>ke===fe.value):ee===fe.value)):Y.refs[0]&&(Y.refs[0].checked=!!ee):Y.refs.forEach(fe=>fe.checked=fe.value===ee):db(Y.ref)?Y.ref.value="":(Y.ref.value=ee,Y.ref.type||f.values.next({name:j,values:{...i}})))}(B.shouldDirty||B.shouldTouch)&&L(j,ee,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&X(j)},ae=(j,U,B)=>{for(const te in U){const ee=U[te],Y=`${j}.${te}`,fe=J(r,Y);(a.array.has(j)||Nt(ee)||fe&&!fe._f)&&!ea(ee)?ae(Y,ee,B):le(Y,ee,B)}},K=(j,U,B={})=>{const te=J(r,j),ee=a.array.has(j),Y=An(U);Ke(i,j,Y),ee?(f.array.next({name:j,values:{...i}}),(d.isDirty||d.dirtyFields)&&B.shouldDirty&&f.state.next({name:j,dirtyFields:_u(s,i),isDirty:N(j,Y)})):te&&!te._f&&!bn(Y)?ae(j,Y,B):le(j,Y,B),bC(j,a)&&f.state.next({...n}),f.values.next({name:o.mount?j:void 0,values:{...i}})},F=async j=>{o.mount=!0;const U=j.target;let B=U.name,te=!0;const ee=J(r,B),Y=()=>U.type?py(ee._f):RO(j),fe=ke=>{te=Number.isNaN(ke)||ea(ke)&&isNaN(ke.getTime())||Li(ke,J(i,B,ke))};if(ee){let ke,Le;const $e=Y(),ur=j.type===fm.BLUR||j.type===fm.FOCUS_OUT,Fh=!QK(ee._f)&&!e.resolver&&!J(n.errors,B)&&!ee._f.deps||YK(ur,J(n.touchedFields,B),n.isSubmitted,g,p),za=bC(B,a,ur);Ke(i,B,$e),ur?(ee._f.onBlur&&ee._f.onBlur(j),l&&l(0)):ee._f.onChange&&ee._f.onChange(j);const qc=L(B,$e,ur,!1),Lo=!Dn(qc)||za;if(!ur&&f.values.next({name:B,type:j.type,values:{...i}}),Fh)return d.isValid&&(t.mode==="onBlur"?ur&&E():E()),Lo&&f.state.next({name:B,...za?{}:qc});if(!ur&&za&&f.state.next({...n}),e.resolver){const{errors:Kc}=await S([B]);if(fe($e),te){const Vh=PC(n.errors,r,B),Wa=PC(Kc,r,Vh.name||B);ke=Wa.error,B=Wa.name,Le=Dn(Kc)}}else b([B],!0),ke=(await kC(ee,i,y,e.shouldUseNativeValidation))[B],b([B]),fe($e),te&&(ke?Le=!1:d.isValid&&(Le=await R(r,!0)));te&&(ee._f.deps&&X(ee._f.deps),C(B,Le,ke,qc))}},z=(j,U)=>{if(J(n.errors,U)&&j.focus)return j.focus(),1},X=async(j,U={})=>{let B,te;const ee=nd(j);if(e.resolver){const Y=await I(Ct(j)?j:ee);B=Dn(Y),te=j?!ee.some(fe=>J(Y,fe)):B}else j?(te=(await Promise.all(ee.map(async Y=>{const fe=J(r,Y);return await R(fe&&fe._f?{[Y]:fe}:fe)}))).every(Boolean),!(!te&&!n.isValid)&&E()):te=B=await R(r);return f.state.next({...!as(j)||d.isValid&&B!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:B}:{},errors:n.errors}),U.shouldFocus&&!te&&rd(r,z,j?ee:a.mount),te},ue=j=>{const U={...o.mount?i:s};return Ct(j)?U:as(j)?J(U,j):j.map(B=>J(U,B))},Ee=(j,U)=>({invalid:!!J((U||n).errors,j),isDirty:!!J((U||n).dirtyFields,j),error:J((U||n).errors,j),isValidating:!!J(n.validatingFields,j),isTouched:!!J((U||n).touchedFields,j)}),Ue=j=>{j&&nd(j).forEach(U=>jt(n.errors,U)),f.state.next({errors:j?n.errors:{}})},It=(j,U,B)=>{const te=(J(r,j,{_f:{}})._f||{}).ref,ee=J(n.errors,j)||{},{ref:Y,message:fe,type:ke,...Le}=ee;Ke(n.errors,j,{...Le,...U,ref:te}),f.state.next({name:j,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&te&&te.focus&&te.focus()},rn=(j,U)=>zs(j)?f.values.subscribe({next:B=>j(A(void 0,U),B)}):A(j,U,!0),Pt=(j,U={})=>{for(const B of j?nd(j):a.mount)a.mount.delete(B),a.array.delete(B),U.keepValue||(jt(r,B),jt(i,B)),!U.keepError&&jt(n.errors,B),!U.keepDirty&&jt(n.dirtyFields,B),!U.keepTouched&&jt(n.touchedFields,B),!U.keepIsValidating&&jt(n.validatingFields,B),!e.shouldUnregister&&!U.keepDefaultValue&&jt(s,B);f.values.next({values:{...i}}),f.state.next({...n,...U.keepDirty?{isDirty:N()}:{}}),!U.keepIsValid&&E()},bt=({disabled:j,name:U,field:B,fields:te,value:ee})=>{if(fr(j)&&o.mount||j){const Y=j?void 0:Ct(ee)?py(B?B._f:J(te,U)._f):ee;Ke(i,U,Y),L(U,Y,!1,!1,!0)}},Sr=(j,U={})=>{let B=J(r,j);const te=fr(U.disabled)||fr(t.disabled);return Ke(r,j,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:j}},name:j,mount:!0,...U}}),a.mount.add(j),B?bt({field:B,disabled:fr(U.disabled)?U.disabled:t.disabled,name:j,value:U.value}):D(j,!0,U.value),{...te?{disabled:U.disabled||t.disabled}:{},...e.progressive?{required:!!U.required,min:wu(U.min),max:wu(U.max),minLength:wu(U.minLength),maxLength:wu(U.maxLength),pattern:wu(U.pattern)}:{},name:j,onChange:F,onBlur:F,ref:ee=>{if(ee){Sr(j,U),B=J(r,j);const Y=Ct(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,fe=qK(Y),ke=B._f.refs||[];if(fe?ke.find(Le=>Le===Y):Y===B._f.ref)return;Ke(r,j,{_f:{...B._f,...fe?{refs:[...ke.filter(fy),Y,...Array.isArray(J(s,j))?[{}]:[]],ref:{type:Y.type,name:j}}:{ref:Y}}}),D(j,!1,void 0,Y)}else B=J(r,j,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(NO(a.array,j)&&o.action)&&a.unMount.add(j)}}},qt=()=>e.shouldFocusError&&rd(r,z,a.mount),lr=j=>{fr(j)&&(f.state.next({disabled:j}),rd(r,(U,B)=>{const te=J(r,B);te&&(U.disabled=te._f.disabled||j,Array.isArray(te._f.refs)&&te._f.refs.forEach(ee=>{ee.disabled=te._f.disabled||j}))},0,!1))},Yr=(j,U)=>async B=>{let te;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let ee=An(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:fe}=await S();n.errors=Y,ee=fe}else await R(r);if(jt(n.errors,"root"),Dn(n.errors)){f.state.next({errors:{}});try{await j(ee,B)}catch(Y){te=Y}}else U&&await U({...n.errors},B),qt(),setTimeout(qt);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dn(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},mi=(j,U={})=>{J(r,j)&&(Ct(U.defaultValue)?K(j,An(J(s,j))):(K(j,U.defaultValue),Ke(s,j,An(U.defaultValue))),U.keepTouched||jt(n.touchedFields,j),U.keepDirty||(jt(n.dirtyFields,j),n.isDirty=U.defaultValue?N(j,An(J(s,j))):N()),U.keepError||(jt(n.errors,j),d.isValid&&E()),f.state.next({...n}))},cr=(j,U={})=>{const B=j?An(j):s,te=An(B),ee=Dn(j),Y=ee?s:te;if(U.keepDefaultValues||(s=B),!U.keepValues){if(U.keepDirtyValues){const fe=new Set([...a.mount,...Object.keys(_u(s,i))]);for(const ke of Array.from(fe))J(n.dirtyFields,ke)?Ke(Y,ke,J(i,ke)):K(ke,J(Y,ke))}else{if(lb&&Ct(j))for(const fe of a.mount){const ke=J(r,fe);if(ke&&ke._f){const Le=Array.isArray(ke._f.refs)?ke._f.refs[0]:ke._f.ref;if(pm(Le)){const $e=Le.closest("form");if($e){$e.reset();break}}}}r={}}i=t.shouldUnregister?U.keepDefaultValues?An(s):{}:An(Y),f.array.next({values:{...Y}}),f.values.next({values:{...Y}})}a={mount:U.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!Li(j,s)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:U.keepDirtyValues?U.keepDefaultValues&&i?_u(s,i):n.dirtyFields:U.keepDefaultValues&&j?_u(s,j):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ss=(j,U)=>cr(zs(j)?j(i):j,U);return{control:{register:Sr,unregister:Pt,getFieldState:Ee,handleSubmit:Yr,setError:It,_executeSchema:S,_getWatch:A,_getDirty:N,_updateValid:E,_removeUnmounted:O,_updateFieldArray:x,_updateDisabledField:bt,_getFieldArray:H,_reset:cr,_resetDefaultValues:()=>zs(e.defaultValues)&&e.defaultValues().then(j=>{Ss(j,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:j=>{n={...n,...j}},_disableForm:lr,_subjects:f,_proxyFormState:d,_setErrors:k,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(j){o=j},get _defaultValues(){return s},get _names(){return a},set _names(j){a=j},get _formState(){return n},set _formState(j){n=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:X,register:Sr,handleSubmit:Yr,watch:rn,setValue:K,getValues:ue,reset:Ss,resetField:mi,clearErrors:Ue,unregister:Pt,setError:It,setFocus:(j,U={})=>{const B=J(r,j),te=B&&B._f;if(te){const ee=te.refs?te.refs[0]:te.ref;ee.focus&&(ee.focus(),U.shouldSelect&&ee.select())}},getFieldState:Ee}}function da(t={}){const e=be.useRef(),n=be.useRef(),[r,s]=be.useState({isDirty:!1,isValidating:!1,isLoading:zs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:zs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...XK(t),formState:r});const i=e.current.control;return i._options=t,ub({subject:i._subjects.state,next:o=>{MO(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),be.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),be.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),be.useEffect(()=>{t.values&&!Li(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),be.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),be.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),be.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),be.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=jO(r,i),e.current}const AC=(t,e,n)=>{if(t&&"reportValidity"in t){const r=J(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},qO=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?AC(r.ref,n,t):r.refs&&r.refs.forEach(s=>AC(s,n,t))}},eG=(t,e)=>{e.shouldUseNativeValidation&&qO(t,e);const n={};for(const r in t){const s=J(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(tG(e.names||Object.keys(t),r)){const o=Object.assign({},J(n,r));Ke(o,"root",i),Ke(n,r,o)}else Ke(n,r,i)}return n},tG=(t,e)=>t.some(n=>n.startsWith(e+"."));var nG=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=VO(o,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},ha=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&qO({},i),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:eG(nG(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},ze;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ze||(ze={}));var Ew;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ew||(Ew={}));const se=ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fi=t=>{switch(typeof t){case"undefined":return se.undefined;case"string":return se.string;case"number":return isNaN(t)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(t)?se.array:t===null?se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?se.promise:typeof Map<"u"&&t instanceof Map?se.map:typeof Set<"u"&&t instanceof Set?se.set:typeof Date<"u"&&t instanceof Date?se.date:se.object;default:return se.unknown}},Q=ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),rG=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class nr extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof nr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}nr.create=t=>new nr(t);const _c=(t,e)=>{let n;switch(t.code){case Q.invalid_type:t.received===se.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ze.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:n=`Unrecognized key(s) in object: ${ze.joinValues(t.keys,", ")}`;break;case Q.invalid_union:n="Invalid input";break;case Q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ze.joinValues(t.options)}`;break;case Q.invalid_enum_value:n=`Invalid enum value. Expected ${ze.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:n="Invalid function arguments";break;case Q.invalid_return_type:n="Invalid function return type";break;case Q.invalid_date:n="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ze.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Q.custom:n="Invalid input";break;case Q.invalid_intersection_types:n="Intersection results could not be merged";break;case Q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:n="Number must be finite";break;default:n=e.defaultError,ze.assertNever(t)}return{message:n}};let KO=_c;function sG(t){KO=t}function vm(){return KO}const ym=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},iG=[];function ne(t,e){const n=vm(),r=ym({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===_c?void 0:_c].filter(s=>!!s)});t.common.issues.push(r)}class gn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return we;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return gn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return we;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const we=Object.freeze({status:"aborted"}),El=t=>({status:"dirty",value:t}),Sn=t=>({status:"valid",value:t}),Tw=t=>t.status==="aborted",Sw=t=>t.status==="dirty",Dd=t=>t.status==="valid",Od=t=>typeof Promise<"u"&&t instanceof Promise;function _m(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function GO(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));var Du,Ou;class xs{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const RC=(t,e)=>{if(Dd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new nr(t.common.issues);return this._error=n,this._error}}};function Ce(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,c;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=d??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Re{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Fi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Fi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gn,ctx:{common:e.parent.common,data:e.data,parsedType:Fi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Od(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fi(e)},i=this._parseSync({data:e,path:s.path,parent:s});return RC(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fi(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Od(s)?s:Promise.resolve(s));return RC(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:Q.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Wr({schema:this,typeName:ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return gs.create(this,this._def)}nullable(){return To.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $r.create(this,this._def)}promise(){return xc.create(this,this._def)}or(e){return Fd.create([this,e],this._def)}and(e){return Vd.create(this,e,this._def)}transform(e){return new Wr({...Ce(this._def),schema:this,typeName:ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Wd({...Ce(this._def),innerType:this,defaultValue:n,typeName:ye.ZodDefault})}brand(){return new fb({typeName:ye.ZodBranded,type:this,...Ce(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Hd({...Ce(this._def),innerType:this,catchValue:n,typeName:ye.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ph.create(this,e)}readonly(){return qd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const oG=/^c[^\s-]{8,}$/i,aG=/^[0-9a-z]+$/,lG=/^[0-9A-HJKMNP-TV-Z]{26}$/,cG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uG=/^[a-z0-9_-]{21}$/i,dG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let my;const pG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mG=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,gG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,QO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vG=new RegExp(`^${QO}$`);function YO(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function yG(t){return new RegExp(`^${YO(t)}$`)}function ZO(t){let e=`${QO}T${YO(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function _G(t,e){return!!((e==="v4"||!e)&&pG.test(t)||(e==="v6"||!e)&&mG.test(t))}class Fr extends Re{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==se.string){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_type,expected:se.string,received:i.parsedType}),we}const r=new gn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?ne(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ne(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")hG.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"email",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")my||(my=new RegExp(fG,"u")),my.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"emoji",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")cG.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"uuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")uG.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"nanoid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")oG.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")aG.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid2",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")lG.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ulid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ne(s,{validation:"url",code:Q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"regex",code:Q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?ZO(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?vG.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?yG(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?dG.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"duration",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?_G(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ip",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?gG.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"base64",code:Q.invalid_string,message:i.message}),r.dirty()):ze.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Q.invalid_string,...de.errToObj(r)})}_addCheck(e){return new Fr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...de.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...de.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...de.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...de.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...de.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...de.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...de.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...de.errToObj(n)})}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Fr.create=t=>{var e;return new Fr({checks:[],typeName:ye.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ce(t)})};function wG(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class xo extends Re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==se.number){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_type,expected:se.number,received:i.parsedType}),we}let r;const s=new gn;for(const i of this._def.checks)i.kind==="int"?ze.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?wG(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.not_finite,message:i.message}),s.dirty()):ze.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new xo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new xo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ze.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}xo.create=t=>new xo({checks:[],typeName:ye.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ce(t)});class bo extends Re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==se.bigint){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_type,expected:se.bigint,received:i.parsedType}),we}let r;const s=new gn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ze.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new bo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new bo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}bo.create=t=>{var e;return new bo({checks:[],typeName:ye.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ce(t)})};class jd extends Re{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==se.boolean){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:se.boolean,received:r.parsedType}),we}return Sn(e.data)}}jd.create=t=>new jd({typeName:ye.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ce(t)});class Ra extends Re{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==se.date){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_type,expected:se.date,received:i.parsedType}),we}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ne(i,{code:Q.invalid_date}),we}const r=new gn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ze.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ra({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ra.create=t=>new Ra({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ye.ZodDate,...Ce(t)});class wm extends Re{_parse(e){if(this._getType(e)!==se.symbol){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:se.symbol,received:r.parsedType}),we}return Sn(e.data)}}wm.create=t=>new wm({typeName:ye.ZodSymbol,...Ce(t)});class Md extends Re{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:se.undefined,received:r.parsedType}),we}return Sn(e.data)}}Md.create=t=>new Md({typeName:ye.ZodUndefined,...Ce(t)});class Ld extends Re{_parse(e){if(this._getType(e)!==se.null){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:se.null,received:r.parsedType}),we}return Sn(e.data)}}Ld.create=t=>new Ld({typeName:ye.ZodNull,...Ce(t)});class wc extends Re{constructor(){super(...arguments),this._any=!0}_parse(e){return Sn(e.data)}}wc.create=t=>new wc({typeName:ye.ZodAny,...Ce(t)});class fa extends Re{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Sn(e.data)}}fa.create=t=>new fa({typeName:ye.ZodUnknown,...Ce(t)});class ai extends Re{_parse(e){const n=this._getOrReturnCtx(e);return ne(n,{code:Q.invalid_type,expected:se.never,received:n.parsedType}),we}}ai.create=t=>new ai({typeName:ye.ZodNever,...Ce(t)});class xm extends Re{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:se.void,received:r.parsedType}),we}return Sn(e.data)}}xm.create=t=>new xm({typeName:ye.ZodVoid,...Ce(t)});class $r extends Re{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==se.array)return ne(n,{code:Q.invalid_type,expected:se.array,received:n.parsedType}),we;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(ne(n,{code:o?Q.too_big:Q.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ne(n,{code:Q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ne(n,{code:Q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new xs(n,o,n.path,a)))).then(o=>gn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new xs(n,o,n.path,a)));return gn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new $r({...this._def,minLength:{value:e,message:de.toString(n)}})}max(e,n){return new $r({...this._def,maxLength:{value:e,message:de.toString(n)}})}length(e,n){return new $r({...this._def,exactLength:{value:e,message:de.toString(n)}})}nonempty(e){return this.min(1,e)}}$r.create=(t,e)=>new $r({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ye.ZodArray,...Ce(e)});function cl(t){if(t instanceof gt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=gs.create(cl(r))}return new gt({...t._def,shape:()=>e})}else return t instanceof $r?new $r({...t._def,type:cl(t.element)}):t instanceof gs?gs.create(cl(t.unwrap())):t instanceof To?To.create(cl(t.unwrap())):t instanceof bs?bs.create(t.items.map(e=>cl(e))):t}class gt extends Re{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ze.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==se.object){const c=this._getOrReturnCtx(e);return ne(c,{code:Q.invalid_type,expected:se.object,received:c.parsedType}),we}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ai&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new xs(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof ai){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")a.length>0&&(ne(s,{code:Q.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const f=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new xs(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,p=await d.value;c.push({key:f,value:p,alwaysSet:d.alwaysSet})}return c}).then(c=>gn.mergeObjectSync(r,c)):gn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new gt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=de.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new gt({...this._def,unknownKeys:"strip"})}passthrough(){return new gt({...this._def,unknownKeys:"passthrough"})}extend(e){return new gt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new gt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ye.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new gt({...this._def,catchall:e})}pick(e){const n={};return ze.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new gt({...this._def,shape:()=>n})}omit(e){const n={};return ze.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new gt({...this._def,shape:()=>n})}deepPartial(){return cl(this)}partial(e){const n={};return ze.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new gt({...this._def,shape:()=>n})}required(e){const n={};return ze.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof gs;)i=i._def.innerType;n[r]=i}}),new gt({...this._def,shape:()=>n})}keyof(){return JO(ze.objectKeys(this.shape))}}gt.create=(t,e)=>new gt({shape:()=>t,unknownKeys:"strip",catchall:ai.create(),typeName:ye.ZodObject,...Ce(e)});gt.strictCreate=(t,e)=>new gt({shape:()=>t,unknownKeys:"strict",catchall:ai.create(),typeName:ye.ZodObject,...Ce(e)});gt.lazycreate=(t,e)=>new gt({shape:t,unknownKeys:"strip",catchall:ai.create(),typeName:ye.ZodObject,...Ce(e)});class Fd extends Re{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new nr(a.ctx.common.issues));return ne(n,{code:Q.invalid_union,unionErrors:o}),we}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new nr(l));return ne(n,{code:Q.invalid_union,unionErrors:a}),we}}get options(){return this._def.options}}Fd.create=(t,e)=>new Fd({options:t,typeName:ye.ZodUnion,...Ce(e)});const Ns=t=>t instanceof $d?Ns(t.schema):t instanceof Wr?Ns(t.innerType()):t instanceof Bd?[t.value]:t instanceof Eo?t.options:t instanceof zd?ze.objectValues(t.enum):t instanceof Wd?Ns(t._def.innerType):t instanceof Md?[void 0]:t instanceof Ld?[null]:t instanceof gs?[void 0,...Ns(t.unwrap())]:t instanceof To?[null,...Ns(t.unwrap())]:t instanceof fb||t instanceof qd?Ns(t.unwrap()):t instanceof Hd?Ns(t._def.innerType):[];class jg extends Re{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.object)return ne(n,{code:Q.invalid_type,expected:se.object,received:n.parsedType}),we;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ne(n,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),we)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Ns(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new jg({typeName:ye.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ce(r)})}}function Cw(t,e){const n=Fi(t),r=Fi(e);if(t===e)return{valid:!0,data:t};if(n===se.object&&r===se.object){const s=ze.objectKeys(e),i=ze.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Cw(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===se.array&&r===se.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Cw(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===se.date&&r===se.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Vd extends Re{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Tw(i)||Tw(o))return we;const a=Cw(i.value,o.value);return a.valid?((Sw(i)||Sw(o))&&n.dirty(),{status:n.value,value:a.data}):(ne(r,{code:Q.invalid_intersection_types}),we)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Vd.create=(t,e,n)=>new Vd({left:t,right:e,typeName:ye.ZodIntersection,...Ce(n)});class bs extends Re{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.array)return ne(r,{code:Q.invalid_type,expected:se.array,received:r.parsedType}),we;if(r.data.length<this._def.items.length)return ne(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),we;!this._def.rest&&r.data.length>this._def.items.length&&(ne(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new xs(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>gn.mergeArray(n,o)):gn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new bs({...this._def,rest:e})}}bs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bs({items:t,typeName:ye.ZodTuple,rest:null,...Ce(e)})};class Ud extends Re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.object)return ne(r,{code:Q.invalid_type,expected:se.object,received:r.parsedType}),we;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new xs(r,a,r.path,a)),value:o._parse(new xs(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?gn.mergeObjectAsync(n,s):gn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Re?new Ud({keyType:e,valueType:n,typeName:ye.ZodRecord,...Ce(r)}):new Ud({keyType:Fr.create(),valueType:e,typeName:ye.ZodRecord,...Ce(n)})}}class bm extends Re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.map)return ne(r,{code:Q.invalid_type,expected:se.map,received:r.parsedType}),we;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new xs(r,a,r.path,[c,"key"])),value:i._parse(new xs(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return we;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return we;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}}}}bm.create=(t,e,n)=>new bm({valueType:e,keyType:t,typeName:ye.ZodMap,...Ce(n)});class Na extends Re{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.set)return ne(r,{code:Q.invalid_type,expected:se.set,received:r.parsedType}),we;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ne(r,{code:Q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ne(r,{code:Q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return we;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new xs(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Na({...this._def,minSize:{value:e,message:de.toString(n)}})}max(e,n){return new Na({...this._def,maxSize:{value:e,message:de.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Na.create=(t,e)=>new Na({valueType:t,minSize:null,maxSize:null,typeName:ye.ZodSet,...Ce(e)});class Fl extends Re{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.function)return ne(n,{code:Q.invalid_type,expected:se.function,received:n.parsedType}),we;function r(a,l){return ym({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,vm(),_c].filter(c=>!!c),issueData:{code:Q.invalid_arguments,argumentsError:l}})}function s(a,l){return ym({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,vm(),_c].filter(c=>!!c),issueData:{code:Q.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof xc){const a=this;return Sn(async function(...l){const c=new nr([]),d=await a._def.args.parseAsync(l,i).catch(g=>{throw c.addIssue(r(l,g)),c}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,i).catch(g=>{throw c.addIssue(s(f,g)),c})})}else{const a=this;return Sn(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new nr([r(l,c.error)]);const d=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(d,i);if(!f.success)throw new nr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Fl({...this._def,args:bs.create(e).rest(fa.create())})}returns(e){return new Fl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Fl({args:e||bs.create([]).rest(fa.create()),returns:n||fa.create(),typeName:ye.ZodFunction,...Ce(r)})}}class $d extends Re{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}$d.create=(t,e)=>new $d({getter:t,typeName:ye.ZodLazy,...Ce(e)});class Bd extends Re{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ne(n,{received:n.data,code:Q.invalid_literal,expected:this._def.value}),we}return{status:"valid",value:e.data}}get value(){return this._def.value}}Bd.create=(t,e)=>new Bd({value:t,typeName:ye.ZodLiteral,...Ce(e)});function JO(t,e){return new Eo({values:t,typeName:ye.ZodEnum,...Ce(e)})}class Eo extends Re{constructor(){super(...arguments),Du.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{expected:ze.joinValues(r),received:n.parsedType,code:Q.invalid_type}),we}if(_m(this,Du)||GO(this,Du,new Set(this._def.values)),!_m(this,Du).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{received:n.data,code:Q.invalid_enum_value,options:r}),we}return Sn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Eo.create(e,{...this._def,...n})}exclude(e,n=this._def){return Eo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Du=new WeakMap;Eo.create=JO;class zd extends Re{constructor(){super(...arguments),Ou.set(this,void 0)}_parse(e){const n=ze.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==se.string&&r.parsedType!==se.number){const s=ze.objectValues(n);return ne(r,{expected:ze.joinValues(s),received:r.parsedType,code:Q.invalid_type}),we}if(_m(this,Ou)||GO(this,Ou,new Set(ze.getValidEnumValues(this._def.values))),!_m(this,Ou).has(e.data)){const s=ze.objectValues(n);return ne(r,{received:r.data,code:Q.invalid_enum_value,options:s}),we}return Sn(e.data)}get enum(){return this._def.values}}Ou=new WeakMap;zd.create=(t,e)=>new zd({values:t,typeName:ye.ZodNativeEnum,...Ce(e)});class xc extends Re{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.promise&&n.common.async===!1)return ne(n,{code:Q.invalid_type,expected:se.promise,received:n.parsedType}),we;const r=n.parsedType===se.promise?n.data:Promise.resolve(n.data);return Sn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}xc.create=(t,e)=>new xc({type:t,typeName:ye.ZodPromise,...Ce(e)});class Wr extends Re{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ne(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return we;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?we:l.status==="dirty"||n.value==="dirty"?El(l.value):l});{if(n.value==="aborted")return we;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?we:a.status==="dirty"||n.value==="dirty"?El(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?we:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?we:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Dd(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Dd(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);ze.assertNever(s)}}Wr.create=(t,e,n)=>new Wr({schema:t,typeName:ye.ZodEffects,effect:e,...Ce(n)});Wr.createWithPreprocess=(t,e,n)=>new Wr({schema:e,effect:{type:"preprocess",transform:t},typeName:ye.ZodEffects,...Ce(n)});class gs extends Re{_parse(e){return this._getType(e)===se.undefined?Sn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gs.create=(t,e)=>new gs({innerType:t,typeName:ye.ZodOptional,...Ce(e)});class To extends Re{_parse(e){return this._getType(e)===se.null?Sn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}To.create=(t,e)=>new To({innerType:t,typeName:ye.ZodNullable,...Ce(e)});class Wd extends Re{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===se.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Wd.create=(t,e)=>new Wd({innerType:t,typeName:ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ce(e)});class Hd extends Re{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Od(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new nr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new nr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hd.create=(t,e)=>new Hd({innerType:t,typeName:ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ce(e)});class Em extends Re{_parse(e){if(this._getType(e)!==se.nan){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:se.nan,received:r.parsedType}),we}return{status:"valid",value:e.data}}}Em.create=t=>new Em({typeName:ye.ZodNaN,...Ce(t)});const xG=Symbol("zod_brand");class fb extends Re{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ph extends Re{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?we:i.status==="dirty"?(n.dirty(),El(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?we:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Ph({in:e,out:n,typeName:ye.ZodPipeline})}}class qd extends Re{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Dd(s)&&(s.value=Object.freeze(s.value)),s);return Od(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}qd.create=(t,e)=>new qd({innerType:t,typeName:ye.ZodReadonly,...Ce(e)});function XO(t,e={},n){return t?wc.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:l})}}):wc.create()}const bG={object:gt.lazycreate};var ye;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ye||(ye={}));const EG=(t,e={message:`Input not instance of ${t.name}`})=>XO(n=>n instanceof t,e),e2=Fr.create,t2=xo.create,TG=Em.create,SG=bo.create,n2=jd.create,CG=Ra.create,kG=wm.create,IG=Md.create,PG=Ld.create,AG=wc.create,RG=fa.create,NG=ai.create,DG=xm.create,OG=$r.create,jG=gt.create,MG=gt.strictCreate,LG=Fd.create,FG=jg.create,VG=Vd.create,UG=bs.create,$G=Ud.create,BG=bm.create,zG=Na.create,WG=Fl.create,HG=$d.create,qG=Bd.create,KG=Eo.create,GG=zd.create,QG=xc.create,NC=Wr.create,YG=gs.create,ZG=To.create,JG=Wr.createWithPreprocess,XG=Ph.create,eQ=()=>e2().optional(),tQ=()=>t2().optional(),nQ=()=>n2().optional(),rQ={string:t=>Fr.create({...t,coerce:!0}),number:t=>xo.create({...t,coerce:!0}),boolean:t=>jd.create({...t,coerce:!0}),bigint:t=>bo.create({...t,coerce:!0}),date:t=>Ra.create({...t,coerce:!0})},sQ=we;var Qe=Object.freeze({__proto__:null,defaultErrorMap:_c,setErrorMap:sG,getErrorMap:vm,makeIssue:ym,EMPTY_PATH:iG,addIssueToContext:ne,ParseStatus:gn,INVALID:we,DIRTY:El,OK:Sn,isAborted:Tw,isDirty:Sw,isValid:Dd,isAsync:Od,get util(){return ze},get objectUtil(){return Ew},ZodParsedType:se,getParsedType:Fi,ZodType:Re,datetimeRegex:ZO,ZodString:Fr,ZodNumber:xo,ZodBigInt:bo,ZodBoolean:jd,ZodDate:Ra,ZodSymbol:wm,ZodUndefined:Md,ZodNull:Ld,ZodAny:wc,ZodUnknown:fa,ZodNever:ai,ZodVoid:xm,ZodArray:$r,ZodObject:gt,ZodUnion:Fd,ZodDiscriminatedUnion:jg,ZodIntersection:Vd,ZodTuple:bs,ZodRecord:Ud,ZodMap:bm,ZodSet:Na,ZodFunction:Fl,ZodLazy:$d,ZodLiteral:Bd,ZodEnum:Eo,ZodNativeEnum:zd,ZodPromise:xc,ZodEffects:Wr,ZodTransformer:Wr,ZodOptional:gs,ZodNullable:To,ZodDefault:Wd,ZodCatch:Hd,ZodNaN:Em,BRAND:xG,ZodBranded:fb,ZodPipeline:Ph,ZodReadonly:qd,custom:XO,Schema:Re,ZodSchema:Re,late:bG,get ZodFirstPartyTypeKind(){return ye},coerce:rQ,any:AG,array:OG,bigint:SG,boolean:n2,date:CG,discriminatedUnion:FG,effect:NC,enum:KG,function:WG,instanceof:EG,intersection:VG,lazy:HG,literal:qG,map:BG,nan:TG,nativeEnum:GG,never:NG,null:PG,nullable:ZG,number:t2,object:jG,oboolean:nQ,onumber:tQ,optional:YG,ostring:eQ,pipeline:XG,preprocess:JG,promise:QG,record:$G,set:zG,strictObject:MG,string:e2,symbol:kG,transformer:NC,tuple:UG,undefined:IG,union:LG,unknown:RG,void:DG,NEVER:sQ,ZodIssueCode:Q,quotelessJson:rG,ZodError:nr}),iQ="Label",r2=v.forwardRef((t,e)=>h.jsx(He.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));r2.displayName=iQ;var s2=r2;const oQ=Xm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i2=v.forwardRef(({className:t,...e},n)=>h.jsx(s2,{ref:n,className:ce(oQ(),t),...e}));i2.displayName=s2.displayName;const pa=FK,o2=v.createContext({}),vt=({...t})=>h.jsx(o2.Provider,{value:{name:t.name},children:h.jsx(BK,{...t})}),Mg=()=>{const t=v.useContext(o2),e=v.useContext(a2),{getFieldState:n,formState:r}=Og(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},a2=v.createContext({}),ut=v.forwardRef(({className:t,...e},n)=>{const r=v.useId();return h.jsx(a2.Provider,{value:{id:r},children:h.jsx("div",{ref:n,className:ce("space-y-2",t),...e})})});ut.displayName="FormItem";const dt=v.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Mg();return h.jsx(i2,{ref:n,className:ce(r&&"text-destructive",t),htmlFor:s,...e})});dt.displayName="FormLabel";const ht=v.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Mg();return h.jsx(ti,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});ht.displayName="FormControl";const ma=v.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Mg();return h.jsx("p",{ref:n,id:r,className:ce("text-sm text-muted-foreground",t),...e})});ma.displayName="FormDescription";const Lt=v.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Mg(),o=s?String(s==null?void 0:s.message):e;return o?h.jsx("p",{ref:r,id:i,className:ce("text-sm font-medium text-destructive",t),...n,children:o}):null});Lt.displayName="FormMessage";const Yt=v.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Yt.displayName="Input";const l2=v.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));l2.displayName="Textarea";var _e=function(){return _e=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_e.apply(this,arguments)};function aQ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function c2(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Ah(t){return t.mode==="multiple"}function Rh(t){return t.mode==="range"}function Lg(t){return t.mode==="single"}var lQ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function cQ(t,e){return Hn(t,"LLLL y",e)}function uQ(t,e){return Hn(t,"d",e)}function dQ(t,e){return Hn(t,"LLLL",e)}function hQ(t){return"".concat(t)}function fQ(t,e){return Hn(t,"cccccc",e)}function pQ(t,e){return Hn(t,"yyyy",e)}var mQ=Object.freeze({__proto__:null,formatCaption:cQ,formatDay:uQ,formatMonthCaption:dQ,formatWeekNumber:hQ,formatWeekdayName:fQ,formatYearCaption:pQ}),gQ=function(t,e,n){return Hn(t,"do MMMM (EEEE)",n)},vQ=function(){return"Month: "},yQ=function(){return"Go to next month"},_Q=function(){return"Go to previous month"},wQ=function(t,e){return Hn(t,"cccc",e)},xQ=function(t){return"Week n. ".concat(t)},bQ=function(){return"Year: "},EQ=Object.freeze({__proto__:null,labelDay:gQ,labelMonthDropdown:vQ,labelNext:yQ,labelPrevious:_Q,labelWeekNumber:xQ,labelWeekday:wQ,labelYearDropdown:bQ});function TQ(){var t="buttons",e=lQ,n=SD,r={},s={},i=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:mQ,labels:EQ,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:a,mode:"default"}}function SQ(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return r?i=Wn(r):e&&(i=new Date(e,0,1)),s?o=zx(s):n&&(o=new Date(n,11,31)),{fromDate:i?gc(i):void 0,toDate:o?gc(o):void 0}}var u2=v.createContext(void 0);function CQ(t){var e,n=t.initialProps,r=TQ(),s=SQ(n),i=s.fromDate,o=s.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!i||!o)&&(a="buttons");var l;(Lg(n)||Ah(n)||Rh(n))&&(l=n.onSelect);var c=_e(_e(_e({},r),n),{captionLayout:a,classNames:_e(_e({},r.classNames),n.classNames),components:_e({},n.components),formatters:_e(_e({},r.formatters),n.formatters),fromDate:i,labels:_e(_e({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:_e(_e({},r.modifiers),n.modifiers),modifiersClassNames:_e(_e({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:_e(_e({},r.styles),n.styles),toDate:o});return h.jsx(u2.Provider,{value:c,children:t.children})}function it(){var t=v.useContext(u2);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function d2(t){var e=it(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return h.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function kQ(t){return h.jsx("svg",_e({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:h.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function h2(t){var e,n,r=t.onChange,s=t.value,i=t.children,o=t.caption,a=t.className,l=t.style,c=it(),d=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:kQ;return h.jsxs("div",{className:a,style:l,children:[h.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),h.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:s,onChange:r,children:i}),h.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,h.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function IQ(t){var e,n=it(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,d=n.labels.labelMonthDropdown;if(!r)return h.jsx(h.Fragment,{});if(!s)return h.jsx(h.Fragment,{});var f=[];if(p7(r,s))for(var p=Wn(r),g=r.getMonth();g<=s.getMonth();g++)f.push(Jv(p,g));else for(var p=Wn(new Date),g=0;g<=11;g++)f.push(Jv(p,g));var y=function(E){var b=Number(E.target.value),x=Jv(Wn(t.displayMonth),b);t.onChange(x)},w=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:h2;return h.jsx(w,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:f.map(function(E){return h.jsx("option",{value:E.getMonth(),children:a(E,{locale:o})},E.getMonth())})})}function PQ(t){var e,n=t.displayMonth,r=it(),s=r.fromDate,i=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,p=[];if(!s)return h.jsx(h.Fragment,{});if(!i)return h.jsx(h.Fragment,{});for(var g=s.getFullYear(),y=i.getFullYear(),w=g;w<=y;w++)p.push(q1(ED(new Date),w));var E=function(x){var T=q1(Wn(n),Number(x.target.value));t.onChange(T)},b=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:h2;return h.jsx(b,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:E,value:n.getFullYear(),caption:d(n,{locale:o}),children:p.map(function(x){return h.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function AQ(t,e){var n=v.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function RQ(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(i&&Rd(i,s)<0){var c=-1*(l-1);s=zr(i,c)}return o&&Rd(s,o)<0&&(s=o),Wn(s)}function NQ(){var t=it(),e=RQ(t),n=AQ(e,t.month),r=n[0],s=n[1],i=function(o){var a;if(!t.disableNavigation){var l=Wn(o);s(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,i]}function DQ(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Wn(t),i=Wn(zr(s,r)),o=Rd(i,s),a=[],l=0;l<o;l++){var c=zr(s,l);a.push(c)}return n&&(a=a.reverse()),a}function OQ(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Wn(t);if(!n)return zr(a,o);var l=Rd(n,t);if(!(l<i))return zr(a,o)}}function jQ(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Wn(t);if(!n)return zr(a,-o);var l=Rd(a,n);if(!(l<=0))return zr(a,-o)}}var f2=v.createContext(void 0);function MQ(t){var e=it(),n=NQ(),r=n[0],s=n[1],i=DQ(r,e),o=OQ(r,e),a=jQ(r,e),l=function(f){return i.some(function(p){return Hx(f,p)})},c=function(f,p){l(f)||(p&&um(f,p)?s(zr(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:c,previousMonth:a,nextMonth:o,isDateDisplayed:l};return h.jsx(f2.Provider,{value:d,children:t.children})}function Nh(){var t=v.useContext(f2);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function DC(t){var e,n=it(),r=n.classNames,s=n.styles,i=n.components,o=Nh().goToMonth,a=function(d){o(zr(d,t.displayIndex?-t.displayIndex:0))},l=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:d2,c=h.jsx(l,{id:t.id,displayMonth:t.displayMonth});return h.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[h.jsx("div",{className:r.vhidden,children:c}),h.jsx(IQ,{onChange:a,displayMonth:t.displayMonth}),h.jsx(PQ,{onChange:a,displayMonth:t.displayMonth})]})}function LQ(t){return h.jsx("svg",_e({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:h.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function FQ(t){return h.jsx("svg",_e({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:h.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Tm=v.forwardRef(function(t,e){var n=it(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var o=i.join(" "),a=_e(_e({},s.button_reset),s.button);return t.style&&Object.assign(a,t.style),h.jsx("button",_e({},t,{ref:e,type:"button",className:o,style:a}))});function VQ(t){var e,n,r=it(),s=r.dir,i=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,d=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return h.jsx(h.Fragment,{});var p=c(t.previousMonth,{locale:i}),g=[o.nav_button,o.nav_button_previous].join(" "),y=d(t.nextMonth,{locale:i}),w=[o.nav_button,o.nav_button_next].join(" "),E=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:FQ,b=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:LQ;return h.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&h.jsx(Tm,{name:"previous-month","aria-label":p,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?h.jsx(E,{className:o.nav_icon,style:a.nav_icon}):h.jsx(b,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&h.jsx(Tm,{name:"next-month","aria-label":y,className:w,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?h.jsx(b,{className:o.nav_icon,style:a.nav_icon}):h.jsx(E,{className:o.nav_icon,style:a.nav_icon})})]})}function OC(t){var e=it().numberOfMonths,n=Nh(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(y){return Hx(t.displayMonth,y)}),l=a===0,c=a===o.length-1,d=e>1&&(l||!c),f=e>1&&(c||!l),p=function(){r&&i(r)},g=function(){s&&i(s)};return h.jsx(VQ,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:g})}function UQ(t){var e,n=it(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:d2,c;return s?c=h.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=h.jsx(DC,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=h.jsxs(h.Fragment,{children:[h.jsx(DC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),h.jsx(OC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=h.jsxs(h.Fragment,{children:[h.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),h.jsx(OC,{displayMonth:t.displayMonth,id:t.id})]}),h.jsx("div",{className:r.caption,style:i.caption,children:c})}function $Q(t){var e=it(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?h.jsx("tfoot",{className:s,style:r.tfoot,children:h.jsx("tr",{children:h.jsx("td",{colSpan:8,children:n})})}):h.jsx(h.Fragment,{})}function BQ(t,e,n){for(var r=n?Pa(new Date):ws(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var o=xn(r,i);s.push(o)}return s}function zQ(){var t=it(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=BQ(s,i,o);return h.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&h.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(d,f){return h.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(d,{locale:s}),children:a(d,{locale:s})},f)})]})}function WQ(){var t,e=it(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:zQ;return h.jsx("thead",{style:r.head,className:n.head,children:h.jsx(i,{})})}function HQ(t){var e=it(),n=e.locale,r=e.formatters.formatDay;return h.jsx(h.Fragment,{children:r(t.date,{locale:n})})}var pb=v.createContext(void 0);function qQ(t){if(!Ah(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return h.jsx(pb.Provider,{value:e,children:t.children})}return h.jsx(KQ,{initialProps:t.initialProps,children:t.children})}function KQ(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,o=function(c,d,f){var p,g;(p=e.onDayClick)===null||p===void 0||p.call(e,c,d,f);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var w=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!w){var E=r?c2([],r):[];if(d.selected){var b=E.findIndex(function(x){return Vn(c,x)});E.splice(b,1)}else E.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,E,c,d,f)}}},a={disabled:[]};r&&a.disabled.push(function(c){var d=i&&r.length>i-1,f=r.some(function(p){return Vn(p,c)});return!!(d&&!f)});var l={selected:r,onDayClick:o,modifiers:a};return h.jsx(pb.Provider,{value:l,children:n})}function mb(){var t=v.useContext(pb);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function GQ(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?Vn(s,t)&&Vn(r,t)?void 0:Vn(s,t)?{from:s,to:void 0}:Vn(r,t)?void 0:dw(r,t)?{from:t,to:s}:{from:r,to:t}:s?dw(t,s)?{from:s,to:t}:{from:t,to:s}:r?um(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var gb=v.createContext(void 0);function QQ(t){if(!Rh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return h.jsx(gb.Provider,{value:e,children:t.children})}return h.jsx(YQ,{initialProps:t.initialProps,children:t.children})}function YQ(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,o=s.to,a=e.min,l=e.max,c=function(g,y,w){var E,b;(E=e.onDayClick)===null||E===void 0||E.call(e,g,y,w);var x=GQ(g,r);(b=e.onSelect)===null||b===void 0||b.call(e,x,g,y,w)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Vn(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),a&&(i&&!o&&d.disabled.push({after:Zv(i,a-1),before:xn(i,a-1)}),i&&o&&d.disabled.push({after:i,before:xn(i,a-1)}),!i&&o&&d.disabled.push({after:Zv(o,a-1),before:xn(o,a-1)})),l){if(i&&!o&&(d.disabled.push({before:xn(i,-l+1)}),d.disabled.push({after:xn(i,l-1)})),i&&o){var f=Lr(o,i)+1,p=l-f;d.disabled.push({before:Zv(i,p)}),d.disabled.push({after:xn(o,p)})}!i&&o&&(d.disabled.push({before:xn(o,-l+1)}),d.disabled.push({after:xn(o,l-1)}))}return h.jsx(gb.Provider,{value:{selected:r,onDayClick:c,modifiers:d},children:n})}function vb(){var t=v.useContext(gb);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function mp(t){return Array.isArray(t)?c2([],t):t!==void 0?[t]:[]}function ZQ(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=mp(s)}),e}var Hr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Hr||(Hr={}));var JQ=Hr.Selected,As=Hr.Disabled,XQ=Hr.Hidden,eY=Hr.Today,gy=Hr.RangeEnd,vy=Hr.RangeMiddle,yy=Hr.RangeStart,tY=Hr.Outside;function nY(t,e,n){var r,s=(r={},r[JQ]=mp(t.selected),r[As]=mp(t.disabled),r[XQ]=mp(t.hidden),r[eY]=[t.today],r[gy]=[],r[vy]=[],r[yy]=[],r[tY]=[],r);return t.fromDate&&s[As].push({before:t.fromDate}),t.toDate&&s[As].push({after:t.toDate}),Ah(t)?s[As]=s[As].concat(e.modifiers[As]):Rh(t)&&(s[As]=s[As].concat(n.modifiers[As]),s[yy]=n.modifiers[yy],s[vy]=n.modifiers[vy],s[gy]=n.modifiers[gy]),s}var p2=v.createContext(void 0);function rY(t){var e=it(),n=mb(),r=vb(),s=nY(e,n,r),i=ZQ(e.modifiers),o=_e(_e({},s),i);return h.jsx(p2.Provider,{value:o,children:t.children})}function m2(){var t=v.useContext(p2);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function sY(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function iY(t){return!!(t&&typeof t=="object"&&"from"in t)}function oY(t){return!!(t&&typeof t=="object"&&"after"in t)}function aY(t){return!!(t&&typeof t=="object"&&"before"in t)}function lY(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function cY(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=Lr(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=Lr(t,r)>=0&&Lr(s,t)>=0;return o}return s?Vn(s,t):r?Vn(r,t):!1}function uY(t){return Bx(t)}function dY(t){return Array.isArray(t)&&t.every(Bx)}function hY(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(uY(n))return Vn(t,n);if(dY(n))return n.includes(t);if(iY(n))return cY(t,n);if(lY(n))return n.dayOfWeek.includes(t.getDay());if(sY(n)){var r=Lr(n.before,t),s=Lr(n.after,t),i=r>0,o=s<0,a=dw(n.before,n.after);return a?o&&i:i||o}return oY(n)?Lr(t,n.after)>0:aY(n)?Lr(n.before,t)>0:typeof n=="function"?n(t):!1})}function yb(t,e,n){var r=Object.keys(e).reduce(function(i,o){var a=e[o];return hY(t,a)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!Hx(t,n)&&(s.outside=!0),s}function fY(t,e){for(var n=Wn(t[0]),r=zx(t[t.length-1]),s,i,o=n;o<=r;){var a=yb(o,e),l=!a.disabled&&!a.hidden;if(!l){o=xn(o,1);continue}if(a.selected)return o;a.today&&!i&&(i=o),s||(s=o),o=xn(o,1)}return i||s}var pY=365;function g2(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=s.weekStartsOn,c=s.fromDate,d=s.toDate,f=s.locale,p={day:xn,week:uw,month:zr,year:uW,startOfWeek:function(E){return s.ISOWeek?Pa(E):ws(E,{locale:f,weekStartsOn:l})},endOfWeek:function(E){return s.ISOWeek?TD(E):Wx(E,{locale:f,weekStartsOn:l})}},g=p[n](t,r==="after"?1:-1);r==="before"&&c?g=dW([c,g]):r==="after"&&d&&(g=hW([d,g]));var y=!0;if(i){var w=yb(g,i);y=!w.disabled&&!w.hidden}return y?g:a.count>pY?a.lastFocused:g2(g,{moveBy:n,direction:r,context:s,modifiers:i,retry:_e(_e({},a),{count:a.count+1})})}var v2=v.createContext(void 0);function mY(t){var e=Nh(),n=m2(),r=v.useState(),s=r[0],i=r[1],o=v.useState(),a=o[0],l=o[1],c=fY(e.displayMonths,n),d=s??(a&&e.isDateDisplayed(a))?a:c,f=function(){l(s),i(void 0)},p=function(E){i(E)},g=it(),y=function(E,b){if(s){var x=g2(s,{moveBy:E,direction:b,context:g,modifiers:n});Vn(s,x)||(e.goToDate(x,s),p(x))}},w={focusedDay:s,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return h.jsx(v2.Provider,{value:w,children:t.children})}function _b(){var t=v.useContext(v2);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function gY(t,e){var n=m2(),r=yb(t,n,e);return r}var wb=v.createContext(void 0);function vY(t){if(!Lg(t.initialProps)){var e={selected:void 0};return h.jsx(wb.Provider,{value:e,children:t.children})}return h.jsx(yY,{initialProps:t.initialProps,children:t.children})}function yY(t){var e=t.initialProps,n=t.children,r=function(i,o,a){var l,c,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,i,o,a),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,i,o,a);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,o,a)},s={selected:e.selected,onDayClick:r};return h.jsx(wb.Provider,{value:s,children:n})}function y2(){var t=v.useContext(wb);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function _Y(t,e){var n=it(),r=y2(),s=mb(),i=vb(),o=_b(),a=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,p=o.focus,g=o.focusMonthBefore,y=o.focusMonthAfter,w=o.focusYearBefore,E=o.focusYearAfter,b=o.focusStartOfWeek,x=o.focusEndOfWeek,T=function(K){var F,z,X,ue;Lg(n)?(F=r.onDayClick)===null||F===void 0||F.call(r,t,e,K):Ah(n)?(z=s.onDayClick)===null||z===void 0||z.call(s,t,e,K):Rh(n)?(X=i.onDayClick)===null||X===void 0||X.call(i,t,e,K):(ue=n.onDayClick)===null||ue===void 0||ue.call(n,t,e,K)},k=function(K){var F;p(t),(F=n.onDayFocus)===null||F===void 0||F.call(n,t,e,K)},D=function(K){var F;f(),(F=n.onDayBlur)===null||F===void 0||F.call(n,t,e,K)},L=function(K){var F;(F=n.onDayMouseEnter)===null||F===void 0||F.call(n,t,e,K)},C=function(K){var F;(F=n.onDayMouseLeave)===null||F===void 0||F.call(n,t,e,K)},S=function(K){var F;(F=n.onDayPointerEnter)===null||F===void 0||F.call(n,t,e,K)},I=function(K){var F;(F=n.onDayPointerLeave)===null||F===void 0||F.call(n,t,e,K)},R=function(K){var F;(F=n.onDayTouchCancel)===null||F===void 0||F.call(n,t,e,K)},O=function(K){var F;(F=n.onDayTouchEnd)===null||F===void 0||F.call(n,t,e,K)},N=function(K){var F;(F=n.onDayTouchMove)===null||F===void 0||F.call(n,t,e,K)},A=function(K){var F;(F=n.onDayTouchStart)===null||F===void 0||F.call(n,t,e,K)},H=function(K){var F;(F=n.onDayKeyUp)===null||F===void 0||F.call(n,t,e,K)},le=function(K){var F;switch(K.key){case"ArrowLeft":K.preventDefault(),K.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":K.preventDefault(),K.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":K.preventDefault(),K.stopPropagation(),c();break;case"ArrowUp":K.preventDefault(),K.stopPropagation(),d();break;case"PageUp":K.preventDefault(),K.stopPropagation(),K.shiftKey?w():g();break;case"PageDown":K.preventDefault(),K.stopPropagation(),K.shiftKey?E():y();break;case"Home":K.preventDefault(),K.stopPropagation(),b();break;case"End":K.preventDefault(),K.stopPropagation(),x();break}(F=n.onDayKeyDown)===null||F===void 0||F.call(n,t,e,K)},ae={onClick:T,onFocus:k,onBlur:D,onKeyDown:le,onKeyUp:H,onMouseEnter:L,onMouseLeave:C,onPointerEnter:S,onPointerLeave:I,onTouchCancel:R,onTouchEnd:O,onTouchMove:N,onTouchStart:A};return ae}function wY(){var t=it(),e=y2(),n=mb(),r=vb(),s=Lg(t)?e.selected:Ah(t)?n.selected:Rh(t)?r.selected:void 0;return s}function xY(t){return Object.values(Hr).includes(t)}function bY(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(xY(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function EY(t,e){var n=_e({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=_e(_e({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function TY(t,e,n){var r,s,i,o=it(),a=_b(),l=gY(t,e),c=_Y(t,l),d=wY(),f=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var L;l.outside||a.focusedDay&&f&&Vn(a.focusedDay,t)&&((L=n.current)===null||L===void 0||L.focus())},[a.focusedDay,t,n,f,l.outside]);var p=bY(o,l).join(" "),g=EY(o,l),y=!!(l.outside&&!o.showOutsideDays||l.hidden),w=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:HQ,E=h.jsx(w,{date:t,displayMonth:e,activeModifiers:l}),b={style:g,className:p,children:E,role:"gridcell"},x=a.focusTarget&&Vn(a.focusTarget,t)&&!l.outside,T=a.focusedDay&&Vn(a.focusedDay,t),k=_e(_e(_e({},b),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=T||x?0:-1,r)),c),D={isButton:f,isHidden:y,activeModifiers:l,selectedDays:d,buttonProps:k,divProps:b};return D}function SY(t){var e=v.useRef(null),n=TY(t.date,t.displayMonth,e);return n.isHidden?h.jsx("div",{role:"gridcell"}):n.isButton?h.jsx(Tm,_e({name:"day",ref:e},n.buttonProps)):h.jsx("div",_e({},n.divProps))}function CY(t){var e=t.number,n=t.dates,r=it(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,d=c(Number(e),{locale:a});if(!s)return h.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=l(Number(e),{locale:a}),p=function(g){s(e,n,g)};return h.jsx(Tm,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:p,children:d})}function kY(t){var e,n,r=it(),s=r.styles,i=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:SY,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:CY,d;return o&&(d=h.jsx("td",{className:i.cell,style:s.cell,children:h.jsx(c,{number:t.weekNumber,dates:t.dates})})),h.jsxs("tr",{className:i.row,style:s.row,children:[d,t.dates.map(function(f){return h.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:h.jsx(l,{displayMonth:t.displayMonth,date:f})},d7(f))})]})}function jC(t,e,n){for(var r=n!=null&&n.ISOWeek?TD(e):Wx(e,n),s=n!=null&&n.ISOWeek?Pa(t):ws(t,n),i=Lr(r,s),o=[],a=0;a<=i;a++)o.push(xn(s,a));var l=o.reduce(function(c,d){var f=n!=null&&n.ISOWeek?CD(d):ID(d,n),p=c.find(function(g){return g.weekNumber===f});return p?(p.dates.push(d),c):(c.push({weekNumber:f,dates:[d]}),c)},[]);return l}function IY(t,e){var n=jC(Wn(t),zx(t),e);if(e!=null&&e.useFixedWeeks){var r=f7(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=uw(i,6-r),a=jC(uw(i,1),o,e);n.push.apply(n,a)}}return n}function PY(t){var e,n,r,s=it(),i=s.locale,o=s.classNames,a=s.styles,l=s.hideHead,c=s.fixedWeeks,d=s.components,f=s.weekStartsOn,p=s.firstWeekContainsDate,g=s.ISOWeek,y=IY(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:i,weekStartsOn:f,firstWeekContainsDate:p}),w=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:WQ,E=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:kY,b=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:$Q;return h.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&h.jsx(w,{}),h.jsx("tbody",{className:o.tbody,style:a.tbody,children:y.map(function(x){return h.jsx(E,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),h.jsx(b,{displayMonth:t.displayMonth})]})}function AY(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var RY=AY()?v.useLayoutEffect:v.useEffect,_y=!1,NY=0;function MC(){return"react-day-picker-".concat(++NY)}function DY(t){var e,n=t??(_y?MC():null),r=v.useState(n),s=r[0],i=r[1];return RY(function(){s===null&&i(MC())},[]),v.useEffect(function(){_y===!1&&(_y=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function OY(t){var e,n,r=it(),s=r.dir,i=r.classNames,o=r.styles,a=r.components,l=Nh().displayMonths,c=DY(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],p=o.month,g=t.displayIndex===0,y=t.displayIndex===l.length-1,w=!g&&!y;s==="rtl"&&(e=[g,y],y=e[0],g=e[1]),g&&(f.push(i.caption_start),p=_e(_e({},p),o.caption_start)),y&&(f.push(i.caption_end),p=_e(_e({},p),o.caption_end)),w&&(f.push(i.caption_between),p=_e(_e({},p),o.caption_between));var E=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:UQ;return h.jsxs("div",{className:f.join(" "),style:p,children:[h.jsx(E,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),h.jsx(PY,{id:d,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function jY(t){var e=it(),n=e.classNames,r=e.styles;return h.jsx("div",{className:n.months,style:r.months,children:t.children})}function MY(t){var e,n,r=t.initialProps,s=it(),i=_b(),o=Nh(),a=v.useState(!1),l=a[0],c=a[1];v.useEffect(function(){s.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),c(!0)))},[s.initialFocus,l,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=_e(_e({},s.styles.root),s.style),p=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,w){var E;return _e(_e({},y),(E={},E[w]=r[w],E))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:jY;return h.jsx("div",_e({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:h.jsx(g,{children:o.displayMonths.map(function(y,w){return h.jsx(OY,{displayIndex:w,displayMonth:y},w)})})}))}function LY(t){var e=t.children,n=aQ(t,["children"]);return h.jsx(CQ,{initialProps:n,children:h.jsx(MQ,{children:h.jsx(vY,{initialProps:n,children:h.jsx(qQ,{initialProps:n,children:h.jsx(QQ,{initialProps:n,children:h.jsx(rY,{children:h.jsx(mY,{children:e})})})})})})})}function FY(t){return h.jsx(LY,_e({},t,{children:h.jsx(MY,{initialProps:t})}))}function kw({className:t,classNames:e,showOutsideDays:n=!0,...r}){return h.jsx(FY,{showOutsideDays:n,className:ce("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ce(hw({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ce(hw({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>h.jsx(vU,{className:"h-4 w-4"}),IconRight:({...s})=>h.jsx(_A,{className:"h-4 w-4"})},...r})}kw.displayName="Calendar";const VY=["top","right","bottom","left"],So=Math.min,Zn=Math.max,Sm=Math.round,Lf=Math.floor,vs=t=>({x:t,y:t}),UY={left:"right",right:"left",bottom:"top",top:"bottom"},$Y={start:"end",end:"start"};function Iw(t,e,n){return Zn(t,So(e,n))}function li(t,e){return typeof t=="function"?t(e):t}function ci(t){return t.split("-")[0]}function zc(t){return t.split("-")[1]}function xb(t){return t==="x"?"y":"x"}function bb(t){return t==="y"?"height":"width"}function Co(t){return["top","bottom"].includes(ci(t))?"y":"x"}function Eb(t){return xb(Co(t))}function BY(t,e,n){n===void 0&&(n=!1);const r=zc(t),s=Eb(t),i=bb(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Cm(o)),[o,Cm(o)]}function zY(t){const e=Cm(t);return[Pw(t),e,Pw(e)]}function Pw(t){return t.replace(/start|end/g,e=>$Y[e])}function WY(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function HY(t,e,n,r){const s=zc(t);let i=WY(ci(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Pw)))),i}function Cm(t){return t.replace(/left|right|bottom|top/g,e=>UY[e])}function qY(t){return{top:0,right:0,bottom:0,left:0,...t}}function _2(t){return typeof t!="number"?qY(t):{top:t,right:t,bottom:t,left:t}}function km(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function LC(t,e,n){let{reference:r,floating:s}=t;const i=Co(e),o=Eb(e),a=bb(o),l=ci(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(zc(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const KY=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=LC(c,r,l),p=r,g={},y=0;for(let w=0;w<a.length;w++){const{name:E,fn:b}=a[w],{x,y:T,data:k,reset:D}=await b({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,f=T??f,g={...g,[E]:{...g[E],...k}},D&&y<=50&&(y++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:f}=LC(c,p,l)),w=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function Kd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=li(e,t),y=_2(g),E=a[p?f==="floating"?"reference":"floating":f],b=km(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},D=km(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:T,strategy:l}):x);return{top:(b.top-D.top+y.top)/k.y,bottom:(D.bottom-b.bottom+y.bottom)/k.y,left:(b.left-D.left+y.left)/k.x,right:(D.right-b.right+y.right)/k.x}}const GY=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=li(t,e)||{};if(c==null)return{};const f=_2(d),p={x:n,y:r},g=Eb(s),y=bb(g),w=await o.getDimensions(c),E=g==="y",b=E?"top":"left",x=E?"bottom":"right",T=E?"clientHeight":"clientWidth",k=i.reference[y]+i.reference[g]-p[g]-i.floating[y],D=p[g]-i.reference[g],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=L?L[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(L)))&&(C=a.floating[T]||i.floating[y]);const S=k/2-D/2,I=C/2-w[y]/2-1,R=So(f[b],I),O=So(f[x],I),N=R,A=C-w[y]-O,H=C/2-w[y]/2+S,le=Iw(N,H,A),ae=!l.arrow&&zc(s)!=null&&H!==le&&i.reference[y]/2-(H<N?R:O)-w[y]/2<0,K=ae?H<N?H-N:H-A:0;return{[g]:p[g]+K,data:{[g]:le,centerOffset:H-le-K,...ae&&{alignmentOffset:K}},reset:ae}}}),QY=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...E}=li(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=ci(s),x=Co(a),T=ci(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(T||!w?[Cm(a)]:zY(a)),L=y!=="none";!p&&L&&D.push(...HY(a,w,y,k));const C=[a,...D],S=await Kd(e,E),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(S[b]),f){const H=BY(s,o,k);I.push(S[H[0]],S[H[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(H=>H<=0)){var O,N;const H=(((O=i.flip)==null?void 0:O.index)||0)+1,le=C[H];if(le)return{data:{index:H,overflows:R},reset:{placement:le}};let ae=(N=R.filter(K=>K.overflows[0]<=0).sort((K,F)=>K.overflows[1]-F.overflows[1])[0])==null?void 0:N.placement;if(!ae)switch(g){case"bestFit":{var A;const K=(A=R.filter(F=>{if(L){const z=Co(F.placement);return z===x||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,X)=>z+X,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:A[0];K&&(ae=K);break}case"initialPlacement":ae=a;break}if(s!==ae)return{reset:{placement:ae}}}return{}}}};function FC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function VC(t){return VY.some(e=>t[e]>=0)}const YY=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=li(t,e);switch(r){case"referenceHidden":{const i=await Kd(e,{...s,elementContext:"reference"}),o=FC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:VC(o)}}}case"escaped":{const i=await Kd(e,{...s,altBoundary:!0}),o=FC(i,n.floating);return{data:{escapedOffsets:o,escaped:VC(o)}}}default:return{}}}}};async function ZY(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ci(n),a=zc(n),l=Co(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=li(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(g=a==="end"?y*-1:y),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const JY=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await ZY(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},XY=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:b,y:x}=E;return{x:b,y:x}}},...l}=li(t,e),c={x:n,y:r},d=await Kd(e,l),f=Co(ci(s)),p=xb(f);let g=c[p],y=c[f];if(i){const E=p==="y"?"top":"left",b=p==="y"?"bottom":"right",x=g+d[E],T=g-d[b];g=Iw(x,g,T)}if(o){const E=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=y+d[E],T=y-d[b];y=Iw(x,y,T)}const w=a.fn({...e,[p]:g,[f]:y});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[f]:o}}}}}},eZ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=li(t,e),d={x:n,y:r},f=Co(s),p=xb(f);let g=d[p],y=d[f];const w=li(a,e),E=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const T=p==="y"?"height":"width",k=i.reference[p]-i.floating[T]+E.mainAxis,D=i.reference[p]+i.reference[T]-E.mainAxis;g<k?g=k:g>D&&(g=D)}if(c){var b,x;const T=p==="y"?"width":"height",k=["top","left"].includes(ci(s)),D=i.reference[f]-i.floating[T]+(k&&((b=o.offset)==null?void 0:b[f])||0)+(k?0:E.crossAxis),L=i.reference[f]+i.reference[T]+(k?0:((x=o.offset)==null?void 0:x[f])||0)-(k?E.crossAxis:0);y<D?y=D:y>L&&(y=L)}return{[p]:g,[f]:y}}}},tZ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=li(t,e),d=await Kd(e,c),f=ci(s),p=zc(s),g=Co(s)==="y",{width:y,height:w}=i.floating;let E,b;f==="top"||f==="bottom"?(E=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,E=p==="end"?"top":"bottom");const x=w-d.top-d.bottom,T=y-d.left-d.right,k=So(w-d[E],x),D=So(y-d[b],T),L=!e.middlewareData.shift;let C=k,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=x),L&&!p){const R=Zn(d.left,0),O=Zn(d.right,0),N=Zn(d.top,0),A=Zn(d.bottom,0);g?S=y-2*(R!==0||O!==0?R+O:Zn(d.left,d.right)):C=w-2*(N!==0||A!==0?N+A:Zn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:C});const I=await o.getDimensions(a.floating);return y!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function Fg(){return typeof window<"u"}function Wc(t){return w2(t)?(t.nodeName||"").toLowerCase():"#document"}function rr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ts(t){var e;return(e=(w2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function w2(t){return Fg()?t instanceof Node||t instanceof rr(t).Node:!1}function qr(t){return Fg()?t instanceof Element||t instanceof rr(t).Element:!1}function Es(t){return Fg()?t instanceof HTMLElement||t instanceof rr(t).HTMLElement:!1}function UC(t){return!Fg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rr(t).ShadowRoot}function Dh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Kr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function nZ(t){return["table","td","th"].includes(Wc(t))}function Vg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Tb(t){const e=Sb(),n=qr(t)?Kr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function rZ(t){let e=ko(t);for(;Es(e)&&!bc(e);){if(Tb(e))return e;if(Vg(e))return null;e=ko(e)}return null}function Sb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bc(t){return["html","body","#document"].includes(Wc(t))}function Kr(t){return rr(t).getComputedStyle(t)}function Ug(t){return qr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ko(t){if(Wc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||UC(t)&&t.host||Ts(t);return UC(e)?e.host:e}function x2(t){const e=ko(t);return bc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Es(e)&&Dh(e)?e:x2(e)}function Gd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=x2(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=rr(s);if(i){const a=Aw(o);return e.concat(o,o.visualViewport||[],Dh(s)?s:[],a&&n?Gd(a):[])}return e.concat(s,Gd(s,[],n))}function Aw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function b2(t){const e=Kr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Es(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Sm(n)!==i||Sm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Cb(t){return qr(t)?t:t.contextElement}function Vl(t){const e=Cb(t);if(!Es(e))return vs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=b2(e);let o=(i?Sm(n.width):n.width)/r,a=(i?Sm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const sZ=vs(0);function E2(t){const e=rr(t);return!Sb()||!e.visualViewport?sZ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function iZ(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==rr(t)?!1:e}function Da(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Cb(t);let o=vs(1);e&&(r?qr(r)&&(o=Vl(r)):o=Vl(t));const a=iZ(i,n,r)?E2(i):vs(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=rr(i),g=r&&qr(r)?rr(r):r;let y=p,w=Aw(y);for(;w&&r&&g!==y;){const E=Vl(w),b=w.getBoundingClientRect(),x=Kr(w),T=b.left+(w.clientLeft+parseFloat(x.paddingLeft))*E.x,k=b.top+(w.clientTop+parseFloat(x.paddingTop))*E.y;l*=E.x,c*=E.y,d*=E.x,f*=E.y,l+=T,c+=k,y=rr(w),w=Aw(y)}}return km({width:d,height:f,x:l,y:c})}function kb(t,e){const n=Ug(t).scrollLeft;return e?e.left+n:Da(Ts(t)).left+n}function T2(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:kb(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function oZ(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ts(r),a=e?Vg(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=vs(1);const d=vs(0),f=Es(r);if((f||!f&&!i)&&((Wc(r)!=="body"||Dh(o))&&(l=Ug(r)),Es(r))){const g=Da(r);c=Vl(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!f&&!i?T2(o,l,!0):vs(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function aZ(t){return Array.from(t.getClientRects())}function lZ(t){const e=Ts(t),n=Ug(t),r=t.ownerDocument.body,s=Zn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Zn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+kb(t);const a=-n.scrollTop;return Kr(r).direction==="rtl"&&(o+=Zn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function cZ(t,e){const n=rr(t),r=Ts(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Sb();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function uZ(t,e){const n=Da(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Es(t)?Vl(t):vs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function $C(t,e,n){let r;if(e==="viewport")r=cZ(t,n);else if(e==="document")r=lZ(Ts(t));else if(qr(e))r=uZ(e,n);else{const s=E2(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return km(r)}function S2(t,e){const n=ko(t);return n===e||!qr(n)||bc(n)?!1:Kr(n).position==="fixed"||S2(n,e)}function dZ(t,e){const n=e.get(t);if(n)return n;let r=Gd(t,[],!1).filter(a=>qr(a)&&Wc(a)!=="body"),s=null;const i=Kr(t).position==="fixed";let o=i?ko(t):t;for(;qr(o)&&!bc(o);){const a=Kr(o),l=Tb(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Dh(o)&&!l&&S2(t,o))?r=r.filter(d=>d!==o):s=a,o=ko(o)}return e.set(t,r),r}function hZ(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Vg(e)?[]:dZ(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=$C(e,d,s);return c.top=Zn(f.top,c.top),c.right=So(f.right,c.right),c.bottom=So(f.bottom,c.bottom),c.left=Zn(f.left,c.left),c},$C(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fZ(t){const{width:e,height:n}=b2(t);return{width:e,height:n}}function pZ(t,e,n){const r=Es(e),s=Ts(e),i=n==="fixed",o=Da(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=vs(0);if(r||!r&&!i)if((Wc(e)!=="body"||Dh(s))&&(a=Ug(e)),r){const p=Da(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=kb(s));const c=s&&!r&&!i?T2(s,a):vs(0),d=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:o.width,height:o.height}}function wy(t){return Kr(t).position==="static"}function BC(t,e){if(!Es(t)||Kr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ts(t)===n&&(n=n.ownerDocument.body),n}function C2(t,e){const n=rr(t);if(Vg(t))return n;if(!Es(t)){let s=ko(t);for(;s&&!bc(s);){if(qr(s)&&!wy(s))return s;s=ko(s)}return n}let r=BC(t,e);for(;r&&nZ(r)&&wy(r);)r=BC(r,e);return r&&bc(r)&&wy(r)&&!Tb(r)?n:r||rZ(t)||n}const mZ=async function(t){const e=this.getOffsetParent||C2,n=this.getDimensions,r=await n(t.floating);return{reference:pZ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gZ(t){return Kr(t).direction==="rtl"}const vZ={convertOffsetParentRelativeRectToViewportRelativeRect:oZ,getDocumentElement:Ts,getClippingRect:hZ,getOffsetParent:C2,getElementRects:mZ,getClientRects:aZ,getDimensions:fZ,getScale:Vl,isElement:qr,isRTL:gZ};function yZ(t,e){let n=null,r;const s=Ts(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const g=Lf(d),y=Lf(s.clientWidth-(c+f)),w=Lf(s.clientHeight-(d+p)),E=Lf(c),x={rootMargin:-g+"px "+-y+"px "+-w+"px "+-E+"px",threshold:Zn(0,So(1,l))||1};let T=!0;function k(D){const L=D[0].intersectionRatio;if(L!==l){if(!T)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(k,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,x)}n.observe(t)}return o(!0),i}function _Z(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Cb(t),d=s||i?[...c?Gd(c):[],...Gd(e)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=c&&a?yZ(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(b=>{let[x]=b;x&&x.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let y,w=l?Da(t):null;l&&E();function E(){const b=Da(t);w&&(b.x!==w.x||b.y!==w.y||b.width!==w.width||b.height!==w.height)&&n(),w=b,y=requestAnimationFrame(E)}return n(),()=>{var b;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(b=g)==null||b.disconnect(),g=null,l&&cancelAnimationFrame(y)}}const wZ=JY,xZ=XY,bZ=QY,EZ=tZ,TZ=YY,zC=GY,SZ=eZ,CZ=(t,e,n)=>{const r=new Map,s={platform:vZ,...n},i={...s.platform,_c:r};return KY(t,e,{...s,platform:i})};var gp=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Im(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Im(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Im(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function k2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function WC(t,e){const n=k2(t);return Math.round(e*n)/n}function xy(t){const e=v.useRef(t);return gp(()=>{e.current=t}),e}function kZ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=v.useState(r);Im(p,r)||g(r);const[y,w]=v.useState(null),[E,b]=v.useState(null),x=v.useCallback(F=>{F!==L.current&&(L.current=F,w(F))},[]),T=v.useCallback(F=>{F!==C.current&&(C.current=F,b(F))},[]),k=i||y,D=o||E,L=v.useRef(null),C=v.useRef(null),S=v.useRef(d),I=l!=null,R=xy(l),O=xy(s),N=xy(c),A=v.useCallback(()=>{if(!L.current||!C.current)return;const F={placement:e,strategy:n,middleware:p};O.current&&(F.platform=O.current),CZ(L.current,C.current,F).then(z=>{const X={...z,isPositioned:N.current!==!1};H.current&&!Im(S.current,X)&&(S.current=X,ah.flushSync(()=>{f(X)}))})},[p,e,n,O,N]);gp(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const H=v.useRef(!1);gp(()=>(H.current=!0,()=>{H.current=!1}),[]),gp(()=>{if(k&&(L.current=k),D&&(C.current=D),k&&D){if(R.current)return R.current(k,D,A);A()}},[k,D,A,R,I]);const le=v.useMemo(()=>({reference:L,floating:C,setReference:x,setFloating:T}),[x,T]),ae=v.useMemo(()=>({reference:k,floating:D}),[k,D]),K=v.useMemo(()=>{const F={position:n,left:0,top:0};if(!ae.floating)return F;const z=WC(ae.floating,d.x),X=WC(ae.floating,d.y);return a?{...F,transform:"translate("+z+"px, "+X+"px)",...k2(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:X}},[n,a,ae.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:A,refs:le,elements:ae,floatingStyles:K}),[d,A,le,ae,K])}const IZ=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?zC({element:r.current,padding:s}).fn(n):{}:r?zC({element:r,padding:s}).fn(n):{}}}},PZ=(t,e)=>({...wZ(t),options:[t,e]}),AZ=(t,e)=>({...xZ(t),options:[t,e]}),RZ=(t,e)=>({...SZ(t),options:[t,e]}),NZ=(t,e)=>({...bZ(t),options:[t,e]}),DZ=(t,e)=>({...EZ(t),options:[t,e]}),OZ=(t,e)=>({...TZ(t),options:[t,e]}),jZ=(t,e)=>({...IZ(t),options:[t,e]});var MZ="Arrow",I2=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(He.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});I2.displayName=MZ;var LZ=I2;function FZ(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...y}=f,w=(p==null?void 0:p[t][l])||a,E=v.useMemo(()=>y,Object.values(y));return h.jsx(w.Provider,{value:E,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,y=v.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,VZ(s,...e)]}function VZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function P2(t){const[e,n]=v.useState(void 0);return po(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ib="Popper",[A2,$g]=FZ(Ib),[UZ,R2]=A2(Ib),N2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return h.jsx(UZ,{scope:e,anchor:r,onAnchorChange:s,children:n})};N2.displayName=Ib;var D2="PopperAnchor",O2=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=R2(D2,n),o=v.useRef(null),a=kt(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(He.div,{...s,ref:a})});O2.displayName=D2;var Pb="PopperContent",[$Z,BZ]=A2(Pb),j2=v.forwardRef((t,e)=>{var bt,Sr,qt,lr,Yr,mi;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:y,...w}=t,E=R2(Pb,n),[b,x]=v.useState(null),T=kt(e,cr=>x(cr)),[k,D]=v.useState(null),L=P2(k),C=(L==null?void 0:L.width)??0,S=(L==null?void 0:L.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(c)?c:[c],N=O.length>0,A={padding:R,boundary:O.filter(WZ),altBoundary:N},{refs:H,floatingStyles:le,placement:ae,isPositioned:K,middlewareData:F}=kZ({strategy:"fixed",placement:I,whileElementsMounted:(...cr)=>_Z(...cr,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[PZ({mainAxis:s+S,alignmentAxis:o}),l&&AZ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?RZ():void 0,...A}),l&&NZ({...A}),DZ({...A,apply:({elements:cr,rects:Ss,availableWidth:Ba,availableHeight:Hc})=>{const{width:Lh,height:j}=Ss.reference,U=cr.floating.style;U.setProperty("--radix-popper-available-width",`${Ba}px`),U.setProperty("--radix-popper-available-height",`${Hc}px`),U.setProperty("--radix-popper-anchor-width",`${Lh}px`),U.setProperty("--radix-popper-anchor-height",`${j}px`)}}),k&&jZ({element:k,padding:a}),HZ({arrowWidth:C,arrowHeight:S}),p&&OZ({strategy:"referenceHidden",...A})]}),[z,X]=F2(ae),ue=Tn(y);po(()=>{K&&(ue==null||ue())},[K,ue]);const Ee=(bt=F.arrow)==null?void 0:bt.x,Ue=(Sr=F.arrow)==null?void 0:Sr.y,It=((qt=F.arrow)==null?void 0:qt.centerOffset)!==0,[rn,Pt]=v.useState();return po(()=>{b&&Pt(window.getComputedStyle(b).zIndex)},[b]),h.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:K?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:rn,"--radix-popper-transform-origin":[(lr=F.transformOrigin)==null?void 0:lr.x,(Yr=F.transformOrigin)==null?void 0:Yr.y].join(" "),...((mi=F.hide)==null?void 0:mi.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx($Z,{scope:n,placedSide:z,onArrowChange:D,arrowX:Ee,arrowY:Ue,shouldHideArrow:It,children:h.jsx(He.div,{"data-side":z,"data-align":X,...w,ref:T,style:{...w.style,animation:K?void 0:"none"}})})})});j2.displayName=Pb;var M2="PopperArrow",zZ={top:"bottom",right:"left",bottom:"top",left:"right"},L2=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=BZ(M2,r),o=zZ[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(LZ,{...s,ref:n,style:{...s.style,display:"block"}})})});L2.displayName=M2;function WZ(t){return t!==null}var HZ=t=>({name:"transformOrigin",options:t,fn(e){var E,b,x;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=F2(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,g=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let y="",w="";return c==="bottom"?(y=o?f:`${p}px`,w=`${-l}px`):c==="top"?(y=o?f:`${p}px`,w=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,w=o?f:`${g}px`):c==="left"&&(y=`${r.floating.width+l}px`,w=o?f:`${g}px`),{data:{x:y,y:w}}}});function F2(t){const[e,n="center"]=t.split("-");return[e,n]}var V2=N2,Ab=O2,U2=j2,$2=L2,Rb="Popover",[B2,$ee]=Ac(Rb,[$g]),Oh=$g(),[qZ,Mo]=B2(Rb),z2=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Oh(e),l=v.useRef(null),[c,d]=v.useState(!1),[f=!1,p]=Rc({prop:r,defaultProp:s,onChange:i});return h.jsx(V2,{...a,children:h.jsx(qZ,{scope:e,contentId:ua(),triggerRef:l,open:f,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:c,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:n})})};z2.displayName=Rb;var W2="PopoverAnchor",KZ=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Mo(W2,n),i=Oh(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return v.useEffect(()=>(o(),()=>a()),[o,a]),h.jsx(Ab,{...i,...r,ref:e})});KZ.displayName=W2;var H2="PopoverTrigger",q2=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Mo(H2,n),i=Oh(n),o=kt(e,s.triggerRef),a=h.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Z2(s.open),...r,ref:o,onClick:pe(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:h.jsx(Ab,{asChild:!0,...i,children:a})});q2.displayName=H2;var Nb="PopoverPortal",[GZ,QZ]=B2(Nb,{forceMount:void 0}),K2=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Mo(Nb,e);return h.jsx(GZ,{scope:e,forceMount:n,children:h.jsx(Gr,{present:n||i.open,children:h.jsx(uh,{asChild:!0,container:s,children:r})})})};K2.displayName=Nb;var Ec="PopoverContent",G2=v.forwardRef((t,e)=>{const n=QZ(Ec,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Mo(Ec,t.__scopePopover);return h.jsx(Gr,{present:r||i.open,children:i.modal?h.jsx(YZ,{...s,ref:e}):h.jsx(ZZ,{...s,ref:e})})});G2.displayName=Ec;var YZ=v.forwardRef((t,e)=>{const n=Mo(Ec,t.__scopePopover),r=v.useRef(null),s=kt(e,r),i=v.useRef(!1);return v.useEffect(()=>{const o=r.current;if(o)return Kx(o)},[]),h.jsx(Sg,{as:ti,allowPinchZoom:!0,children:h.jsx(Q2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:pe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ZZ=v.forwardRef((t,e)=>{const n=Mo(Ec,t.__scopePopover),r=v.useRef(!1),s=v.useRef(!1);return h.jsx(Q2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Q2=v.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=t,p=Mo(Ec,n),g=Oh(n);return qx(),h.jsx(Eg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(ch,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:h.jsx(U2,{"data-state":Z2(p.open),role:"dialog",id:p.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Y2="PopoverClose",JZ=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Mo(Y2,n);return h.jsx(He.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>s.onOpenChange(!1))})});JZ.displayName=Y2;var XZ="PopoverArrow",eJ=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Oh(n);return h.jsx($2,{...s,...r,ref:e})});eJ.displayName=XZ;function Z2(t){return t?"open":"closed"}var tJ=z2,nJ=q2,rJ=K2,J2=G2;const HC=tJ,qC=nJ,Rw=v.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>h.jsx(rJ,{children:h.jsx(J2,{ref:s,align:e,sideOffset:n,className:ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Rw.displayName=J2.displayName;const sJ=Qe.object({location:Qe.string().min(1,{message:"Location is required"}),lastServiceDate:Qe.date().nullable(),nextServiceDate:Qe.date({required_error:"Next service date is required"}),notes:Qe.string().optional()});function X2({open:t,onOpenChange:e,editingUnit:n}){const{toast:r}=Pc(),{user:s}=qn(),i=Ic(),[o,a]=v.useState(!1),l=!!n,c=da({resolver:ha(sJ),defaultValues:{location:"",lastServiceDate:null,nextServiceDate:new Date,notes:""}});v.useEffect(()=>{n?c.reset({location:n.location,lastServiceDate:n.lastServiceDate?new Date(n.lastServiceDate):null,nextServiceDate:new Date(n.nextServiceDate),notes:n.notes||""}):c.reset({location:"",lastServiceDate:null,nextServiceDate:new Date,notes:""})},[n,c]);const d=Hs({mutationFn:async g=>{if(!(s!=null&&s.id))throw new Error("User not authenticated");try{return{id:await Yz(s.id,{location:g.location,lastServiceDate:g.lastServiceDate,nextServiceDate:g.nextServiceDate,notes:g.notes||""}),location:g.location}}catch(y){throw console.error("Error creating AC unit in Firebase:",y),y}},onSuccess:()=>{i.invalidateQueries({queryKey:["ac-units"]}),i.invalidateQueries({queryKey:["dashboard-stats"]}),r({title:"AC unit added",description:`Your ${c.getValues().location} AC unit has been added.`}),e(!1),c.reset()},onError:g=>{r({title:"Error adding AC unit",description:g instanceof Error?g.message:"Something went wrong",variant:"destructive"})}}),f=Hs({mutationFn:async g=>{if(!n||!(s!=null&&s.id))throw new Error("Unit information or user not found");try{return await Zz(s.id,n.id.toString(),{location:g.location,lastServiceDate:g.lastServiceDate,nextServiceDate:g.nextServiceDate,notes:g.notes||""}),{id:n.id,location:g.location}}catch(y){throw console.error("Error updating AC unit in Firebase:",y),y}},onSuccess:()=>{i.invalidateQueries({queryKey:["ac-units"]}),i.invalidateQueries({queryKey:["dashboard-stats"]}),r({title:"AC unit updated",description:`Your ${c.getValues().location} AC unit has been updated.`}),e(!1)},onError:g=>{r({title:"Error updating AC unit",description:g instanceof Error?g.message:"Something went wrong",variant:"destructive"})}});async function p(g){a(!0);try{l?await f.mutateAsync(g):await d.mutateAsync(g)}finally{a(!1)}}return h.jsx(rO,{open:t,onOpenChange:e,children:h.jsxs(Jx,{className:"sm:max-w-[500px]",children:[h.jsxs(Xx,{children:[h.jsx(tb,{children:l?"Edit AC Unit":"Add New AC Unit"}),h.jsx(nb,{children:l?"Edit the details of your air conditioning unit":"Enter the details of your air conditioning unit to track its service schedule."})]}),h.jsx(pa,{...c,children:h.jsxs("form",{onSubmit:c.handleSubmit(p),className:"space-y-4",children:[h.jsx(vt,{control:c.control,name:"location",render:({field:g})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Location"}),h.jsx(ht,{children:h.jsx(Yt,{placeholder:"e.g. Living Room, Office, etc.",...g})}),h.jsx(Lt,{})]})}),h.jsx(vt,{control:c.control,name:"lastServiceDate",render:({field:g})=>h.jsxs(ut,{className:"flex flex-col",children:[h.jsx(dt,{children:"Last Service Date"}),h.jsxs(HC,{children:[h.jsx(qC,{asChild:!0,children:h.jsx(ht,{children:h.jsxs(Ge,{variant:"outline",className:ce("w-full pl-3 text-left font-normal",!g.value&&"text-muted-foreground"),children:[g.value?Hn(g.value,"PPP"):h.jsx("span",{children:"No previous service"}),h.jsx(Ku,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),h.jsx(Rw,{className:"w-auto p-0",align:"start",children:h.jsx(kw,{mode:"single",selected:g.value||void 0,onSelect:g.onChange,disabled:y=>y>new Date,initialFocus:!0})})]}),h.jsx(Lt,{})]})}),h.jsx(vt,{control:c.control,name:"nextServiceDate",render:({field:g})=>h.jsxs(ut,{className:"flex flex-col",children:[h.jsxs(dt,{children:["Next Service Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs(HC,{children:[h.jsx(qC,{asChild:!0,children:h.jsx(ht,{children:h.jsxs(Ge,{variant:"outline",className:ce("w-full pl-3 text-left font-normal",!g.value&&"text-muted-foreground"),children:[g.value?Hn(g.value,"PPP"):h.jsx("span",{children:"Pick a date"}),h.jsx(Ku,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),h.jsx(Rw,{className:"w-auto p-0",align:"start",children:h.jsx(kw,{mode:"single",selected:g.value,onSelect:g.onChange,disabled:y=>y<new Date,initialFocus:!0})})]}),h.jsx(Lt,{})]})}),h.jsx(vt,{control:c.control,name:"notes",render:({field:g})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Additional Notes"}),h.jsx(ht,{children:h.jsx(l2,{placeholder:"Any additional details about this unit",className:"resize-none",...g})}),h.jsx(Lt,{})]})}),h.jsxs(eb,{children:[h.jsx(Ge,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),h.jsx(Ge,{type:"submit",disabled:o,children:o?l?"Updating...":"Adding...":l?"Update Unit":"Add Unit"})]})]})})]})})}function iJ(){const{user:t}=qn(),[e,n]=v.useState(!1),[r,s]=v.useState(null),[i,o]=v.useState([]),[a,l]=v.useState(!0);v.useEffect(()=>{async function f(){if(t!=null&&t.id){l(!0);try{const p=await bg(t.id);o(p||[])}catch(p){console.error("Failed to fetch AC units from Firebase:",p)}finally{l(!1)}}}f()},[t==null?void 0:t.id]);const c=()=>{s(null),n(!0)},d=f=>{s(f),n(!0)};return h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-gray-900",children:"Dashboard"}),h.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Monitor your air conditioning units and upcoming service reminders."})]}),h.jsx(sW,{}),h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your AC Units"}),h.jsxs(Ge,{onClick:c,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 flex items-center",children:[h.jsx(Wp,{className:"w-5 h-5 mr-2"}),"Add New Unit"]})]}),a?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((f,p)=>h.jsxs("div",{className:"bg-white rounded-lg shadow p-5 space-y-4",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("div",{children:[h.jsx(et,{className:"h-6 w-32 mb-1"}),h.jsx(et,{className:"h-4 w-20"})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(et,{className:"h-5 w-5"}),h.jsx(et,{className:"h-5 w-5"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx(et,{className:"h-4 w-24"}),h.jsx(et,{className:"h-4 w-24"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx(et,{className:"h-4 w-24"}),h.jsx(et,{className:"h-4 w-24"})]})]}),h.jsx(et,{className:"h-10 w-full"})]},p))}):i&&i.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(f=>h.jsx(PO,{acUnit:f,userId:(t==null?void 0:t.id)||0,userEmail:(t==null?void 0:t.email)||"",onEdit:d},f.id))}):h.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No AC Units Found"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add your first AC unit to start tracking service dates."}),h.jsxs(Ge,{onClick:c,className:"mt-4",children:[h.jsx(Wp,{className:"w-4 h-4 mr-2"}),"Add Your First AC Unit"]})]}),h.jsx(X2,{open:e,onOpenChange:n,editingUnit:r})]})}const oJ=Xm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Db=v.forwardRef(({className:t,variant:e,...n},r)=>h.jsx("div",{ref:r,role:"alert",className:ce(oJ({variant:e}),t),...n}));Db.displayName="Alert";const aJ=v.forwardRef(({className:t,...e},n)=>h.jsx("h5",{ref:n,className:ce("mb-1 font-medium leading-none tracking-tight",t),...e}));aJ.displayName="AlertTitle";const Ob=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("text-sm [&_p]:leading-relaxed",t),...e}));Ob.displayName="AlertDescription";var lJ="Separator",KC="horizontal",cJ=["horizontal","vertical"],ej=v.forwardRef((t,e)=>{const{decorative:n,orientation:r=KC,...s}=t,i=uJ(r)?r:KC,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return h.jsx(He.div,{"data-orientation":i,...a,...s,ref:e})});ej.displayName=lJ;function uJ(t){return cJ.includes(t)}var tj=ej;const jb=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>h.jsx(tj,{ref:s,decorative:n,orientation:e,className:ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));jb.displayName=tj.displayName;var nj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},GC=be.createContext&&be.createContext(nj),dJ=["attr","size","title"];function hJ(t,e){if(t==null)return{};var n=fJ(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){pJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pJ(t,e,n){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=gJ(t,"string");return typeof e=="symbol"?e:e+""}function gJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rj(t){return t&&t.map((e,n)=>be.createElement(e.tag,Am({key:n},e.attr),rj(e.child)))}function vJ(t){return e=>be.createElement(yJ,Pm({attr:Am({},t.attr)},e),rj(t.child))}function yJ(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=hJ(t,dJ),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),be.createElement("svg",Pm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Am(Am({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&be.createElement("title",null,i),t.children)};return GC!==void 0?be.createElement(GC.Consumer,null,n=>e(n)):e(nj)}function sj(t){return vJ({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const _J=Qe.object({email:Qe.string().email({message:"Please enter a valid email address"}),password:Qe.string().min(6,{message:"Password must be at least 6 characters"})}),wJ=Qe.object({username:Qe.string().min(3,{message:"Username must be at least 3 characters"}),email:Qe.string().email({message:"Please enter a valid email address"}),password:Qe.string().min(6,{message:"Password must be at least 6 characters"}),fullName:Qe.string().optional()});function xJ(){const[t,e]=v.useState(!1),[n,r]=v.useState(!1),{login:s,loginWithGoogleRedirect:i}=qn(),[o,a]=Ma(),l=da({resolver:ha(_J),defaultValues:{email:"",password:""}});async function c(f){e(!0);try{await s(f.email,f.password),a("/")}catch(p){l.setError("root",{message:p instanceof Error?p.message:"Login failed"})}finally{e(!1)}}async function d(){r(!0);try{await i()}catch(f){l.setError("root",{message:f instanceof Error?f.message:"Google sign-in failed"})}finally{r(!1)}}return h.jsxs(yr,{className:"w-full max-w-md",children:[h.jsxs(qs,{className:"space-y-1",children:[h.jsx(Ks,{className:"text-2xl font-bold",children:"Login"}),h.jsx(Gs,{children:"Sign in to access your AC unit service information"})]}),h.jsxs(_r,{className:"space-y-4",children:[l.formState.errors.root&&h.jsxs(Db,{variant:"destructive",className:"mb-4",children:[h.jsx(W0,{className:"h-4 w-4"}),h.jsx(Ob,{children:l.formState.errors.root.message})]}),h.jsx(pa,{...l,children:h.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[h.jsx(vt,{control:l.control,name:"email",render:({field:f})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Email"}),h.jsx(ht,{children:h.jsx(Yt,{placeholder:"name@example.com",type:"email",...f})}),h.jsx(Lt,{})]})}),h.jsx(vt,{control:l.control,name:"password",render:({field:f})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Password"}),h.jsx(ht,{children:h.jsx(Yt,{placeholder:"••••••••",type:"password",...f})}),h.jsx(Lt,{})]})}),h.jsxs(Ge,{type:"submit",className:"w-full",disabled:t,children:[h.jsx(bU,{className:"mr-2 h-4 w-4"}),t?"Signing in...":"Sign In"]})]})}),h.jsx("div",{className:"text-center text-sm",children:h.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",h.jsx(io,{to:"/signup",className:"text-primary hover:underline",children:"Sign up"})]})}),h.jsxs("div",{className:"relative my-4",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx(jb,{className:"w-full"})}),h.jsx("div",{className:"relative flex justify-center",children:h.jsx("span",{className:"bg-background px-2 text-xs text-muted-foreground",children:"Or continue with"})})]}),h.jsxs(Ge,{variant:"outline",type:"button",disabled:n,className:"w-full",onClick:d,children:[h.jsx(sj,{className:"mr-2 h-4 w-4"}),n?"Signing in with Google...":"Sign in with Google"]}),h.jsx("div",{className:"text-center text-sm text-muted-foreground",children:h.jsx("p",{children:"By logging in, you agree to our Terms of Service and Privacy Policy."})})]}),h.jsx(q0,{className:"flex flex-col items-center",children:h.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Need help?"," ",h.jsx("a",{href:"mailto:support@cooltrack.com",className:"text-primary hover:underline",children:"Contact Support"})]})})]})}function bJ(){const[t,e]=v.useState(!1),[n,r]=v.useState(!1),{signup:s,loginWithGoogleRedirect:i}=qn(),[o,a]=Ma(),l=da({resolver:ha(wJ),defaultValues:{username:"",email:"",password:"",fullName:""}});async function c(f){e(!0);try{await s({username:f.username,email:f.email,password:f.password,fullName:f.fullName||f.username}),a("/")}catch(p){l.setError("root",{message:p instanceof Error?p.message:"Signup failed"})}finally{e(!1)}}async function d(){r(!0);try{await i()}catch(f){l.setError("root",{message:f instanceof Error?f.message:"Google sign-in failed"})}finally{r(!1)}}return h.jsxs(yr,{className:"w-full max-w-md",children:[h.jsxs(qs,{className:"space-y-1",children:[h.jsx(Ks,{className:"text-2xl font-bold",children:"Create an Account"}),h.jsx(Gs,{children:"Sign up to start tracking your AC unit service information"})]}),h.jsxs(_r,{className:"space-y-4",children:[l.formState.errors.root&&h.jsxs(Db,{variant:"destructive",className:"mb-4",children:[h.jsx(W0,{className:"h-4 w-4"}),h.jsx(Ob,{children:l.formState.errors.root.message})]}),h.jsx(pa,{...l,children:h.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[h.jsx(vt,{control:l.control,name:"username",render:({field:f})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Username"}),h.jsx(ht,{children:h.jsx(Yt,{placeholder:"username",...f})}),h.jsx(Lt,{})]})}),h.jsx(vt,{control:l.control,name:"fullName",render:({field:f})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Full Name (Optional)"}),h.jsx(ht,{children:h.jsx(Yt,{placeholder:"John Doe",...f})}),h.jsx(Lt,{})]})}),h.jsx(vt,{control:l.control,name:"email",render:({field:f})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Email"}),h.jsx(ht,{children:h.jsx(Yt,{placeholder:"name@example.com",type:"email",...f})}),h.jsx(Lt,{})]})}),h.jsx(vt,{control:l.control,name:"password",render:({field:f})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Password"}),h.jsx(ht,{children:h.jsx(Yt,{placeholder:"••••••••",type:"password",...f})}),h.jsx(Lt,{})]})}),h.jsxs(Ge,{type:"submit",className:"w-full",disabled:t,children:[h.jsx(AU,{className:"mr-2 h-4 w-4"}),t?"Creating Account...":"Create Account"]})]})}),h.jsx("div",{className:"text-center text-sm",children:h.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",h.jsx(io,{to:"/login",className:"text-primary hover:underline",children:"Sign in"})]})}),h.jsxs("div",{className:"relative my-4",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx(jb,{className:"w-full"})}),h.jsx("div",{className:"relative flex justify-center",children:h.jsx("span",{className:"bg-background px-2 text-xs text-muted-foreground",children:"Or continue with"})})]}),h.jsxs(Ge,{variant:"outline",type:"button",disabled:n,className:"w-full",onClick:d,children:[h.jsx(sj,{className:"mr-2 h-4 w-4"}),n?"Signing up with Google...":"Sign up with Google"]}),h.jsx("div",{className:"text-center text-sm text-muted-foreground",children:h.jsx("p",{children:"By signing up, you agree to our Terms of Service and Privacy Policy."})})]}),h.jsx(q0,{className:"flex flex-col items-center",children:h.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Need help?"," ",h.jsx("a",{href:"mailto:support@cooltrack.com",className:"text-primary hover:underline",children:"Contact Support"})]})})]})}function EJ(){const{user:t}=qn(),[e,n]=Ma();return v.useEffect(()=>{t&&n("/")},[t,n]),h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsxs("h1",{className:"text-3xl font-bold",children:[h.jsx("span",{className:"text-primary",children:"Cool"}),h.jsx("span",{className:"text-gray-900",children:"Track"})]}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Track and remind yourself of AC service dates"})]}),h.jsx(xJ,{})]})})}function TJ(){const{user:t}=qn(),[e,n]=Ma();return v.useEffect(()=>{t&&n("/")},[t,n]),h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsxs("h1",{className:"text-3xl font-bold",children:[h.jsx("span",{className:"text-primary",children:"Cool"}),h.jsx("span",{className:"text-gray-900",children:"Track"})]}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Create an account to track your AC service dates"})]}),h.jsx(bJ,{})]})})}function SJ(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Mb="Switch",[CJ,Bee]=Ac(Mb),[kJ,IJ]=CJ(Mb),ij=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...f}=t,[p,g]=v.useState(null),y=kt(e,T=>g(T)),w=v.useRef(!1),E=p?d||!!p.closest("form"):!0,[b=!1,x]=Rc({prop:s,defaultProp:i,onChange:c});return h.jsxs(kJ,{scope:n,checked:b,disabled:a,children:[h.jsx(He.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":lj(b),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:y,onClick:pe(t.onClick,T=>{x(k=>!k),E&&(w.current=T.isPropagationStopped(),w.current||T.stopPropagation())})}),E&&h.jsx(PJ,{control:p,bubbles:!w.current,name:r,value:l,checked:b,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});ij.displayName=Mb;var oj="SwitchThumb",aj=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=IJ(oj,n);return h.jsx(He.span,{"data-state":lj(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});aj.displayName=oj;var PJ=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=v.useRef(null),o=SJ(n),a=P2(e);return v.useEffect(()=>{const l=i.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&f){const p=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(p)}},[o,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function lj(t){return t?"checked":"unchecked"}var cj=ij,AJ=aj;const Qd=v.forwardRef(({className:t,...e},n)=>h.jsx(cj,{className:ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(AJ,{className:ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qd.displayName=cj.displayName;const RJ=Qe.object({username:Qe.string().min(3,{message:"Username must be at least 3 characters"}),email:Qe.string().email({message:"Please enter a valid email address"}),fullName:Qe.string().optional(),phone:Qe.string().optional()}),NJ=Qe.object({currentPassword:Qe.string().min(1,{message:"Current password is required"}),newPassword:Qe.string().min(6,{message:"Password must be at least 6 characters"}),confirmPassword:Qe.string()}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),DJ=Qe.object({emailEnabled:Qe.boolean(),smsEnabled:Qe.boolean(),daysBeforeService:Qe.number().min(1).max(30)});function OJ(){const{user:t,updateProfile:e}=qn(),[n,r]=v.useState(!1),[s,i]=v.useState(!1),{toast:o}=Pc(),a=Ic(),{data:l,isLoading:c}=$F({queryKey:["/api/notification-preferences"]}),d=da({resolver:ha(RJ),defaultValues:{username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||"",fullName:(t==null?void 0:t.fullName)||"",phone:(t==null?void 0:t.phone)||""}}),f=da({resolver:ha(NJ),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),p=da({resolver:ha(DJ),defaultValues:{emailEnabled:(l==null?void 0:l.emailEnabled)||!0,smsEnabled:(l==null?void 0:l.smsEnabled)||!1,daysBeforeService:(l==null?void 0:l.daysBeforeService)||7}});v.useEffect(()=>{l&&p.reset({emailEnabled:l.emailEnabled,smsEnabled:l.smsEnabled,daysBeforeService:l.daysBeforeService})},[l,p]);const g=Hs({mutationFn:async T=>{await e(T)},onSuccess:()=>{o({title:"Profile updated",description:"Your profile has been successfully updated."}),r(!1)},onError:T=>{o({title:"Error updating profile",description:T instanceof Error?T.message:"Something went wrong",variant:"destructive"})}}),y=Hs({mutationFn:async T=>{await cw("PATCH","/api/users/me",{password:T.newPassword})},onSuccess:()=>{o({title:"Password updated",description:"Your password has been successfully changed."}),i(!1),f.reset()},onError:T=>{o({title:"Error changing password",description:T instanceof Error?T.message:"Something went wrong",variant:"destructive"})}}),w=Hs({mutationFn:async T=>(await cw("PATCH","/api/notification-preferences",T)).json(),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/notification-preferences"]}),o({title:"Notification preferences updated",description:"Your notification preferences have been saved."})},onError:T=>{o({title:"Error updating notification preferences",description:T instanceof Error?T.message:"Something went wrong",variant:"destructive"})}}),E=async T=>{g.mutate(T)},b=async T=>{y.mutate(T)},x=async T=>{w.mutate(T)};return t?h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-gray-900",children:"Your Profile"}),h.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Manage your account information and preferences."})]}),h.jsxs(yr,{className:"mb-8",children:[h.jsxs(qs,{className:"flex flex-row items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(Ks,{children:"Personal Information"}),h.jsx(Gs,{children:"Update your personal details"})]}),!n&&h.jsx(Ge,{onClick:()=>r(!0),className:"ml-auto",children:"Edit Profile"})]}),h.jsx(_r,{children:n?h.jsx(pa,{...d,children:h.jsxs("form",{onSubmit:d.handleSubmit(E),className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(vt,{control:d.control,name:"username",render:({field:T})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Username"}),h.jsx(ht,{children:h.jsx(Yt,{...T})}),h.jsx(Lt,{})]})}),h.jsx(vt,{control:d.control,name:"email",render:({field:T})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Email"}),h.jsx(ht,{children:h.jsx(Yt,{type:"email",...T})}),h.jsx(Lt,{})]})}),h.jsx(vt,{control:d.control,name:"fullName",render:({field:T})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Full Name"}),h.jsx(ht,{children:h.jsx(Yt,{...T})}),h.jsx(Lt,{})]})}),h.jsx(vt,{control:d.control,name:"phone",render:({field:T})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Phone Number"}),h.jsx(ht,{children:h.jsx(Yt,{...T})}),h.jsx(Lt,{})]})})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx(Ge,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),h.jsx(Ge,{type:"submit",disabled:g.isPending,children:g.isPending?"Saving...":"Save Changes"})]})]})}):h.jsxs("dl",{className:"divide-y divide-gray-100",children:[h.jsxs("div",{className:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[h.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Full name"}),h.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.fullName||"Not set"})]}),h.jsxs("div",{className:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[h.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Username"}),h.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.username})]}),h.jsxs("div",{className:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[h.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email address"}),h.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.email})]}),h.jsxs("div",{className:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[h.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone number"}),h.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.phone||"Not set"})]}),h.jsxs("div",{className:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[h.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Account created"}),h.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})})]}),h.jsxs(yr,{className:"mb-8",children:[h.jsxs(qs,{className:"flex flex-row items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(Ks,{children:"Password"}),h.jsx(Gs,{children:"Change your account password"})]}),!s&&h.jsx(Ge,{onClick:()=>i(!0),className:"ml-auto",children:"Change Password"})]}),s&&h.jsx(_r,{children:h.jsx(pa,{...f,children:h.jsxs("form",{onSubmit:f.handleSubmit(b),className:"space-y-6",children:[h.jsx(vt,{control:f.control,name:"currentPassword",render:({field:T})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Current Password"}),h.jsx(ht,{children:h.jsx(Yt,{type:"password",...T})}),h.jsx(Lt,{})]})}),h.jsx(vt,{control:f.control,name:"newPassword",render:({field:T})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"New Password"}),h.jsx(ht,{children:h.jsx(Yt,{type:"password",...T})}),h.jsx(Lt,{})]})}),h.jsx(vt,{control:f.control,name:"confirmPassword",render:({field:T})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Confirm New Password"}),h.jsx(ht,{children:h.jsx(Yt,{type:"password",...T})}),h.jsx(Lt,{})]})}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx(Ge,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),h.jsx(Ge,{type:"submit",disabled:y.isPending,children:y.isPending?"Changing...":"Change Password"})]})]})})})]}),h.jsxs(yr,{children:[h.jsxs(qs,{children:[h.jsx(Ks,{children:"Notification Preferences"}),h.jsx(Gs,{children:"Manage how and when you receive reminders"})]}),h.jsx(_r,{children:c?h.jsxs("div",{className:"space-y-4",children:[h.jsx(et,{className:"h-10 w-full"}),h.jsx(et,{className:"h-10 w-full"}),h.jsx(et,{className:"h-10 w-full"})]}):h.jsx(pa,{...p,children:h.jsxs("form",{onSubmit:p.handleSubmit(x),className:"space-y-6",children:[h.jsx(vt,{control:p.control,name:"emailEnabled",render:({field:T})=>h.jsxs(ut,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(dt,{className:"text-base",children:"Email Notifications"}),h.jsx(ma,{children:"Receive service reminders via email"})]}),h.jsx(ht,{children:h.jsx(Qd,{checked:T.value,onCheckedChange:T.onChange})})]})}),h.jsx(vt,{control:p.control,name:"smsEnabled",render:({field:T})=>h.jsxs(ut,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(dt,{className:"text-base",children:"SMS Notifications"}),h.jsx(ma,{children:"Receive service reminders via text message"})]}),h.jsx(ht,{children:h.jsx(Qd,{checked:T.value,onCheckedChange:T.onChange})})]})}),h.jsx(vt,{control:p.control,name:"daysBeforeService",render:({field:T})=>h.jsxs(ut,{children:[h.jsx(dt,{children:"Days before service to send reminder"}),h.jsx(ht,{children:h.jsx(Yt,{type:"number",min:1,max:30,...T,onChange:k=>T.onChange(parseInt(k.target.value))})}),h.jsx(ma,{children:"You will receive reminders this many days before the scheduled service date."}),h.jsx(Lt,{})]})}),h.jsx(Ge,{type:"submit",disabled:w.isPending,children:w.isPending?"Saving...":"Save Preferences"})]})})})]})]}):h.jsx("div",{children:"Loading..."})}function jJ(){const{user:t}=qn(),[e,n]=v.useState(!1),[r,s]=v.useState(null),[i,o]=v.useState(""),[a,l]=v.useState([]),[c,d]=v.useState(!0);v.useEffect(()=>{async function E(){if(t!=null&&t.id){d(!0);try{const b=await bg(t.id);l(b||[])}catch(b){console.error("Failed to fetch AC units from Firebase:",b)}finally{d(!1)}}}E()},[t==null?void 0:t.id]);const f=c,p=a,g=()=>{s(null),n(!0)},y=E=>{s(E),n(!0)},w=p.filter(E=>E.location.toLowerCase().includes(i.toLowerCase()));return h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-gray-900",children:"AC Units"}),h.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Manage all your air conditioning units in one place."})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[h.jsxs("div",{className:"relative w-full sm:w-auto",children:[h.jsx(kU,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),h.jsx(Yt,{placeholder:"Search units...",className:"pl-8 w-full sm:w-[300px]",value:i,onChange:E=>o(E.target.value)})]}),h.jsxs(Ge,{onClick:g,className:"w-full sm:w-auto px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 flex items-center justify-center",children:[h.jsx(Wp,{className:"w-5 h-5 mr-2"}),"Add New Unit"]})]}),f?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((E,b)=>h.jsxs("div",{className:"bg-white rounded-lg shadow p-5 space-y-4",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("div",{children:[h.jsx(et,{className:"h-6 w-32 mb-1"}),h.jsx(et,{className:"h-4 w-20"})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(et,{className:"h-5 w-5"}),h.jsx(et,{className:"h-5 w-5"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx(et,{className:"h-4 w-24"}),h.jsx(et,{className:"h-4 w-24"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx(et,{className:"h-4 w-24"}),h.jsx(et,{className:"h-4 w-24"})]})]}),h.jsx(et,{className:"h-10 w-full"})]},b))}):w&&w.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(E=>h.jsx(PO,{acUnit:E,userId:(t==null?void 0:t.id)||0,userEmail:(t==null?void 0:t.email)||"",onEdit:y},E.id))}):h.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:i?h.jsxs(h.Fragment,{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No Matching AC Units"}),h.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:['No units found matching "',i,'".']}),h.jsx(Ge,{onClick:()=>o(""),variant:"outline",className:"mt-4",children:"Clear Search"})]}):h.jsxs(h.Fragment,{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No AC Units Found"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add your first AC unit to start tracking service dates."}),h.jsxs(Ge,{onClick:g,className:"mt-4",children:[h.jsx(Wp,{className:"w-4 h-4 mr-2"}),"Add Your First AC Unit"]})]})}),h.jsx(X2,{open:e,onOpenChange:n,editingUnit:r})]})}const Nw=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:ce("w-full caption-bottom text-sm",t),...e})}));Nw.displayName="Table";const Dw=v.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:ce("[&_tr]:border-b",t),...e}));Dw.displayName="TableHeader";const Ow=v.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:ce("[&_tr:last-child]:border-0",t),...e}));Ow.displayName="TableBody";const MJ=v.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));MJ.displayName="TableFooter";const ju=v.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ju.displayName="TableRow";const Ir=v.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ir.displayName="TableHead";const Pr=v.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Pr.displayName="TableCell";const LJ=v.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:ce("mt-4 text-sm text-muted-foreground",t),...e}));LJ.displayName="TableCaption";const FJ=Qe.object({emailEnabled:Qe.boolean(),smsEnabled:Qe.boolean(),daysBeforeService:Qe.number().min(1).max(30)});function VJ(){const{user:t}=qn(),{toast:e}=Pc();Ic();const[n,r]=v.useState([]),[s,i]=v.useState(null),[o,a]=v.useState(!0),[l,c]=v.useState(!0);v.useEffect(()=>{async function k(){if(t!=null&&t.id){a(!0),c(!0);try{const D=await bg(t.id);r(D||[]);const L=await eW(t.id);i({id:"1",userId:t.id,emailEnabled:L.emailEnabled,smsEnabled:L.smsEnabled,daysBeforeService:L.daysBeforeService})}catch(D){console.error("Failed to fetch data from Firebase:",D)}finally{a(!1),c(!1)}}}k()},[t==null?void 0:t.id]);const d=da({resolver:ha(FJ),defaultValues:{emailEnabled:(s==null?void 0:s.emailEnabled)||!0,smsEnabled:(s==null?void 0:s.smsEnabled)||!1,daysBeforeService:(s==null?void 0:s.daysBeforeService)||7}});v.useEffect(()=>{s&&d.reset({emailEnabled:s.emailEnabled,smsEnabled:s.smsEnabled,daysBeforeService:s.daysBeforeService})},[s,d]);const f=Hs({mutationFn:async k=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");return await Xz(t.id,{emailEnabled:k.emailEnabled,smsEnabled:k.smsEnabled,daysBeforeService:k.daysBeforeService}),i(D=>D?{...D,emailEnabled:k.emailEnabled,smsEnabled:k.smsEnabled,daysBeforeService:k.daysBeforeService}:null),k},onSuccess:()=>{e({title:"Notification preferences updated",description:"Your reminder settings have been saved."})},onError:k=>{e({title:"Error updating preferences",description:k instanceof Error?k.message:"Something went wrong",variant:"destructive"})}}),p=Hs({mutationFn:async({acUnitId:k,location:D,nextServiceDate:L})=>await nW((t==null?void 0:t.id)||"",k,(t==null?void 0:t.email)||"",(t==null?void 0:t.fullName)||(t==null?void 0:t.username)||"",D,new Date(L)),onSuccess:()=>{e({title:"Service Reminder Sent",description:"An email reminder has been sent to your email address and the reminder has been logged."})},onError:k=>{e({title:"Error sending reminder",description:k instanceof Error?k.message:"Something went wrong",variant:"destructive"})}}),g=async k=>{f.mutate(k)},y=n?[...n].sort((k,D)=>{const L=new Date(k.nextServiceDate),C=new Date(D.nextServiceDate);return L.getTime()-C.getTime()}):[],w=new Date,E=y.filter(k=>um(new Date(k.nextServiceDate),w)),b=y.filter(k=>{const D=new Date(k.nextServiceDate),L=up(D,w);return!um(D,w)&&L<=30}),x=[...E,...b],T=k=>{p.mutate({acUnitId:k.id,location:k.location,nextServiceDate:k.nextServiceDate})};return h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-gray-900",children:"Service Reminders"}),h.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Manage and track upcoming air conditioning service reminders."})]}),h.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:h.jsxs("div",{className:"flex",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),h.jsx("div",{className:"ml-3",children:h.jsxs("p",{className:"text-sm text-green-700",children:[h.jsx("strong",{children:"Email Notification System:"})," You can now send real email notifications to remind yourself about upcoming air conditioning service appointments. Emails will be sent to your registered email address."]})})]})}),h.jsxs(yr,{className:"mb-8",children:[h.jsxs(qs,{children:[h.jsxs(Ks,{className:"flex items-center",children:[h.jsx(vA,{className:"mr-2 h-5 w-5 text-primary"}),"Reminder Settings"]}),h.jsx(Gs,{children:"Configure how and when you want to receive service reminders"})]}),h.jsx(_r,{children:l?h.jsxs("div",{className:"space-y-4",children:[h.jsx(et,{className:"h-10 w-full"}),h.jsx(et,{className:"h-10 w-full"}),h.jsx(et,{className:"h-10 w-full"})]}):h.jsx(pa,{...d,children:h.jsxs("form",{onSubmit:d.handleSubmit(g),className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(vt,{control:d.control,name:"emailEnabled",render:({field:k})=>h.jsxs(ut,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsxs(dt,{className:"text-base flex items-center",children:[h.jsx(EU,{className:"mr-2 h-4 w-4 text-primary"}),"Email Notifications"]}),h.jsx(ma,{children:"Receive service reminders via email"})]}),h.jsx(ht,{children:h.jsx(Qd,{checked:k.value,onCheckedChange:k.onChange})})]})}),h.jsx(vt,{control:d.control,name:"smsEnabled",render:({field:k})=>h.jsxs(ut,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsxs(dt,{className:"text-base flex items-center",children:[h.jsx(SU,{className:"mr-2 h-4 w-4 text-primary"}),"SMS Notifications"]}),h.jsx(ma,{children:"Receive service reminders via text message"})]}),h.jsx(ht,{children:h.jsx(Qd,{checked:k.value,onCheckedChange:k.onChange})})]})})]}),h.jsx(vt,{control:d.control,name:"daysBeforeService",render:({field:k})=>h.jsxs(ut,{children:[h.jsxs(dt,{className:"flex items-center",children:[h.jsx(Ku,{className:"mr-2 h-4 w-4 text-primary"}),"Send reminders before service date"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ht,{children:h.jsx("input",{type:"range",min:"1",max:"30",className:"w-full",value:k.value,onChange:D=>k.onChange(parseInt(D.target.value))})}),h.jsx("span",{className:"font-medium w-10 text-center",children:k.value}),h.jsx("span",{className:"text-gray-500",children:"days"})]}),h.jsx(ma,{children:"You will be notified this many days before the scheduled service date."})]})}),h.jsx("div",{className:"flex justify-end",children:h.jsx(Ge,{type:"submit",disabled:f.isPending,children:f.isPending?"Saving...":"Save Settings"})})]})})})]}),h.jsxs(yr,{className:"mb-8",children:[h.jsxs(qs,{children:[h.jsxs(Ks,{className:"flex items-center",children:[h.jsx(j_,{className:"mr-2 h-5 w-5 text-yellow-500"}),"Units Needing Attention"]}),h.jsx(Gs,{children:"AC units that require service soon or are overdue"})]}),h.jsx(_r,{children:o?h.jsx("div",{className:"space-y-2",children:[...Array(3)].map((k,D)=>h.jsx(et,{className:"h-16 w-full"},D))}):x.length>0?h.jsxs(Nw,{children:[h.jsx(Dw,{children:h.jsxs(ju,{children:[h.jsx(Ir,{children:"Location"}),h.jsx(Ir,{children:"Status"}),h.jsx(Ir,{children:"Service Date"}),h.jsx(Ir,{children:"Time Left"}),h.jsx(Ir,{className:"text-right",children:"Action"})]})}),h.jsx(Ow,{children:x.map(k=>{const D=new Date(k.nextServiceDate),L=up(D,w),C=L<0;return h.jsxs(ju,{children:[h.jsx(Pr,{className:"font-medium",children:k.location}),h.jsx(Pr,{children:C?h.jsxs("span",{className:"inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800",children:[h.jsx(j_,{className:"mr-1 h-3 w-3"}),"Overdue"]}):L<=7?h.jsxs("span",{className:"inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800",children:[h.jsx(O_,{className:"mr-1 h-3 w-3"}),"Urgent"]}):h.jsxs("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800",children:[h.jsx(Ku,{className:"mr-1 h-3 w-3"}),"Upcoming"]})}),h.jsx(Pr,{children:Hn(D,"MMM dd, yyyy")}),h.jsx(Pr,{children:C?h.jsxs("span",{className:"text-red-600 font-medium",children:[Math.abs(L)," days overdue"]}):h.jsxs("span",{className:L<=7?"text-yellow-600 font-medium":"",children:[L," days remaining"]})}),h.jsx(Pr,{className:"text-right",children:h.jsx(Ge,{variant:"outline",size:"sm",className:C?"text-xs bg-red-100 hover:bg-red-200 text-red-800 border-red-200":L<=7?"text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-800 border-yellow-200":"text-xs bg-primary-100 hover:bg-primary-200 text-primary-800 border-primary-200",onClick:()=>T(k),disabled:p.isPending,children:C?"Send Overdue Reminder":"Send Reminder"})})]},k.id)})})]}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:h.jsx(yA,{className:"h-6 w-6 text-green-600"})}),h.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"All Units Up to Date"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have any AC units that need immediate attention."})]})})]}),h.jsxs(yr,{children:[h.jsxs(qs,{children:[h.jsxs(Ks,{className:"flex items-center",children:[h.jsx(Ku,{className:"mr-2 h-5 w-5 text-primary"}),"All Service Schedules"]}),h.jsx(Gs,{children:"Complete list of all your AC units and their service dates"})]}),h.jsx(_r,{children:o?h.jsx("div",{className:"space-y-2",children:[...Array(5)].map((k,D)=>h.jsx(et,{className:"h-16 w-full"},D))}):y.length>0?h.jsxs(Nw,{children:[h.jsx(Dw,{children:h.jsxs(ju,{children:[h.jsx(Ir,{children:"Location"}),h.jsx(Ir,{children:"Last Service"}),h.jsx(Ir,{children:"Next Service"}),h.jsx(Ir,{children:"Remaining Time"}),h.jsx(Ir,{className:"text-right",children:"Action"})]})}),h.jsx(Ow,{children:y.map(k=>{const D=new Date(k.nextServiceDate),L=up(D,w),C=L<0;return h.jsxs(ju,{children:[h.jsx(Pr,{className:"font-medium",children:k.location}),h.jsx(Pr,{children:k.lastServiceDate?Hn(new Date(k.lastServiceDate),"MMM dd, yyyy"):"Not available"}),h.jsx(Pr,{children:Hn(D,"MMM dd, yyyy")}),h.jsx(Pr,{children:C?h.jsxs("span",{className:"text-red-600 font-medium",children:[Math.abs(L)," days overdue"]}):h.jsxs("span",{className:L<=7?"text-yellow-600 font-medium":"",children:[L," days remaining"]})}),h.jsx(Pr,{className:"text-right",children:h.jsx(Ge,{variant:"outline",size:"sm",className:C?"text-xs bg-red-100 hover:bg-red-200 text-red-800 border-red-200":L<=7?"text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-800 border-yellow-200":"text-xs bg-primary-100 hover:bg-primary-200 text-primary-800 border-primary-200",onClick:()=>T(k),disabled:p.isPending,children:C?"Send Overdue Reminder":"Send Reminder"})})]},k.id)})})]}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"No AC Units Found"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have any AC units yet. Add one from the dashboard to start tracking service dates."})]})})]})]})}var UJ=v.createContext(void 0);function uj(t){const e=v.useContext(UJ);return t||e||"ltr"}function $J(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...y}=f,w=(p==null?void 0:p[t][l])||a,E=v.useMemo(()=>y,Object.values(y));return h.jsx(w.Provider,{value:E,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,y=v.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,BJ(s,...e)]}function BJ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var by="rovingFocusGroup.onEntryFocus",zJ={bubbles:!1,cancelable:!0},Bg="RovingFocusGroup",[jw,dj,WJ]=F0(Bg),[HJ,hj]=$J(Bg,[WJ]),[qJ,KJ]=HJ(Bg),fj=v.forwardRef((t,e)=>h.jsx(jw.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(jw.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(GJ,{...t,ref:e})})}));fj.displayName=Bg;var GJ=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=v.useRef(null),g=kt(e,p),y=uj(i),[w=null,E]=Rc({prop:o,defaultProp:a,onChange:l}),[b,x]=v.useState(!1),T=Tn(c),k=dj(n),D=v.useRef(!1),[L,C]=v.useState(0);return v.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(by,T),()=>S.removeEventListener(by,T)},[T]),h.jsx(qJ,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:w,onItemFocus:v.useCallback(S=>E(S),[E]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:v.useCallback(()=>C(S=>S-1),[]),children:h.jsx(He.div,{tabIndex:b||L===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{D.current=!0}),onFocus:pe(t.onFocus,S=>{const I=!D.current;if(S.target===S.currentTarget&&I&&!b){const R=new CustomEvent(by,zJ);if(S.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=k().filter(ae=>ae.focusable),N=O.find(ae=>ae.active),A=O.find(ae=>ae.id===w),le=[N,A,...O].filter(Boolean).map(ae=>ae.ref.current);gj(le,d)}}D.current=!1}),onBlur:pe(t.onBlur,()=>x(!1))})})}),pj="RovingFocusGroupItem",mj=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=ua(),l=i||a,c=KJ(pj,n),d=c.currentTabStopId===l,f=dj(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return v.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),h.jsx(jw.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:h.jsx(He.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:pe(t.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:pe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:pe(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=ZJ(y,c.orientation,c.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=f().filter(x=>x.focusable).map(x=>x.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const x=b.indexOf(y.currentTarget);b=c.loop?JJ(b,x+1):b.slice(x+1)}setTimeout(()=>gj(b))}})})})});mj.displayName=pj;var QJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YJ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ZJ(t,e,n){const r=YJ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return QJ[r]}function gj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function JJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var XJ=fj,eX=mj,Mw=["Enter"," "],tX=["ArrowDown","PageUp","Home"],vj=["ArrowUp","PageDown","End"],nX=[...tX,...vj],rX={ltr:[...Mw,"ArrowRight"],rtl:[...Mw,"ArrowLeft"]},sX={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jh="Menu",[Yd,iX,oX]=F0(jh),[Ua,yj]=Ac(jh,[oX,$g,hj]),zg=$g(),_j=hj(),[aX,$a]=Ua(jh),[lX,Mh]=Ua(jh),wj=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=zg(e),[l,c]=v.useState(null),d=v.useRef(!1),f=Tn(i),p=uj(s);return v.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),h.jsx(V2,{...a,children:h.jsx(aX,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:h.jsx(lX,{scope:e,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};wj.displayName=jh;var cX="MenuAnchor",Lb=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=zg(n);return h.jsx(Ab,{...s,...r,ref:e})});Lb.displayName=cX;var Fb="MenuPortal",[uX,xj]=Ua(Fb,{forceMount:void 0}),bj=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=$a(Fb,e);return h.jsx(uX,{scope:e,forceMount:n,children:h.jsx(Gr,{present:n||i.open,children:h.jsx(uh,{asChild:!0,container:s,children:r})})})};bj.displayName=Fb;var wr="MenuContent",[dX,Vb]=Ua(wr),Ej=v.forwardRef((t,e)=>{const n=xj(wr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=$a(wr,t.__scopeMenu),o=Mh(wr,t.__scopeMenu);return h.jsx(Yd.Provider,{scope:t.__scopeMenu,children:h.jsx(Gr,{present:r||i.open,children:h.jsx(Yd.Slot,{scope:t.__scopeMenu,children:o.modal?h.jsx(hX,{...s,ref:e}):h.jsx(fX,{...s,ref:e})})})})}),hX=v.forwardRef((t,e)=>{const n=$a(wr,t.__scopeMenu),r=v.useRef(null),s=kt(e,r);return v.useEffect(()=>{const i=r.current;if(i)return Kx(i)},[]),h.jsx(Ub,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),fX=v.forwardRef((t,e)=>{const n=$a(wr,t.__scopeMenu);return h.jsx(Ub,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ub=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:y,...w}=t,E=$a(wr,n),b=Mh(wr,n),x=zg(n),T=_j(n),k=iX(n),[D,L]=v.useState(null),C=v.useRef(null),S=kt(e,C,E.onContentChange),I=v.useRef(0),R=v.useRef(""),O=v.useRef(0),N=v.useRef(null),A=v.useRef("right"),H=v.useRef(0),le=y?Sg:v.Fragment,ae=y?{as:ti,allowPinchZoom:!0}:void 0,K=z=>{var bt,Sr;const X=R.current+z,ue=k().filter(qt=>!qt.disabled),Ee=document.activeElement,Ue=(bt=ue.find(qt=>qt.ref.current===Ee))==null?void 0:bt.textValue,It=ue.map(qt=>qt.textValue),rn=SX(It,X,Ue),Pt=(Sr=ue.find(qt=>qt.textValue===rn))==null?void 0:Sr.ref.current;(function qt(lr){R.current=lr,window.clearTimeout(I.current),lr!==""&&(I.current=window.setTimeout(()=>qt(""),1e3))})(X),Pt&&setTimeout(()=>Pt.focus())};v.useEffect(()=>()=>window.clearTimeout(I.current),[]),qx();const F=v.useCallback(z=>{var ue,Ee;return A.current===((ue=N.current)==null?void 0:ue.side)&&kX(z,(Ee=N.current)==null?void 0:Ee.area)},[]);return h.jsx(dX,{scope:n,searchRef:R,onItemEnter:v.useCallback(z=>{F(z)&&z.preventDefault()},[F]),onItemLeave:v.useCallback(z=>{var X;F(z)||((X=C.current)==null||X.focus(),L(null))},[F]),onTriggerLeave:v.useCallback(z=>{F(z)&&z.preventDefault()},[F]),pointerGraceTimerRef:O,onPointerGraceIntentChange:v.useCallback(z=>{N.current=z},[]),children:h.jsx(le,{...ae,children:h.jsx(Eg,{asChild:!0,trapped:s,onMountAutoFocus:pe(i,z=>{var X;z.preventDefault(),(X=C.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:h.jsx(ch,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:h.jsx(XJ,{asChild:!0,...T,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:L,onEntryFocus:pe(l,z=>{b.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(U2,{role:"menu","aria-orientation":"vertical","data-state":Vj(E.open),"data-radix-menu-content":"",dir:b.dir,...x,...w,ref:S,style:{outline:"none",...w.style},onKeyDown:pe(w.onKeyDown,z=>{const ue=z.target.closest("[data-radix-menu-content]")===z.currentTarget,Ee=z.ctrlKey||z.altKey||z.metaKey,Ue=z.key.length===1;ue&&(z.key==="Tab"&&z.preventDefault(),!Ee&&Ue&&K(z.key));const It=C.current;if(z.target!==It||!nX.includes(z.key))return;z.preventDefault();const Pt=k().filter(bt=>!bt.disabled).map(bt=>bt.ref.current);vj.includes(z.key)&&Pt.reverse(),EX(Pt)}),onBlur:pe(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(I.current),R.current="")}),onPointerMove:pe(t.onPointerMove,Zd(z=>{const X=z.target,ue=H.current!==z.clientX;if(z.currentTarget.contains(X)&&ue){const Ee=z.clientX>H.current?"right":"left";A.current=Ee,H.current=z.clientX}}))})})})})})})});Ej.displayName=wr;var pX="MenuGroup",$b=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(He.div,{role:"group",...r,ref:e})});$b.displayName=pX;var mX="MenuLabel",Tj=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(He.div,{...r,ref:e})});Tj.displayName=mX;var Rm="MenuItem",YC="menu.itemSelect",Wg=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=v.useRef(null),o=Mh(Rm,t.__scopeMenu),a=Vb(Rm,t.__scopeMenu),l=kt(e,i),c=v.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(YC,{bubbles:!0,cancelable:!0});f.addEventListener(YC,g=>r==null?void 0:r(g),{once:!0}),V0(f,p),p.defaultPrevented?c.current=!1:o.onClose()}};return h.jsx(Sj,{...s,ref:l,disabled:n,onClick:pe(t.onClick,d),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),c.current=!0},onPointerUp:pe(t.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:pe(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||Mw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Wg.displayName=Rm;var Sj=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Vb(Rm,n),a=_j(n),l=v.useRef(null),c=kt(e,l),[d,f]=v.useState(!1),[p,g]=v.useState("");return v.useEffect(()=>{const y=l.current;y&&g((y.textContent??"").trim())},[i.children]),h.jsx(Yd.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:h.jsx(eX,{asChild:!0,...a,focusable:!r,children:h.jsx(He.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:pe(t.onPointerMove,Zd(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,Zd(y=>o.onItemLeave(y))),onFocus:pe(t.onFocus,()=>f(!0)),onBlur:pe(t.onBlur,()=>f(!1))})})})}),gX="MenuCheckboxItem",Cj=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return h.jsx(Rj,{scope:t.__scopeMenu,checked:n,children:h.jsx(Wg,{role:"menuitemcheckbox","aria-checked":Nm(n)?"mixed":n,...s,ref:e,"data-state":zb(n),onSelect:pe(s.onSelect,()=>r==null?void 0:r(Nm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Cj.displayName=gX;var kj="MenuRadioGroup",[vX,yX]=Ua(kj,{value:void 0,onValueChange:()=>{}}),Ij=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Tn(r);return h.jsx(vX,{scope:t.__scopeMenu,value:n,onValueChange:i,children:h.jsx($b,{...s,ref:e})})});Ij.displayName=kj;var Pj="MenuRadioItem",Aj=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=yX(Pj,t.__scopeMenu),i=n===s.value;return h.jsx(Rj,{scope:t.__scopeMenu,checked:i,children:h.jsx(Wg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":zb(i),onSelect:pe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});Aj.displayName=Pj;var Bb="MenuItemIndicator",[Rj,_X]=Ua(Bb,{checked:!1}),Nj=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=_X(Bb,n);return h.jsx(Gr,{present:r||Nm(i.checked)||i.checked===!0,children:h.jsx(He.span,{...s,ref:e,"data-state":zb(i.checked)})})});Nj.displayName=Bb;var wX="MenuSeparator",Dj=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(He.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Dj.displayName=wX;var xX="MenuArrow",Oj=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=zg(n);return h.jsx($2,{...s,...r,ref:e})});Oj.displayName=xX;var bX="MenuSub",[zee,jj]=Ua(bX),Mu="MenuSubTrigger",Mj=v.forwardRef((t,e)=>{const n=$a(Mu,t.__scopeMenu),r=Mh(Mu,t.__scopeMenu),s=jj(Mu,t.__scopeMenu),i=Vb(Mu,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),h.jsx(Lb,{asChild:!0,...c,children:h.jsx(Sj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Vj(n.open),...t,ref:Ym(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,Zd(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:pe(t.onPointerLeave,Zd(f=>{var g,y;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const w=(y=n.content)==null?void 0:y.dataset.side,E=w==="right",b=E?-5:5,x=p[E?"left":"right"],T=p[E?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x,y:p.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,f=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||rX[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});Mj.displayName=Mu;var Lj="MenuSubContent",Fj=v.forwardRef((t,e)=>{const n=xj(wr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=$a(wr,t.__scopeMenu),o=Mh(wr,t.__scopeMenu),a=jj(Lj,t.__scopeMenu),l=v.useRef(null),c=kt(e,l);return h.jsx(Yd.Provider,{scope:t.__scopeMenu,children:h.jsx(Gr,{present:r||i.open,children:h.jsx(Yd.Slot,{scope:t.__scopeMenu,children:h.jsx(Ub,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pe(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:pe(t.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),p=sX[o.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});Fj.displayName=Lj;function Vj(t){return t?"open":"closed"}function Nm(t){return t==="indeterminate"}function zb(t){return Nm(t)?"indeterminate":t?"checked":"unchecked"}function EX(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function TX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function SX(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=TX(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function CX(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function kX(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return CX(n,e)}function Zd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var IX=wj,PX=Lb,AX=bj,RX=Ej,NX=$b,DX=Tj,OX=Wg,jX=Cj,MX=Ij,LX=Aj,FX=Nj,VX=Dj,UX=Oj,$X=Mj,BX=Fj,Wb="DropdownMenu",[zX,Wee]=Ac(Wb,[yj]),In=yj(),[WX,Uj]=zX(Wb),$j=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=In(e),c=v.useRef(null),[d=!1,f]=Rc({prop:s,defaultProp:i,onChange:o});return h.jsx(WX,{scope:e,triggerId:ua(),triggerRef:c,contentId:ua(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(p=>!p),[f]),modal:a,children:h.jsx(IX,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};$j.displayName=Wb;var Bj="DropdownMenuTrigger",zj=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=Uj(Bj,n),o=In(n);return h.jsx(PX,{asChild:!0,...o,children:h.jsx(He.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ym(e,i.triggerRef),onPointerDown:pe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:pe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});zj.displayName=Bj;var HX="DropdownMenuPortal",Wj=t=>{const{__scopeDropdownMenu:e,...n}=t,r=In(e);return h.jsx(AX,{...r,...n})};Wj.displayName=HX;var Hj="DropdownMenuContent",qj=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Uj(Hj,n),i=In(n),o=v.useRef(!1);return h.jsx(RX,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qj.displayName=Hj;var qX="DropdownMenuGroup",KX=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return h.jsx(NX,{...s,...r,ref:e})});KX.displayName=qX;var GX="DropdownMenuLabel",Kj=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return h.jsx(DX,{...s,...r,ref:e})});Kj.displayName=GX;var QX="DropdownMenuItem",Gj=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return h.jsx(OX,{...s,...r,ref:e})});Gj.displayName=QX;var YX="DropdownMenuCheckboxItem",Qj=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return h.jsx(jX,{...s,...r,ref:e})});Qj.displayName=YX;var ZX="DropdownMenuRadioGroup",JX=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return h.jsx(MX,{...s,...r,ref:e})});JX.displayName=ZX;var XX="DropdownMenuRadioItem",Yj=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return h.jsx(LX,{...s,...r,ref:e})});Yj.displayName=XX;var eee="DropdownMenuItemIndicator",Zj=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return h.jsx(FX,{...s,...r,ref:e})});Zj.displayName=eee;var tee="DropdownMenuSeparator",Jj=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return h.jsx(VX,{...s,...r,ref:e})});Jj.displayName=tee;var nee="DropdownMenuArrow",ree=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return h.jsx(UX,{...s,...r,ref:e})});ree.displayName=nee;var see="DropdownMenuSubTrigger",Xj=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return h.jsx($X,{...s,...r,ref:e})});Xj.displayName=see;var iee="DropdownMenuSubContent",eM=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return h.jsx(BX,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eM.displayName=iee;var oee=$j,aee=zj,lee=Wj,tM=qj,nM=Kj,rM=Gj,sM=Qj,iM=Yj,oM=Zj,aM=Jj,lM=Xj,cM=eM;const cee=oee,uee=aee,dee=v.forwardRef(({className:t,inset:e,children:n,...r},s)=>h.jsxs(lM,{ref:s,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,h.jsx(_A,{className:"ml-auto h-4 w-4"})]}));dee.displayName=lM.displayName;const hee=v.forwardRef(({className:t,...e},n)=>h.jsx(cM,{ref:n,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));hee.displayName=cM.displayName;const uM=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(lee,{children:h.jsx(tM,{ref:r,sideOffset:e,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));uM.displayName=tM.displayName;const vp=v.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(rM,{ref:r,className:ce("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));vp.displayName=rM.displayName;const fee=v.forwardRef(({className:t,children:e,checked:n,...r},s)=>h.jsxs(sM,{ref:s,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(oM,{children:h.jsx(yA,{className:"h-4 w-4"})})}),e]}));fee.displayName=sM.displayName;const pee=v.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(iM,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(oM,{children:h.jsx(_U,{className:"h-2 w-2 fill-current"})})}),e]}));pee.displayName=iM.displayName;const mee=v.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(nM,{ref:r,className:ce("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));mee.displayName=nM.displayName;const Lw=v.forwardRef(({className:t,...e},n)=>h.jsx(aM,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));Lw.displayName=aM.displayName;function gee({toggleSidebar:t}){var l,c;const{user:e,logout:n}=qn(),[r,s]=v.useState(!1),i=async()=>{await n(),window.location.href="/login"},o=d=>d.split(" ").map(f=>f[0]).join("").toUpperCase(),a=e!=null&&e.fullName?o(e.fullName):((c=(l=e==null?void 0:e.username)==null?void 0:l[0])==null?void 0:c.toUpperCase())||"U";return h.jsx("nav",{className:"bg-white border-b border-gray-200 fixed z-30 w-full",children:h.jsx("div",{className:"px-3 py-3 lg:px-5 lg:pl-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center justify-start",children:[h.jsx("button",{"aria-expanded":"true","aria-controls":"sidebar",onClick:t,className:"lg:hidden mr-2 text-gray-600 hover:text-gray-900 cursor-pointer p-2 hover:bg-gray-100 focus:bg-gray-100 focus:ring-2 focus:ring-gray-100 rounded",children:h.jsx(TU,{className:"w-6 h-6"})}),h.jsxs(io,{href:"/",className:"text-xl font-bold flex items-center lg:ml-2.5",children:[h.jsx("span",{className:"text-primary",children:"Cool"}),h.jsx("span",{className:"text-gray-900",children:"Track"})]})]}),e&&h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"hidden lg:flex items-center",children:h.jsx("span",{className:"text-base font-normal text-gray-500 mr-5",children:e.email})}),h.jsx("div",{className:"ml-3 relative",children:h.jsxs(cee,{open:r,onOpenChange:s,children:[h.jsx(uee,{asChild:!0,children:h.jsx(Ge,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:h.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white font-medium",children:a})})}),h.jsxs(uM,{align:"end",className:"w-56",children:[h.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:h.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[e.fullName&&h.jsx("p",{className:"font-medium",children:e.fullName}),h.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]})}),h.jsx(Lw,{}),h.jsx(vp,{asChild:!0,children:h.jsxs(io,{href:"/profile",className:"cursor-pointer flex w-full items-center",children:[h.jsx(xA,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Profile"})]})}),h.jsx(vp,{asChild:!0,children:h.jsxs(io,{href:"/profile",className:"cursor-pointer flex w-full items-center",children:[h.jsx(IU,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Settings"})]})}),h.jsx(Lw,{}),h.jsxs(vp,{className:"cursor-pointer",onSelect:()=>i(),children:[h.jsx(wA,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Log out"})]})]})]})})]})]})})})}function vee({isOpen:t,onClose:e}){const[n]=Ma(),{logout:r}=qn(),s=async()=>{await r(),window.location.href="/login"},i=[{label:"Dashboard",icon:h.jsx(xU,{className:"w-6 h-6 group-hover:text-primary-600"}),path:"/"},{label:"AC Units",icon:h.jsx(gU,{className:"w-6 h-6 group-hover:text-primary-600"}),path:"/ac-units"},{label:"Reminders",icon:h.jsx(vA,{className:"w-6 h-6 group-hover:text-primary-600"}),path:"/reminders",badge:2},{label:"Profile",icon:h.jsx(xA,{className:"w-6 h-6 group-hover:text-primary-600"}),path:"/profile"}],o=[{label:"Documentation",icon:h.jsx(wU,{className:"w-6 h-6 group-hover:text-primary-600"}),path:"#"},{label:"Help & Support",icon:h.jsx(yU,{className:"w-6 h-6 group-hover:text-primary-600"}),path:"#"}];return h.jsxs(h.Fragment,{children:[t&&h.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-50 lg:hidden",onClick:e}),h.jsx("aside",{id:"sidebar",className:ce("fixed z-30 h-full top-0 left-0 pt-16 flex flex-shrink-0 flex-col w-64 transition-all duration-300 lg:flex",t?"translate-x-0":"-translate-x-full lg:translate-x-0"),"aria-label":"Sidebar",children:h.jsx("div",{className:"relative flex-1 flex flex-col min-h-0 border-r border-gray-200 bg-white pt-0",children:h.jsx("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:h.jsxs("div",{className:"flex-1 px-3 bg-white divide-y space-y-1",children:[h.jsx("ul",{className:"space-y-2 pb-2",children:i.map(a=>h.jsx("li",{children:h.jsxs(io,{href:a.path,className:ce("text-base font-normal rounded-lg flex items-center p-2 group",n===a.path?"text-primary-600 bg-primary-50":"text-gray-900 hover:bg-gray-100"),children:[be.cloneElement(a.icon,{className:ce("w-6 h-6",n===a.path?"text-primary-600":"text-gray-500 group-hover:text-gray-900")}),h.jsx("span",{className:"ml-3 flex-1 whitespace-nowrap",children:a.label}),a.badge&&h.jsx("span",{className:"bg-primary-100 text-primary-800 text-xs font-medium inline-flex items-center justify-center px-2 rounded-full",children:a.badge})]})},a.path))}),h.jsxs("div",{className:"space-y-2 pt-2",children:[o.map(a=>h.jsxs(io,{href:a.path,className:"text-base text-gray-900 font-normal rounded-lg hover:bg-gray-100 group transition duration-75 flex items-center p-2",children:[be.cloneElement(a.icon,{className:"w-6 h-6 text-gray-500 group-hover:text-gray-900"}),h.jsx("span",{className:"ml-3",children:a.label})]},a.label)),h.jsxs("button",{onClick:s,className:"w-full text-left text-base text-gray-900 font-normal rounded-lg hover:bg-gray-100 group transition duration-75 flex items-center p-2",children:[h.jsx(wA,{className:"w-6 h-6 text-gray-500 group-hover:text-gray-900"}),h.jsx("span",{className:"ml-3",children:"Sign Out"})]})]})]})})})})]})}function yee({children:t}){const[e,n]=v.useState(!1),r=()=>{n(!e)};return h.jsxs("div",{className:"min-h-screen flex flex-col",children:[h.jsx(gee,{toggleSidebar:r}),h.jsxs("div",{className:"flex overflow-hidden pt-16",children:[h.jsx(vee,{isOpen:e,onClose:()=>n(!1)}),h.jsxs("div",{id:"main-content",className:"h-full w-full bg-gray-50 relative overflow-y-auto lg:ml-64",children:[h.jsx("main",{className:"py-10 px-4 sm:px-6 lg:px-8",children:t}),h.jsxs("footer",{className:"bg-white p-4 sm:p-6 border-t border-gray-200",children:[h.jsxs("div",{className:"md:flex md:justify-between",children:[h.jsx("div",{className:"mb-6 md:mb-0",children:h.jsx(io,{href:"/",className:"flex items-center",children:h.jsxs("span",{className:"text-xl font-bold flex items-center",children:[h.jsx("span",{className:"text-primary",children:"Cool"}),h.jsx("span",{className:"text-gray-900",children:"Track"})]})})}),h.jsxs("div",{className:"grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"mb-6 text-sm font-semibold text-gray-900 uppercase",children:"Resources"}),h.jsxs("ul",{className:"text-gray-600",children:[h.jsx("li",{className:"mb-4",children:h.jsx("a",{href:"#",className:"hover:underline",children:"Documentation"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:underline",children:"API"})})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"mb-6 text-sm font-semibold text-gray-900 uppercase",children:"Legal"}),h.jsxs("ul",{className:"text-gray-600",children:[h.jsx("li",{className:"mb-4",children:h.jsx("a",{href:"#",className:"hover:underline",children:"Privacy Policy"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:underline",children:"Terms & Conditions"})})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"mb-6 text-sm font-semibold text-gray-900 uppercase",children:"Contact"}),h.jsxs("ul",{className:"text-gray-600",children:[h.jsx("li",{className:"mb-4",children:h.jsx("a",{href:"#",className:"hover:underline",children:"Support"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:underline",children:"Contact Us"})})]})]})]})]}),h.jsx("hr",{className:"my-6 border-gray-200 sm:mx-auto lg:my-8"}),h.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[h.jsxs("span",{className:"text-sm text-gray-500 sm:text-center",children:["© ",new Date().getFullYear()," ",h.jsx("a",{href:"#",className:"hover:underline",children:"CoolTrack™"}),". All Rights Reserved."]}),h.jsxs("div",{className:"flex mt-4 space-x-6 sm:justify-center sm:mt-0",children:[h.jsx("a",{href:"#",className:"text-gray-500 hover:text-gray-900",children:h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:h.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})}),h.jsx("a",{href:"#",className:"text-gray-500 hover:text-gray-900",children:h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:h.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})}),h.jsx("a",{href:"#",className:"text-gray-500 hover:text-gray-900",children:h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:h.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})})]})]})]})]})]})]})}function Ff({component:t}){const{user:e,isLoading:n}=qn(),[r,s]=Ma();return n?h.jsx("div",{className:"flex h-screen items-center justify-center",children:h.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-primary"})}):e?h.jsx(yee,{children:h.jsx(t,{})}):(s("/login"),null)}function ZC({component:t}){const{user:e,isLoading:n}=qn(),[r,s]=Ma();return n?h.jsx("div",{className:"flex h-screen items-center justify-center",children:h.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-primary"})}):e?(s("/"),null):h.jsx(t,{})}function _ee(){return h.jsxs(vV,{children:[h.jsx(Bo,{path:"/login",component:()=>h.jsx(ZC,{component:EJ})}),h.jsx(Bo,{path:"/signup",component:()=>h.jsx(ZC,{component:TJ})}),h.jsx(Bo,{path:"/",component:()=>h.jsx(Ff,{component:iJ})}),h.jsx(Bo,{path:"/profile",component:()=>h.jsx(Ff,{component:OJ})}),h.jsx(Bo,{path:"/ac-units",component:()=>h.jsx(Ff,{component:jJ})}),h.jsx(Bo,{path:"/reminders",component:()=>h.jsx(Ff,{component:VJ})}),h.jsx(Bo,{component:p3})]})}function wee(){return h.jsxs(rW,{children:[h.jsx(_ee,{}),h.jsx(f3,{})]})}Uz();bP(document.getElementById("root")).render(h.jsx(PF,{client:oW,children:h.jsx(wee,{})}));export{lk as g};
